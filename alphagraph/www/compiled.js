(function(){var da=Object.create||function(a){return{__proto__:a}};function cc(a,b){a.prototype=da(b.prototype),a.prototype.constructor=a}var G;function gc(){z(window,'load',function(){var a=document.getElementById('graph-application');a.style.width=a.style.height='100%',new fc(a)})}function qa(a,b,c,d,e){var f=null,g=null,h=zb(a,c,d);if(h.length>0){f=h[0],x(b,yb(f));switch(f.a){case 0:(!e||e(f.b))&&(b.g=f.b,g='Snap to node');break;case 1:b.d=new hc(0,f.c,null,null,null,null),g='Constrain to midpoint';break;case 2:b.d=new hc(1,null,f.e,null,null,null),g='Constrain to altitude base';break;case 3:b.d=new hc(2,null,null,f.d,null,null),g='Constrain to intersection';break}}return new Gc(f,g)}function Db(a){switch(a){case 1:return'icons/tool-move.svg';case 2:return'icons/tool-edge.svg';case 3:return'icons/tool-circle.svg'}return null}function Fb(a,b){for(var c=[],e=0,f=O(b,a),g=f.length;e<g;e=e+1|0){var d=f[e];l(d)&&l(d).a==3?Y(c,l(d).e):Y(c,null)}return c}function ra(){return u(function(a){a.a.a.color=q(Sa),a.a.a.cursor='pointer'})}
function aa(a,b,c,d){var e=(a.a-b.a)*(c.b-d.b)-(a.b-b.b)*(c.a-d.a),f=(a.a*b.b-a.b*b.a)*(c.a-d.a)-(a.a-b.a)*(c.a*d.b-c.b*d.a),g=(a.a*b.b-a.b*b.a)*(c.b-d.b)-(a.b-b.b)*(c.a*d.b-c.b*d.a);return new Uc(f/e,g/e)}function Mb(a,b,c){var d=ba(U(m(b,c),1.5707963267948966));return aa(a,v(a,d),b,c)}function Nb(a,b,c){var d=I(v(a,b),2),e=I(v(b,c),2);return aa(d,v(d,ba(U(m(a,b),1.5707963267948966))),e,v(e,ba(U(m(b,c),1.5707963267948966))))}function Ja(a,b,c){var d=E(m(a,b)),e=E(m(a,c)),f=E(m(b,c)),g=Math.pow(d,2),h=Math.pow(e,2),j=Math.pow(f,2);if(h>g+j)return d;else if(g>h+j)return e;else{var n=(d+e+f)/2;return 2/f*Math.sqrt(n*(n-d)*(n-e)*(n-f))}}function Tb(a){for(var b=0,c=0,d=a.length;c<d;c=c+1|0)b=((b<<5)-b|0)+a.charCodeAt(c)|0;return b}function Aa(b,a){a!=b.a&&(b.a=a,b.c=!0)}function ga(b,a){b.b!=a&&(b.b=a,b.c=!0)}function Za(b,a){b.f=a,b.a.e=!0}function r(e,a,b){var c=!0;switch(a){case 5:e.d===b?c=!1:e.d=b;break;case 6:e.e===b?c=!1:e.e=b;break;case 7:ab(e.a,b);break}if(c)for(var f=0,g=e.g,h=g.length;f<h;f=f+1|0){var d=g[f];
R(d,a,b)}}function R(k,a,b){var c=B(k.d.a.d);switch(a){case 0:R(k,4,new Oc([new wc(k.d,c),new oc(k.d,function(d){R(k,3,null),R(k,2,d)})]));break;case 1:for(var p=0,s=O(B(k.d.a.d),k.d.a),t=s.length;p<t;p=p+1|0){var e=s[p],f=i(e);e.d=null,x(e,f)}break;case 2:for(var g=b,o=0,H=O(B(k.d.a.d),k.d.a),Q=H.length;o<Q;o=o+1|0){var h=H[o];h.d=new hc(3,null,null,null,g,m(i(h),i(g)))}break;case 3:k.j=null,R(k,5,k.d.d);break;case 4:k.j=new Oc(k.g.a.P.slice()),La(k.g);var j=b;k.g.a.P.push(j);break;case 5:La(k.g);var n=new Lc(function(){return Pb(32)},new tc(k.d));k.g.a.P.push(n),k.g.a.P.push(new wc(k.d,new xc));switch(k.d.d){case 1:k.g.a.P.push(new pc(k.d,new uc(k.d),new Oc([new sc(k.d),new vc(k.d)])));break;case 2:k.g.a.P.push(new rc(k.d));break;case 3:k.g.a.P.push(new qc(k.d));break}ha(k);break;case 6:ha(k);break;case 7:ha(k);break}}function ha(d){var a=new Ic(d.b,d.d.e,d.d.d,function(b,c){r(d.d,b,c)},d.d);ReactDOM.render(React.createElement(new Hc.GraphAppView.constructor,Eb(a)),d.a)}function Ba(b){var a=b.b.getBoundingClientRect();
b.b.width=a.width*window.devicePixelRatio|0,b.b.height=a.height*window.devicePixelRatio|0,b.c.e=!0}function Ca(a){switch(a.a){case 0:return[a.b.c,a.b.d];case 1:return[a.c.a,a.c.b,a.c.c];case 2:return[a.d.a.c,a.d.a.d,a.d.b.c,a.d.b.d];case 3:return[a.e]}throw new Error('Unhandles constraint type')}function l(b){b.e=!0;var a=null;return a=b.g?l(b.g):b.d,b.e=!1,a}function i(b){b.f=!0;var a=null;return a=b.g?i(b.g):l(b)&&!l(b).a?ia(l(b).b):l(b)&&l(b).a==1?_(l(b).c):l(b)&&l(b).a==2?pa(l(b).d):l(b)&&l(b).a==3?v(i(l(b).e),l(b).f):b.c,b.f=!1,a}function _a(d,a){var b=[];for(l(d)&&za(b,Ca(l(d)));b.length;){var c=b.pop();if(c==a)return!0;l(c)&&za(b,Ca(l(c)))}return!1}function x(b,a){return b.c=a,b.b.e=!0,b}function ia(a){return I(v(i(a.c),i(a.d)),2)}function ja(){return Qa=Qa+1|0,Qa}function $a(b,a){b.c=a,b.e=!0}function ab(b,a){b.d=a,b.e=!0}function S(b){var a=new ic(b);return b.a.push(a),b.e=!0,a}function D(g,a,b){ea(g.a,a);for(var c=[],h=0,j=g.b,n=j.length;h<n;h=h+1|0){var d=j[h];(d.c==a||d.d==a)&&c.push(d)}for(var k=0,p=c.length;k<p;k=k+1|0){
var e=c[k];ea(g.b,e)}if(a.a in g.f)for(var s=0,t=g.f[a.a],o=t.length;s<o;s=s+1|0){var f=t[s];Va(f,a,b)}g.e=!0}function bb(d,a,b){if(!la(d,a,b)){var c=new jc(d,a,b);d.b.push(c),d.e=!0}}function cb(c,a){ea(c.b,a);for(var d=0,e=c.a,f=e.length;d<f;d=d+1|0){var b=e[d];if(l(b)&&l(b).b==a)throw new Error('Deleting edge that a node is constrained to')}c.e=!0}function ka(h,a,b){if(a!=b){var c=la(h,a,b);if(c){var d=ib(h,c);d&&D(h,d,null);for(var e=jb(h,c),j=0,n=e.length;j<n;j=j+1|0){var f=e[j];D(h,f,null)}cb(h,c)}for(var k=0,p=h.b,s=p.length;k<s;k=k+1|0){var g=p[k];g.c==a&&(g.c=b),g.d==a&&(g.d=b)}D(h,a,b),hb(h)}}function Da(c,a){for(var d=0,e=c.a,f=e.length;d<f;d=d+1|0){var b=e[d];if(b.a==a)return b}return null}function la(e,a,b){for(var c=null,f=0,g=e.b,h=g.length;f<h;f=f+1|0){var d=g[f];(d.c==a&&d.d==b||d.c==b&&d.d==a)&&(c=d)}return c}function db(d,a){for(var b=[],e=0,f=d.b,g=f.length;e<g;e=e+1|0){var c=f[e];c.c==a?b.push(c.d):c.d==a&&b.push(c.c)}return b}function Ea(e,a,b){for(var c=[],f=0,g=e.a,h=g.length;f<h;f=f+1|0){
var d=g[f];E(m(i(d),a))<4+b&&c.push(d)}return c}function eb(e,a,b){for(var c=[],f=0,g=e.b,h=g.length;f<h;f=f+1|0){var d=g[f];E(m(ia(d),a))<b&&c.push(d)}return c}function fb(g,a,b){for(var c=[],k=0,p=g.b,s=p.length;k<s;k=k+1|0){var d=p[k];if(Ja(a,i(d.c),i(d.d))<b)for(var h=0,j=db(g,d.c),n=j.length;h<n;h=h+1|0){var e=j[h];if(la(g,e,d.d)){var f=new Dc(e,d.c,d.d);E(m(_(f),a))<b&&c.push(f)}}}return c}function gb(k,a,b){for(var c=[],p=0,s=k.b,t=s.length;p<t;p=p+1|0){var d=s[p];Ja(a,i(d.c),i(d.d))<b&&c.push(d)}for(var e=[],f=0,H=c.length-1|0;f<H;f=f+1|0)for(var g=f+1|0,o=c.length;g<o;g=g+1|0){var h=c[f],j=c[g],n=aa(i(h.c),i(h.d),i(j.c),i(j.d));E(m(n,a))<b&&e.push(new Ec(h,j))}return e}function hb(b){for(var c=0,d=b.a,e=d.length;c<e;c=c+1|0)var a=d[c]}function ib(c,a){for(var d=0,e=c.a,f=e.length;d<f;d=d+1|0){var b=e[d];if(l(b)&&!l(b).a&&l(b).b==a)return b}return null}function jb(d,a){for(var b=[],e=0,f=d.a,g=f.length;e<g;e=e+1|0){var c=f[e];l(c)&&l(c).c&&xb(l(c).c,a)&&b.push(c)}return b}function ma(c,a,b){a.a in c.f||(c.f[a.a]=[]),
Y(c.f[a.a],b)}function Va(d,a,b){var c=b==null||b==d.d||b==d.e||b==d.f;c?Wa(d.b.b,d):a==d.d?d.d=b:a==d.e?d.e=b:a==d.f&&(d.f=b)}function na(a){return Nb(i(a.d),i(a.e),i(a.f))}function kb(a){return E(m(na(a),i(a.d)))}function lb(d,a,b,c){return d.b.push(new lc(d.a,d,a,b,c)),Xa(d.b)}function N(a){switch(a.p){case 0:return a.h;case 1:return a.j;case 2:return a.n}throw new Error('Invalid _state')}function Fa(a){switch(a.p){case 0:a.p=1;break;case 1:a.p=2;break;case 2:a.p=0,a.h=S(a.a.a),a.j=S(a.a.a),a.n=S(a.a.a),a.k=lb(a.a.b,a.h,a.j,a.n);break}}function mb(c,a){var b=B(c.a.a.d);a.a in b.a||(b.a[a.a]=!0,r(c.a,7,b))}function nb(a){a.W&&(a.W.style.cursor=null),a.X=a.V=a.W=null}function B(b){var a=new xc;return a.a=Ya(b.a),a}function O(e,a){for(var b=[],f=0,g=fa(e.a),h=g.length;f<h;f=f+1|0){var c=g[f],d=Da(a,c);d&&b.push(d)}return b}function pb(j,a){var b=_b,c=Sa,d=wa,e=Lb,f=a.a in B(j.c.d).a,g=l(a)!=null,h=null;return f&&g?h=e:f&&!g?h=c:!f&&g?h=d:!f&&!g&&(h=b),h=sa(h),a==j.c.c&&Jb(h,.1),q(h)}function qb(c,a){var b=i(a);
c.b.beginPath(),c.b.arc(b.a,b.b,a==c.c.c?4.5:4,0,6.283185307179586),c.b.fillStyle=pb(c,a),c.b.strokeStyle=q($b),c.b.fill()}function rb(b,a){b.b.beginPath(),b.b.moveTo(i(a.c).a,i(a.c).b),b.b.lineTo(i(a.d).a,i(a.d).b),b.b.lineWidth=1,b.b.strokeStyle=q(Kb),b.b.stroke()}function sb(b,a){b.b.beginPath(),b.b.arc(na(a).a,na(a).b,kb(a),0,6.283185307179586),b.b.lineWidth=1,b.b.strokeStyle=q(Kb),b.b.stroke()}function tb(f,a){f.b.save(),f.b.scale(window.devicePixelRatio,window.devicePixelRatio),f.b.translate(a.f.a,a.f.b),f.c=a.a;var b=f.a.getBoundingClientRect();f.b.clearRect(-a.f.a,-a.f.b,b.width,b.height);for(var g=0,h=a.a.b,j=h.length;g<j;g=g+1|0){var c=h[g];rb(f,c)}for(var n=0,k=a.b.b,p=k.length;n<p;n=n+1|0){var d=k[n];sb(f,d)}for(var s=0,t=a.a.a,o=t.length;s<o;s=s+1|0){var e=t[s];qb(f,e)}f.b.restore(),a.a.e=!1}function Ga(f,a,b){var c=U(b,1.5707963267948966);f.b.beginPath();var d=v(m(a,T(b,1)),I(T(c,10),2)),e=m(d,T(c,10));f.b.moveTo(d.a,d.b),f.b.lineTo(e.a,e.b),Oa(d,T(b,2)),Oa(e,T(b,2)),f.b.moveTo(d.a,d.b),f.b.lineTo(e.a,
e.b),f.b.strokeStyle=q(wa),f.b.lineWidth=1,f.b.stroke()}function ub(o,a){o.b.save(),o.b.scale(window.devicePixelRatio,window.devicePixelRatio),o.b.translate(a.f.a,a.f.b);var b=a.c.b;if(b)switch(b.a){case 0:var c=b.b,d=i(c);o.b.beginPath(),o.b.arc(d.a,d.b,5,0,6.283185307179586),o.b.strokeStyle=q(wa),o.b.lineWidth=2,o.b.stroke();break;case 1:var e=i(b.c.c),f=i(b.c.d),g=I(v(e,f),2),h=ba(m(f,e));Ga(o,I(v(e,g),2),h),Ga(o,I(v(f,g),2),h);break;case 2:var j=i(b.e.a),n=_(b.e);o.b.beginPath(),o.b.moveTo(n.a,n.b),o.b.lineTo(j.a,j.b),o.b.strokeStyle=q(wa),o.b.lineWidth=1,o.b.stroke();break;case 3:var k=pa(b.d);o.b.beginPath(),o.b.arc(k.a,k.b,5,0,6.283185307179586),o.b.strokeStyle=q(wa),o.b.lineWidth=2,o.b.stroke();break}var p=a.c.a;if(p){var s=sa(Lb);s.d=.3;var t=sa(Sa);t.d=.6,o.b.beginPath(),o.b.rect(p.a.a,p.a.b,p.b.a,p.b.b),o.b.lineWidth=1,o.b.fillStyle=q(s),o.b.strokeStyle=q(t),o.b.fill(),o.b.stroke()}o.b.restore(),a.c.c=!1}function vb(g,a,b){g.e.a=g.a.a,a.d=a.g=null,x(a,b);for(var c=new xc.Z([a]),d=qa(g.e,a,b,c,null),e=m(i(a),
g.c[a.a]),h=0,j=O(g.b,g.a.a),n=j.length;h<n;h=h+1|0){var f=j[h];l(f)||x(f,v(g.c[f.a],e))}return d}function wb(b,a){if(a^27){if(a^32){if(a>32)return String.fromCharCode(a)}else return'Space'}else return'Esc';return'unknown'}function yb(a){switch(a.a){case 0:return i(a.b);case 1:return ia(a.c);case 2:return _(a.e);case 3:return pa(a.d)}return Vb()}function _(a){return Mb(i(a.a),i(a.b),i(a.c))}function xb(b,a){return a.c==b.a&&a.d==b.b||a.c==b.b&&a.d==b.a||a.c==b.b&&a.d==b.c||a.c==b.c&&a.d==b.b||a.c==b.c&&a.d==b.a||a.c==b.a&&a.d==b.c}function pa(a){return aa(i(a.a.c),i(a.a.d),i(a.b.c),i(a.b.d))}function zb(p,a,b){for(var c=[],d=Ea(p.a,a,10),s=0,t=d.length;s<t;s=s+1|0){var e=d[s];$(p,[e],b)&&c.push(new Cc(0,e,null,null,null))}for(var f=eb(p.a,a,10),o=0,H=f.length;o<H;o=o+1|0){var g=f[o];Ab(p,g,b)&&c.push(new Cc(1,null,g,null,null))}for(var h=fb(p.a,a,10),Q=0,X=h.length;Q<X;Q=Q+1|0){var j=h[Q];Bb(p,j,b)&&c.push(new Cc(2,null,null,null,j))}for(var n=gb(p.a,a,10),V=0,W=n.length;V<W;V=V+1|0){var k=n[V];Cb(p,k,b)&&c.push(new Cc(3,
null,null,k,null))}return c}function Ab(c,a,b){return $(c,[a.c,a.d],b)}function Bb(c,a,b){return $(c,[a.a,a.b,a.c],b)}function Cb(c,a,b){return $(c,[a.a.c,a.a.d,a.b.c,a.b.d],b)}function $(e,a,b){for(var h=0,j=O(b,e.a),n=j.length;h<n;h=h+1|0)for(var c=j[h],f=0,g=a.length;f<g;f=f+1|0){var d=a[f];if(c==d||_a(d,c))return!1}return!0}function Eb(a){return new Object({canvas:a.a,topBarText:a.b,currentTool:a.c,triggerAction:a.d,model:a.e})}function Hb(a){var b=a.getBoundingClientRect();return b.bottom>-1&&b.right>-1&&b.top<=window.innerHeight&&b.left<=window.innerWidth}function Ib(a,b){var c=null,d=function(){if(Hb(a)){var e=new Date,f=c?+e-+c:1/30;b(f),c=e}requestAnimationFrame(d)};requestAnimationFrame(d)}function sa(a){return new Kc(a.a,a.b,a.c,a.d)}function q(a){return 'rgba('+(a.a*255|0)+', '+(a.b*255|0)+', '+(a.c*255|0)+', '+a.d+')'}function Jb(b,a){b.a=Math.min(b.a+a,1),b.b=Math.min(b.b+a,1),b.c=Math.min(b.c+a,1)}function C(a){return new Kc((a>>16&255)/255,(a>>8&255)/255,(a&255)/255,1)}function Ob(){ya||(ya=new Rc,
z(document,'keydown',function(a){ya.a[a.keyCode]=!0}),z(document,'keyup',function(b){delete ya.a[b.keyCode]}))}function Pb(a){return Ob(),a in ya.a}function Ka(a){return a.c?a.c.target:a.d.target}function y(c){var a=Ka(c).getBoundingClientRect(),b=null;return b=c.c?new Uc(c.c.clientX,c.c.clientY):new Uc(ua(c.d.touches)[0].clientX,ua(c.d.touches)[0].clientY),m(b,new Uc(a.left,a.top))}function La(a){a.a.ca(),a.a=new Oc([])}function Qb(j,a){z(a,'mousedown',function(b){j.a.L(new Mc(j,b,null)),K(b)}),z(a,'mousemove',function(c){j.a.F(new Mc(j,c,null)),K(c)}),z(a,'mouseup',function(d){j.a.J(new Mc(j,d,null)),K(d)}),z(a,'mouseleave',function(e){j.a.J(new Mc(j,e,null)),K(e)}),z(a,'touchstart',function(f){j.a.L(new Mc(j,null,f)),K(f)}),z(a,'touchmove',function(g){j.a.F(new Mc(j,null,g)),K(g)}),z(a,'touchend',function(h){j.a.J(new Mc(j,null,h)),K(h)})}function Rb(b,a){return a.a>b.a.a&&a.b>b.a.b&&a.a<b.a.a+b.b.a&&a.b<b.a.b+b.b.b}function ta(f){for(var a=new bc,s=0,t=Object.keys(f.a),o=t.length;s<o;s=s+1|0){var b=t[s],c=f.a[b];
if(a.a+=b+': '+c+';\n',b in Ma)for(var g=0,h=Ma[b],j=h.length;g<j;g=g+1|0){var d=h[g];a.a+=d+': '+c+';\n'}if(c in Ma)for(var n=0,k=Ma[c],p=k.length;n<p;n=n+1|0){var e=k[n];a.a+=b+': '+e+';\n'}}return a.a}function Sb(){for(var a=new bc,b=0;b<10;b=b+1|0){var c=Math.floor(Math.random()*52|0)|0;a.a+='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.slice(c,c+1|0)}return a.a}function u(a){var b=new Tc;a(b);var c=Tb(Na(b,''));return c in Ta||(Ta[c]=b,Ua[c]=Sb(),Ub(c)),Ua[c]}function Ub(a){var b=Ua[a];if(!document.getElementById(b)){var c=document.createElement('style');c.type='text/css',c.id=b;var d=Ta[a];c.innerHTML=Na(d,b),document.getElementsByTagName('head')[0].appendChild(c)}}function Na(c,a){var b=new bc;return Object.keys(c.a.a).length&&(b.a+='.'+a+' {\n',b.a+=ta(c.a),b.a+='}\n'),Object.keys(c.b.a).length&&(b.a+='.'+a+':hover {\n',b.a+=ta(c.b),b.a+='}\n'),Object.keys(c.c.a).length&&(b.a+='.'+a+':active {',b.a+=ta(c.c),b.a+='}\n'),b.a}function v(b,a){return new Uc(b.a+a.a,b.b+a.b)}function m(b,a){return new Uc(b.a-a.a,
b.b-a.b)}function T(b,a){return new Uc(b.a*a,b.b*a)}function I(b,a){return new Uc(b.a/a,b.b/a)}function Oa(b,a){b.a+=a.a,b.b+=a.b}function U(b,a){return new Uc(b.a*Math.cos(a)-b.b*Math.sin(a),b.b*Math.cos(a)+b.a*Math.sin(a))}function ba(a){return I(a,E(a))}function E(a){return Math.sqrt(a.a*a.a+a.b*a.b)}function Vb(){return new Uc(0,0)}function ua(a){for(var b=[],c=0,d=a.length;c<d;c=c+1|0)b.push(a[c]);return b}function z(a,b,c){a.addEventListener(b,c)}function K(a){a.preventDefault()}function Wa(d,a){for(var b=0,c=0,e=d.length;c<e;c=c+1|0)d[c]!=a&&(b<c&&(d[b]=d[c]),b=b+1|0);for(;b<d.length;)d.pop()}function Xa(a){return a[a.length-1|0]}function za(c,a){for(var d=0,e=a.length;d<e;d=d+1|0){var b=a[d];c.push(b)}}function Y(b,a){~b.indexOf(a)||b.push(a)}function ea(c,a){var b=c.indexOf(a);b>-1&&c.splice(b,1)}function w(c,a,b){return c[a]=b,c}function M(c){var a=[];for(var b in c)a.push(c[b]);return a}function fa(c){var a=[];for(var b in c)a.push(b|0);return a}function Ya(c){for(var a={},d=0,e=fa(c),f=e.length;d<f;d=d+1|0){
var b=e[d];a[b]=c[b]}return a}function Wb(a){return new Uc(Math.abs(a.a),Math.abs(a.b))}function Xb(a,b){return new Uc(Math.min(a.a,b.a),Math.min(a.b,b.b))}function Pa(a){try{return a.getContext('2d')}catch(b){}return null}function bc(){this.a=''}function dc(){this.a=this.b=null,this.c=!1}function ec(a,b,c){this.a=a,this.b=b,this.c=c,this.d=-1,this.e='error: missing top bar text',this.f=new Uc(0,0),this.g=[]}function fc(a){var c=this;c.b=c.c=c.d=c.e=c.f=c.g=c.h=c.j=null,c.a=a,c.b=document.createElement('canvas'),c.b.style.width=c.b.style.height='100%',c.c=new kc,c.e=new yc(c.b),c.d=new ec(c.c,new mc(c.c),new dc),Y(c.d.g,c),c.f=new zc(c.b),c.g=new Pc,Qb(c.g,c.b),c.h=new Bc(c.d),Ib(c.b,function(b){(c.c.e||c.d.c.c)&&(tb(c.e,c.d),ub(c.f,c.d))}),r(c.d,5,0),r(c.d,6,'Welcome to AlphaGraph - choose a tool to get started...'),z(window,'resize',function(){Ba(c)}),Ba(c)}function hc(a,b,c,d,e,f){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e,this.f=f}function ic(a){this.a=-1,this.b=null,this.c=new Uc(0,0),this.d=null,this.e=this.f=!1,
this.g=null,this.b=a,this.a=ja()}function jc(a,b,c){this.b=-1,this.c=this.d=null,this.a=a,this.b=ja(),this.c=b,this.d=c}function kc(){this.a=[],this.b=[],this.c=null,this.d=new xc,this.e=!1,this.f={}}function lc(a,b,c,d,e){this.c=-1,this.d=this.e=this.f=null,this.a=a,this.b=b,this.c=ja(),this.d=c,this.e=d,this.f=e,ma(this.a,this.d,this),ma(this.a,this.e,this),ma(this.a,this.f,this)}function mc(a){this.a=a,this.b=[]}function xc(){this.a={}}xc.Z=function(a){this.a={};for(var c=0,d=a.length;c<d;c=c+1|0){var b=a[c];this.a[b.a]=!0}};xc.Z.prototype=xc.prototype;function yc(a){this.b=this.c=null,this.a=a,this.b=Pa(a)}function zc(a){this.b=null,this.a=a,this.b=Pa(this.a)}function Ac(a,b,c){this.a=this.b=this.c=this.d=null,this.e=new Fc,this.a=a,this.b=b,this.c={},this.d=c;for(var e=0,f=O(this.b,this.a.a),g=f.length;e<g;e=e+1|0){var d=f[e];this.c[d.a]=i(d)}}function Bc(a){var e=this;e.a=w(w(w(w(w(da(null),'Esc',function(f){r(f,5,1)}),'C',function(g){r(g,5,3)}),'M',function(h){r(h,5,1)}),'V',function(j){r(j,5,1)}),'E',function(n){
r(n,5,2)}),z(document,'keydown',function(b){var c=0;b.key!==undefined?c=b.key:b.keyCode!==undefined?c=b.keyCode:b.which!==undefined&&(c=b.which);var d=wb(e,c);d in e.a&&e.a[d](a)})}function Cc(a,b,c,d,e){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e}function Dc(a,b,c){this.a=a,this.b=b,this.c=c}function Ec(a,b){this.a=a,this.b=b}function Fc(){this.a=null}function Gc(a,b){this.a=a,this.b=b}var Hc={};function Kc(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function Mc(a,b,c){this.a=a,this.b=!1,this.c=b,this.d=c}function Nc(){}G=Nc.prototype;G.L=function(a){};G.F=function(a){};G.J=function(a){};G.ca=function(){};function nc(a){Nc.call(this),this.a=a}cc(nc,Nc);function tc(a){nc.call(this,a),this.X=this.V=this.W=null}cc(tc,nc);G=tc.prototype;G.L=function(a){this.X=y(a),this.V=this.a.f,this.W=Ka(a),this.W.style.cursor='move',a.b=!0};G.F=function(a){this.X&&(Za(this.a,v(this.V,m(y(a),this.X))),this.W.style.cursor='move',a.b=!0)};G.J=function(a){this.X&&(this.F(a),nb(this),a.b=!0)};function uc(a){nc.call(this,a),this.va=null}
cc(uc,nc);G=uc.prototype;G.L=function(a){this.a.a.c&&(this.va=this.a.a.c)};G.J=function(a){this.va?(r(this.a,7,new xc.Z([this.va])),this.va=null):r(this.a,7,new xc)};function vc(a){nc.call(this,a),this.oa=null}cc(vc,nc);G=vc.prototype;G.L=function(a){this.oa=m(y(a),this.a.f)};G.F=function(a){var b=m(y(a),this.a.f);if(this.oa){var c=Xb(this.oa,b),d=Wb(m(this.oa,b)),e=new Qc(c,d);Aa(this.a.c,e);for(var f=new xc,h=0,j=this.a.a.a,n=j.length;h<n;h=h+1|0){var g=j[h];Rb(e,i(g))&&(f.a[g.a]=!0)}r(this.a,7,f)}};G.J=function(a){this.oa=null,Aa(this.a.c,null)};function wc(a,b){nc.call(this,a),this.ob=b}cc(wc,nc);wc.prototype.F=function(a){for(var b=Ea(this.a.a,m(y(a),this.a.f),10),c=null,e=0,f=b.length;e<f;e=e+1|0){var d=b[e];if(!(d.a in this.ob.a)){c=d;break}}$a(this.a.a,c)};function sc(a){nc.call(this,a),this.H=this.Q=null}cc(sc,nc);G=sc.prototype;G.L=function(a){this.a.a.c&&(this.H=this.a.a.c,mb(this,this.H),this.Q=new Ac(this.a,B(this.a.a.d),m(y(a),this.a.f)),a.b=!0)};G.F=function(a){var b=m(y(a),this.a.f),c=null;if(this.H){
var d=vb(this.Q,this.H,b);c=d.a,a.b=!0}ga(this.a.c,c)};G.J=function(a){this.F(a),this.H&&(a.b=!0,this.H.g&&ka(this.a.a,this.H,this.H.g),this.H=null)};function oc(a,b){nc.call(this,a),this.c=null,this.b=b}cc(oc,nc);G=oc.prototype;G.L=function(a){var b=this.a.a.c;b&&(this.c=b)};G.F=function(a){r(this.a,6,'Choose a node')};G.J=function(a){this.c&&this.a.a.c==this.c&&this.b(this.a.a.c)};function pc(a,b,c){nc.call(this,a),this.f=null,this.d=b,this.e=c}cc(pc,nc);G=pc.prototype;G.L=function(a){this.f=a};G.F=function(a){var b=m(y(a),this.a.f);this.f&&E(m(m(y(this.f),this.a.f),b))>3&&(this.e.L(this.f),this.f=null),this.f||this.e.F(a)};G.J=function(a){this.f?(this.d.L(this.f),this.d.J(a),this.f=null):this.e.J(a)};function Lc(a,b){Nc.call(this),this.Ia=a,this.xa=b}cc(Lc,Nc);G=Lc.prototype;G.ca=function(){this.xa.ca()};G.L=function(a){this.Ia()&&this.xa.L(a)};G.F=function(a){this.Ia()&&this.xa.F(a)};G.J=function(a){this.Ia()&&this.xa.J(a)};function qc(a){nc.call(this,a),this.g=this.h=this.j=this.n=this.k=null,this.p=0,this.g=new Fc,
this.p=2,Fa(this)}cc(qc,nc);G=qc.prototype;G.ca=function(){switch(this.p){case 0:D(this.a.a,this.h,null),D(this.a.a,this.j,null),D(this.a.a,this.n,null);break;case 1:D(this.a.a,this.j,null),D(this.a.a,this.n,null);break;case 2:D(this.a.a,this.n,null);break}};G.L=function(a){this.F(a),N(this).g&&ka(this.a.a,N(this),N(this).g),Fa(this)};G.F=function(a){var b=m(y(a),this.a.f);this.g.a=this.a.a;switch(this.p){case 0:x(this.h,b),x(this.j,b),x(this.n,b);break;case 1:x(this.j,b);var c=m(i(this.j),i(this.h));x(this.n,v(i(this.j),U(c,-1.5707963267948966)));break;case 2:x(this.n,b);break}N(this).d=null,N(this).g=null;var d=new xc.Z([this.h,this.j,this.n]),e=qa(this.g,N(this),b,d,null);r(this.a,6,e.b==null?"It's a masterpiece!":e.b),ga(this.a.c,e.a)};function rc(a){nc.call(this,a),this.s=this.t=this.o=null,this.s=new Fc,this.t=S(a.a),r(this.a,6,'Click somewhere to start creating edges')}cc(rc,nc);G=rc.prototype;G.ca=function(){this.t&&D(this.a.a,this.t,null)};G.F=function(a){var h=this;h.s.a=h.a.a;var b=m(y(a),h.a.f),c=null,d=h.o&&"It's a masterpiece!";
if(h.t){h.t.d=h.t.g=null,x(h.t,b);var e=new xc.Z([h.t]),f=qa(h.s,h.t,b,e,function(g){return g!=h.o});f.a&&(c=f.a),f.b!=null&&(d=f.b)}d!=null&&r(h.a,6,d),ga(h.a.c,c)};G.L=function(a){this.F(a);var b=m(y(a),this.a.f);this.t.g?(ka(this.a.a,this.t,this.t.g),this.o=this.t.g):this.o=this.t,this.t=S(this.a.a),x(this.t,b),bb(this.a.a,this.o,this.t)};function Oc(a){Nc.call(this),[],this.P=a}cc(Oc,Nc);G=Oc.prototype;G.ca=function(){for(var b=0,c=this.P,d=c.length;b<d;b=b+1|0){var a=c[b];a.ca()}};G.L=function(a){for(var c=0,d=this.P,e=d.length;c<e;c=c+1|0){var b=d[c];if(b.L(a),a.b)break}};G.J=function(a){for(var c=0,d=this.P,e=d.length;c<e;c=c+1|0){var b=d[c];if(b.J(a),a.b)break}};G.F=function(a){for(var c=0,d=this.P,e=d.length;c<e;c=c+1|0){var b=d[c];if(b.F(a),a.b)break}};function Pc(){this.a=new Oc([])}function Qc(a,b){if(this.a=this.b=null,b.a<0||b.b<0)throw new Error('You constructed a rect with a negative size');this.a=a,this.b=b}function Rc(){this.a={}}function Sc(){this.a=da(null)}function Tc(){this.a=new Sc,this.b=new Sc,
this.c=new Sc}function Uc(a,b){this.a=a,this.b=b}Hc.GraphAppView=function(){React.Component.call(this)};cc(Hc.GraphAppView,React.Component);G=Hc.GraphAppView.prototype;G.displayName=function(){return'GraphAppView'};G.render=function(){var a=u(function(b){b.a.a.width=b.a.a.height='100%',b.a.a.overflow='hidden',b.a.a['font-family']="'Gill Sans', 'Gill Sans MT', Calibri, sans-serif",b.a.a.color='#444',b.a.a.display='flex',b.a.a['flex-direction']='column'}),c=u(function(d){d.a.a.width=d.a.a.height='100%',d.a.a.display='flex'}),e=u(function(f){f.a.a.width='54px',f.a.a.height='100%',f.a.a['background-color']=q(Ha),f.a.a['border-right']='1px solid '+q(Ra)}),g=u(function(h){h.a.a.width=h.a.a.height='100%',h.a.a['background-color']='white'}),j=u(function(n){n.a.a.width='216px',n.a.a.height='100%',n.a.a['background-color']=q(Ha),n.a.a['border-left']='1px solid '+q(Ra)});return A.div(new Object({className:a}),this._renderTopBar(),A.div(new Object({className:c}),A.div(new Object({className:e}),React.createElement(new Hc.ToolbarView.constructor,
this.props)),A.div(new Object({className:g}),this._renderCanvas()),A.div(new Object({className:j}),React.createElement(new Hc.InspectorView.constructor,this.props))))};G._renderTopBar=function(){var a=u(function(b){b.a.a.width='100%',b.a.a.height='36px',b.a.a['background-color']=q(Ha),b.a.a['border-bottom']='1px solid '+q(Ra),b.a.a['text-align']='center',b.a.a['line-height']='36px',b.a.a['font-size']='12px',b.a.a['letter-spacing']='1.1px'}),c=B(this.props.e.a.d);return !M(c.a).length||!0?A.div(new Object({className:a}),this.props.b):A.div(new Object({className:a}),M(c.a).length^1?M(c.a).length+' nodes selected':'One node selected')};G._renderCanvas=function(){var e=this,a=function(b){b&&b.appendChild(e.props.a)},c=u(function(d){d.a.a.width=d.a.a.height='100%'});return A.div(new Object({ref:a,className:c}))};Hc.PositionControls=function(){React.Component.call(this)};cc(Hc.PositionControls,React.Component);G=Hc.PositionControls.prototype;G.displayName=function(){return'PositionControls'};G._renderPositionItem=function(){
var a='Mixed',b=B(this.props.e.a.d);if(M(b.a).length==1){var c=i(Da(this.props.e.a,fa(b.a)[0]));a=c.a+' '+c.b}return React.createElement(new Hc.PropertyItem.constructor,new Object(new Jc('POSITION',a)),[])};G._renderOriginItem=function(a,b,c){var d='Mixed';return c.length==1&&!c[0]?d='0, 0':c.length==1&&c[0]&&(d='Node '+c[0].a),React.createElement(new Hc.PropertyItem.constructor,new Object(new Jc('ORIGIN',d)),[])};G._renderOriginControls=function(){var e=this,a=e.props.e.a,b=B(e.props.e.a.d),c=Fb(a,b),d=null;return d=c.length==1&&!c[0]?A.div(new Object({className:ra(),onClick:function(){e.props.d(0,null)}}),'Choose node as origin'):A.div(new Object({style:new Object({marginBottom:'12px'})}),A.span(new Object({className:ra(),onClick:function(){e.props.d(0,null)}}),'Change origin'),' or ',A.span(new Object({className:ra(),onClick:function(){e.props.d(1,null)}}),'clear it')),A.div(null,e._renderOriginItem(a,b,c),d)};G.render=function(){var a=u(function(b){b.a.a.width='100%'});return A.div(new Object({className:a}),
this._renderPositionItem(),this._renderOriginControls())};Hc.PropertyItem=function(){React.Component.call(this)};cc(Hc.PropertyItem,React.Component);G=Hc.PropertyItem.prototype;G.displayName=function(){return'PropertyItem'};G.render=function(){var a=u(function(b){b.a.a['float']='right',b.a.a.color=q(Zb)});return A.div(new Object({}),A.span(new Object({}),this.props.a),A.span(new Object({className:a}),this.props.b))};Hc.InspectorView=function(){React.Component.call(this)};cc(Hc.InspectorView,React.Component);G=Hc.InspectorView.prototype;G.displayName=function(){return'InspectorView'};G.render=function(){var a=this.props.e.a;if(!a.a.length||!M(B(a.d).a).length){var b=u(function(c){c.a.a['text-transform']='uppercase',c.a.a['text-align']='center',c.a.a['font-size']='11px',c.a.a['margin-top']='36px'});return A.div(new Object({className:b}),A.img(new Object({src:'icons/alpha.svg',style:new Object({width:'60px',height:'60px'})})))}else if(M(B(a.d).a).length){var f=u(function(g){g.a.a.padding='18px',g.a.a['font-size']='12px'}),h=new Object({className:f});
return A.div(h,React.createElement(new Hc.PositionControls.constructor,this.props))}else{var d=u(function(e){e.a.a['text-transform']='uppercase',e.a.a['text-align']='center',e.a.a['font-size']='11px',e.a.a['margin-top']='18px'});return A.div(new Object({className:d}),'Nothing selected')}};Hc.ToolbarView=function(){React.Component.call(this)};cc(Hc.ToolbarView,React.Component);G=Hc.ToolbarView.prototype;G.displayName=function(){return'ToolbarView'};G.render=function(){for(var a=u(function(b){b.a.a.width=b.a.a.height='100%'}),c=[],e=0,f=[1,2,3],g=f.length;e<g;e=e+1|0){var d=f[e];c.push(this._renderTool(d))}return A.div(new Object({className:a}),c)};G._renderTool=function(a){var d=this,b=u(function(c){a^d.props.c?(c.a.a['background-color']=q(Ha),c.c.a['background-color']=q(Gb),c.b.a['background-color']=q(Yb)):c.a.a['background-color']=q(Gb),c.a.a['background-image']="url('"+Db(a)+"')",c.a.a['background-position']='center',c.a.a['background-repeat']='no-repeat',c.a.a.width=c.a.a.height='54px'});return A.div(new Object({key:'tool-button-'+ac[a],
className:b,onClick:function(){d.props.d(5,a)}}))};function Ic(a,b,c,d,e){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e}function Jc(a,b){this.a=a,this.b=b}var A=React.DOM,Qa=-1,Ha=C(15921906),Yb=C(16316664),Gb=C(14737632),Ra=C(12434877),Kb=C(6710886),Zb=C(10066329),_b=C(9391359),Sa=C(2525183),Lb=C(10540785),wa=C(7327639),$b=C(0),ya=null,Ma=w(w(da(null),'flex',['-webkit-flex']),'flex-direction',['-webkit-flex-direction']),Ta={},Ua={},ac=['NONE','MOVE','EDGE','CIRCLE'];gc()})();
