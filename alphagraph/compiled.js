(function(){var fa=Object.create||function(a){return{__proto__:a}};function jc(a,b){a.prototype=fa(b.prototype),a.prototype.constructor=a}var H;function nc(){B(window,'load',function(){var a=document.getElementById('graph-application');a.style.width=a.style.height='100%',new mc(a)})}function ra(a,b,c,d,f){var e=null,g=null,h=Ab(a,c,d);if(h.length>0){e=h[0],y(b,zb(e));switch(e.a){case 0:(!f||f(e.b))&&(b.g=e.b,g='Snap to node');break;case 1:b.d=new pc(0,e.c,null,null,null,null),g='Constrain to midpoint';break;case 2:b.d=new pc(1,null,e.f,null,null,null),g='Constrain to altitude base';break;case 3:b.d=new pc(2,null,null,e.d,null,null),g='Constrain to intersection';break}}return new Nc(e,g)}function Eb(a){switch(a){case 1:return'icons/tool-move.svg';case 2:return'icons/tool-edge.svg';case 3:return'icons/tool-circle.svg'}return null}function Fb(a,b){for(var c=[],f=0,e=Q(b,a),g=e.length;f<g;f=f+1|0){var d=e[f];k(d)&&k(d).a==3?S(c,k(d).f):S(c,null)}return c}function sa(){return t(function(a){a.a.a.color=r(Va),a.a.a.cursor='pointer'})}
function aa(a,b,c,d){var f=(a.a-b.a)*(c.b-d.b)-(a.b-b.b)*(c.a-d.a),e=(a.a*b.b-a.b*b.a)*(c.a-d.a)-(a.a-b.a)*(c.a*d.b-c.b*d.a),g=(a.a*b.b-a.b*b.a)*(c.b-d.b)-(a.b-b.b)*(c.a*d.b-c.b*d.a);return new $c(e/f,g/f)}function Qb(a,b,c){var d=ba(V(m(b,c),1.5707963267948966));return aa(a,u(a,d),b,c)}function Rb(a,b,c){var d=I(u(a,b),2),f=I(u(b,c),2);return aa(d,u(d,ba(V(m(a,b),1.5707963267948966))),f,u(f,ba(V(m(b,c),1.5707963267948966))))}function La(a,b,c){var d=F(m(a,b)),f=F(m(a,c)),e=F(m(b,c)),g=Math.pow(d,2),h=Math.pow(f,2),l=Math.pow(e,2);if(h>g+l)return d;else if(g>h+l)return f;else{var o=(d+f+e)/2;return 2/e*Math.sqrt(o*(o-d)*(o-f)*(o-e))}}function Yb(a){for(var b=0,c=0,d=a.length;c<d;c=c+1|0)b=((b<<5)-b|0)+a.charCodeAt(c)|0;return b}function Ba(b,a){a!=b.a&&(b.a=a,b.c=!0)}function ia(b,a){b.b!=a&&(b.b=a,b.c=!0)}function $a(b,a){b.e=a,b.a.g=!0}function p(f,a,b){var c=!0;switch(a){case 5:f.d===b?c=!1:f.d=b;break;case 6:f.f===b?c=!1:f.f=b;break;case 7:gb(f.a,b);break}if(c&&Ub('Trigger action '+gc[a]+' with data ('+b+')'),
c)for(var e=0,g=f.g,h=g.length;e<h;e=e+1|0){var d=g[e];ea(d,a,b)}}function Ya(b,a){a.a in z(b.d.a.e).a&&Y(b)}function ea(j,a,b){var c=z(j.d.a.e);switch(a){case 0:ea(j,4,new Vc([new Dc(j.d),new vc(j.d,'Choose node as origin',c,function(d){p(j.d,3,null),p(j.d,2,d),p(j.d,6,bc(d))})]));break;case 1:for(var q=0,s=Q(z(j.d.a.e),j.d.a),v=s.length;q<v;q=q+1|0){var f=s[q],e=i(f);f.d=null,y(f,e)}break;case 2:for(var g=b,n=0,w=Q(z(j.d.a.e),j.d.a),L=w.length;n<L;n=n+1|0){var h=w[n];h.d=new pc(3,null,null,null,g,m(i(h),i(g)))}break;case 3:j.l=null,ea(j,5,j.d.d);break;case 4:j.l=new Vc(j.g.a.R.slice()),Na(j.g);var l=b;j.g.a.R.push(l);break;case 5:Na(j.g);var o=new Sc(function(){return Tb(32)},new Ac(j.d));j.g.a.R.push(o),j.g.a.R.push(new Dc(j.d));switch(j.d.d){case 1:j.g.a.R.push(new wc(j.d,new Bc(j.d),new Vc([new zc(j.d),new Cc(j.d)])));break;case 2:j.g.a.R.push(new yc(j.d));break;case 3:j.g.a.R.push(new xc(j.d));break}Y(j);break;case 6:Y(j);break;case 7:Y(j);break}}function Y(e){var a=Sa(window.performance),b=new Pc(e.b,e.d.f,
e.d.d,function(c,d){p(e.d,c,d)},e.d);ReactDOM.render(React.createElement(new Oc.GraphAppView().constructor,new Object(b)),e.a);var f=Sa(window.performance)-a;f>16&&console.warn('DOM render took more than 16ms -- duration was '+f+'ms')}function Ca(b){var a=b.b.getBoundingClientRect();b.b.width=a.width*window.devicePixelRatio|0,b.b.height=a.height*window.devicePixelRatio|0,b.c.g=!0}function ja(c,a,b){a.a in c.a||(c.a[a.a]=[]),S(c.a[a.a],b)}function Da(c,a){for(var d=0,f=c.c,e=f.length;d<e;d=d+1|0){var b=f[d];if(b.a==a)return b}return null}function ka(f,a,b){for(var c=null,e=0,g=f.d,h=g.length;e<h;e=e+1|0){var d=g[e];(d.c==a&&d.d==b||d.c==b&&d.d==a)&&(c=d)}return c}function ab(d,a){for(var b=[],f=0,e=d.d,g=e.length;f<g;f=f+1|0){var c=e[f];c.c==a?b.push(c.d):c.d==a&&b.push(c.c)}return b}function Ea(f,a,b){for(var c=[],e=0,g=f.c,h=g.length;e<h;e=e+1|0){var d=g[e];F(m(i(d),a))<4+b&&c.push(d)}return c}function bb(f,a,b){for(var c=[],e=0,g=f.d,h=g.length;e<h;e=e+1|0){var d=g[e];F(m(la(d),a))<b&&c.push(d)}return c}function cb(g,a,b){
for(var c=[],j=0,q=g.d,s=q.length;j<s;j=j+1|0){var d=q[j];if(La(a,i(d.c),i(d.d))<b)for(var h=0,l=ab(g,d.c),o=l.length;h<o;h=h+1|0){var f=l[h];if(ka(g,f,d.d)){var e=new Kc(f,d.c,d.d);F(m(_(e),a))<b&&c.push(e)}}}return c}function db(j,a,b){for(var c=[],q=0,s=j.d,v=s.length;q<v;q=q+1|0){var d=s[q];La(a,i(d.c),i(d.d))<b&&c.push(d)}for(var f=[],e=0,w=c.length-1|0;e<w;e=e+1|0)for(var g=e+1|0,n=c.length;g<n;g=g+1|0){var h=c[e],l=c[g],o=aa(i(h.c),i(h.d),i(l.c),i(l.d));F(m(o,a))<b&&f.push(new Lc(h,l))}return f}function ma(){return Ta=Ta+1|0,Ta}function fb(b,a){b.f=a,b.g=!0}function gb(b,a){b.e=a,b.g=!0}function T(b){var a=new qc(b);return b.c.push(a),b.g=!0,a}function E(g,a,b){ga(g.c,a);for(var c=[],h=0,l=g.d,o=l.length;h<o;h=h+1|0){var d=l[h];(d.c==a||d.d==a)&&c.push(d)}for(var j=0,q=c.length;j<q;j=j+1|0){var f=c[j];ga(g.d,f)}if(a.a in g.a)for(var s=0,v=g.a[a.a],n=v.length;s<n;s=s+1|0)var e=v[s];g.g=!0}function hb(d,a,b){if(!ka(d,a,b)){var c=new rc(d,a,b);d.d.push(c),d.g=!0}}function ib(c,a){ga(c.d,a);for(var d=0,f=c.c,e=f.length;d<e;d=d+1|0){
var b=f[d];if(k(b)&&k(b).b==a)throw new Error('Deleting edge that a node is constrained to')}c.g=!0}function na(h,a,b){if(a!=b){var c=ka(h,a,b);if(c){var d=kb(h,c);d&&E(h,d,null);for(var f=lb(h,c),l=0,o=f.length;l<o;l=l+1|0){var e=f[l];E(h,e,null)}ib(h,c)}for(var j=0,q=h.d,s=q.length;j<s;j=j+1|0){var g=q[j];g.c==a&&(g.c=b),g.d==a&&(g.d=b)}E(h,a,b),jb(h)}}function jb(b){for(var c=0,d=b.c,f=d.length;c<f;c=c+1|0)var a=d[c]}function kb(c,a){for(var d=0,f=c.c,e=f.length;d<e;d=d+1|0){var b=f[d];if(k(b)&&!k(b).a&&k(b).b==a)return b}return null}function lb(d,a){for(var b=[],f=0,e=d.c,g=e.length;f<g;f=f+1|0){var c=e[f];k(c)&&k(c).c&&yb(k(c).c,a)&&b.push(c)}return b}function Fa(a){switch(a.a){case 0:return[a.b.c,a.b.d];case 1:return[a.c.a,a.c.b,a.c.c];case 2:return[a.d.a.c,a.d.a.d,a.d.b.c,a.d.b.d];case 3:return[a.f]}throw new Error('Unhandles constraint type')}function k(b){b.f=!0;var a=null;return a=b.g?k(b.g):b.d,b.f=!1,a}function i(b){b.e=!0;var a=null;return a=b.g?i(b.g):k(b)&&!k(b).a?la(k(b).b):k(b)&&k(b).a==1?_(k(b).c):k(b)&&k(b).a==2?qa(k(b).d):k(b)&&k(b).a==3?u(i(k(b).f),
k(b).e):b.c,b.e=!1,a}function eb(d,a){var b=[];for(k(d)&&Aa(b,Fa(k(d)));b.length;){var c=b.pop();if(c==a)return!0;k(c)&&Aa(b,Fa(k(c)))}return!1}function y(c,a){if(c.c!=a){c.c=a;for(var d=0,f=c.b.b,e=f.length;d<e;d=d+1|0){var b=f[d];Ya(b,c)}c.b.g=!0}return c}function la(a){return I(u(i(a.c),i(a.d)),2)}function oa(a){return Rb(i(a.d),i(a.f),i(a.e))}function mb(a){return F(m(oa(a),i(a.d)))}function nb(d,a,b,c){return d.b.push(new sc(d.a,d,a,b,c)),Za(d.b)}function P(a){switch(a.v){case 0:return a.o;case 1:return a.j;case 2:return a.q}throw new Error('Invalid _state')}function Ga(a){switch(a.v){case 0:a.v=1;break;case 1:a.v=2;break;case 2:a.v=0,a.o=T(a.a.a),a.j=T(a.a.a),a.q=T(a.a.a),a.s=nb(a.a.b,a.o,a.j,a.q);break}}function ob(c,a){var b=z(c.a.a.e);a.a in b.a||(b.a[a.a]=!0,p(c.a,7,b))}function pb(a){a.ca&&(a.ca.style.cursor=null),a.X=a.Ha=a.ca=null}function z(b){var a=new Ec;return a.a=_a(b.a),a}function Q(f,a){for(var b=[],e=0,g=ha(f.a),h=g.length;e<h;e=e+1|0){var c=g[e],d=Da(a,c);d&&b.push(d)}return b}function qb(l,a){
var b=ec,c=Va,d=xa,f=Pb,e=a.a in z(l.c.e).a,g=k(a)!=null,h=null;return e&&g?h=f:e&&!g?h=c:!e&&g?h=d:!e&&!g&&(h=b),h=ta(h),a==l.c.f&&Nb(h,.1),r(h)}function rb(c,a){var b=i(a);c.b.beginPath(),c.b.arc(b.a,b.b,a==c.c.f?4.5:4,0,6.283185307179586),c.b.fillStyle=qb(c,a),c.b.strokeStyle=r(fc),c.b.fill()}function sb(b,a){b.b.beginPath(),b.b.moveTo(i(a.c).a,i(a.c).b),b.b.lineTo(i(a.d).a,i(a.d).b),b.b.lineWidth=1,b.b.strokeStyle=r(Ob),b.b.stroke()}function tb(b,a){b.b.beginPath(),b.b.arc(oa(a).a,oa(a).b,mb(a),0,6.283185307179586),b.b.lineWidth=1,b.b.strokeStyle=r(Ob),b.b.stroke()}function ub(e,a){e.b.save(),e.b.scale(window.devicePixelRatio,window.devicePixelRatio),e.b.translate(a.e.a,a.e.b),e.c=a.a;var b=e.a.getBoundingClientRect();e.b.clearRect(-a.e.a,-a.e.b,b.width,b.height);for(var g=0,h=a.a.d,l=h.length;g<l;g=g+1|0){var c=h[g];sb(e,c)}for(var o=0,j=a.b.b,q=j.length;o<q;o=o+1|0){var d=j[o];tb(e,d)}for(var s=0,v=a.a.c,n=v.length;s<n;s=s+1|0){var f=v[s];rb(e,f)}e.b.restore(),a.a.g=!1}function Ia(e,a,b){var c=V(b,1.5707963267948966);
e.b.beginPath();var d=u(m(a,U(b,1)),I(U(c,10),2)),f=m(d,U(c,10));e.b.moveTo(d.a,d.b),e.b.lineTo(f.a,f.b),Qa(d,U(b,2)),Qa(f,U(b,2)),e.b.moveTo(d.a,d.b),e.b.lineTo(f.a,f.b),e.b.strokeStyle=r(xa),e.b.lineWidth=1,e.b.stroke()}function vb(n,a){n.b.save(),n.b.scale(window.devicePixelRatio,window.devicePixelRatio),n.b.translate(a.e.a,a.e.b);var b=a.c.b;if(b)switch(b.a){case 0:var c=b.b,d=i(c);n.b.beginPath(),n.b.arc(d.a,d.b,5,0,6.283185307179586),n.b.strokeStyle=r(xa),n.b.lineWidth=2,n.b.stroke();break;case 1:var f=i(b.c.c),e=i(b.c.d),g=I(u(f,e),2),h=ba(m(e,f));Ia(n,I(u(f,g),2),h),Ia(n,I(u(e,g),2),h);break;case 2:var l=i(b.f.a),o=_(b.f);n.b.beginPath(),n.b.moveTo(o.a,o.b),n.b.lineTo(l.a,l.b),n.b.strokeStyle=r(xa),n.b.lineWidth=1,n.b.stroke();break;case 3:var j=qa(b.d);n.b.beginPath(),n.b.arc(j.a,j.b,5,0,6.283185307179586),n.b.strokeStyle=r(xa),n.b.lineWidth=2,n.b.stroke();break}var q=a.c.a;if(q){var s=ta(Pb);s.d=.3;var v=ta(Va);v.d=.6,n.b.beginPath(),n.b.rect(q.a.a,q.a.b,q.b.a,q.b.b),n.b.lineWidth=1,n.b.fillStyle=r(s),
n.b.strokeStyle=r(v),n.b.fill(),n.b.stroke()}n.b.restore(),a.c.c=!1}function wb(g,a,b){g.f.a=g.a.a,a.g=null,k(a)?k(a).e=m(b,i(k(a).f)):y(a,b);for(var c=new Ec.Z([a]),d=ra(g.f,a,b,c,null),f=m(i(a),g.c[a.a]),h=0,l=Q(g.b,g.a.a),o=l.length;h<o;h=h+1|0){var e=l[h];k(e)||y(e,u(g.c[e.a],f))}return d}function xb(b,a){if(a^27){if(a^32){if(a>32)return String.fromCharCode(a)}else return'Space'}else return'Esc';return'unknown'}function zb(a){switch(a.a){case 0:return i(a.b);case 1:return la(a.c);case 2:return _(a.f);case 3:return qa(a.d)}return _b()}function _(a){return Qb(i(a.a),i(a.b),i(a.c))}function yb(b,a){return a.c==b.a&&a.d==b.b||a.c==b.b&&a.d==b.a||a.c==b.b&&a.d==b.c||a.c==b.c&&a.d==b.b||a.c==b.c&&a.d==b.a||a.c==b.a&&a.d==b.c}function qa(a){return aa(i(a.a.c),i(a.a.d),i(a.b.c),i(a.b.d))}function Ab(q,a,b){for(var c=[],d=Ea(q.a,a,10),s=0,v=d.length;s<v;s=s+1|0){var f=d[s];$(q,[f],b)&&c.push(new Jc(0,f,null,null,null))}for(var e=bb(q.a,a,10),n=0,w=e.length;n<w;n=n+1|0){var g=e[n];Bb(q,g,b)&&c.push(new Jc(1,null,g,null,
null))}for(var h=cb(q.a,a,10),L=0,N=h.length;L<N;L=L+1|0){var l=h[L];Cb(q,l,b)&&c.push(new Jc(2,null,null,null,l))}for(var o=db(q.a,a,10),W=0,X=o.length;W<X;W=W+1|0){var j=o[W];Db(q,j,b)&&c.push(new Jc(3,null,null,j,null))}return c}function Bb(c,a,b){return $(c,[a.c,a.d],b)}function Cb(c,a,b){return $(c,[a.a,a.b,a.c],b)}function Db(c,a,b){return $(c,[a.a.c,a.a.d,a.b.c,a.b.d],b)}function $(f,a,b){for(var h=0,l=Q(b,f.a),o=l.length;h<o;h=h+1|0)for(var c=l[h],e=0,g=a.length;e<g;e=e+1|0){var d=a[e];if(c==d||eb(d,c))return!1}return!0}function Gb(){return t(function(a){a.a.a['float']='right',a.a.a.color=r(dc)})}function Hb(){return t(function(a){a.a.a['margin-bottom']='6px'})}function Ib(){return t(function(a){a.a.a['font-size']='11px',a.a.a.padding='18px'})}function Jb(){return t(function(a){a.a.a['text-align']='center',a.a.a['margin-bottom']='12px',a.a.a['font-weight']='600',a.a.a['text-transform']='uppercase'})}function Lb(a){var b=a.getBoundingClientRect();return b.bottom>-1&&b.right>-1&&b.top<=window.innerHeight&&b.left<=window.innerWidth}
function Mb(a,b){var c=null,d=function(){if(Lb(a)){var f=new Date,e=c?+f-+c:1/30;b(e),c=f}requestAnimationFrame(d)};requestAnimationFrame(d)}function ta(a){return new Rc(a.a,a.b,a.c,a.d)}function r(a){return 'rgba('+(a.a*255|0)+', '+(a.b*255|0)+', '+(a.c*255|0)+', '+a.d+')'}function Nb(b,a){b.a=Math.min(b.a+a,1),b.b=Math.min(b.b+a,1),b.c=Math.min(b.c+a,1)}function C(a){return new Rc((a>>16&255)/255,(a>>8&255)/255,(a&255)/255,1)}function Sb(){za||(za=new Yc,B(document,'keydown',function(a){za.a[a.keyCode]=!0}),B(document,'keyup',function(b){delete za.a[b.keyCode]}))}function Tb(a){return Sb(),a in za.a}function Ub(a){}function Ma(a){return a.c?a.c.target:a.d.target}function A(c){var a=Ma(c).getBoundingClientRect(),b=null;return b=c.c?new $c(c.c.clientX,c.c.clientY):new $c(va(c.d.touches)[0].clientX,va(c.d.touches)[0].clientY),m(b,new $c(a.left,a.top))}function Na(a){a.a.da(),a.a=new Vc([])}function Vb(l,a){B(a,'mousedown',function(b){l.a.M(new Tc(l,b,null)),K(b)}),B(a,'mousemove',function(c){l.a.G(new Tc(l,c,null)),
K(c)}),B(a,'mouseup',function(d){l.a.J(new Tc(l,d,null)),K(d)}),B(a,'mouseleave',function(f){l.a.J(new Tc(l,f,null)),K(f)}),B(a,'touchstart',function(e){l.a.M(new Tc(l,null,e)),K(e)}),B(a,'touchmove',function(g){l.a.G(new Tc(l,null,g)),K(g)}),B(a,'touchend',function(h){l.a.J(new Tc(l,null,h)),K(h)})}function Wb(b,a){return a.a>b.a.a&&a.b>b.a.b&&a.a<b.a.a+b.b.a&&a.b<b.a.b+b.b.b}function ua(e){for(var a=new ic,s=0,v=Object.keys(e.a),n=v.length;s<n;s=s+1|0){var b=v[s],c=e.a[b];if(a.a+=b+': '+c+';\n',b in Oa)for(var g=0,h=Oa[b],l=h.length;g<l;g=g+1|0){var d=h[g];a.a+=d+': '+c+';\n'}if(c in Oa)for(var o=0,j=Oa[c],q=j.length;o<q;o=o+1|0){var f=j[o];a.a+=b+': '+f+';\n'}}return a.a}function Xb(){for(var a=new ic,b=0;b<10;b=b+1|0){var c=Math.floor(Math.random()*52|0)|0;a.a+='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.slice(c,c+1|0)}return a.a}function t(a){var b=new _c;a(b);var c=Yb(Pa(b,''));return c in Wa||(Wa[c]=b,Xa[c]=Xb(),Zb(c)),Xa[c]}function Zb(a){var b=Xa[a];if(!document.getElementById(b)){var c=document.createElement('style');
c.type='text/css',c.id=b;var d=Wa[a];c.innerHTML=Pa(d,b),document.getElementsByTagName('head')[0].appendChild(c)}}function Pa(c,a){var b=new ic;return Object.keys(c.a.a).length&&(b.a+='.'+a+' {\n',b.a+=ua(c.a),b.a+='}\n'),Object.keys(c.b.a).length&&(b.a+='.'+a+':hover {\n',b.a+=ua(c.b),b.a+='}\n'),Object.keys(c.c.a).length&&(b.a+='.'+a+':active {',b.a+=ua(c.c),b.a+='}\n'),b.a}function u(b,a){return new $c(b.a+a.a,b.b+a.b)}function m(b,a){return new $c(b.a-a.a,b.b-a.b)}function U(b,a){return new $c(b.a*a,b.b*a)}function I(b,a){return new $c(b.a/a,b.b/a)}function Qa(b,a){b.a+=a.a,b.b+=a.b}function V(b,a){return new $c(b.a*Math.cos(a)-b.b*Math.sin(a),b.b*Math.cos(a)+b.a*Math.sin(a))}function ba(a){return I(a,F(a))}function F(a){return Math.sqrt(a.a*a.a+a.b*a.b)}function _b(){return new $c(0,0)}function va(a){for(var b=[],c=0,d=a.length;c<d;c=c+1|0)b.push(a[c]);return b}function B(a,b,c){a.addEventListener(b,c)}function K(a){a.preventDefault()}function Za(a){return a[a.length-1|0]}function Aa(c,a){for(var d=0,f=a.length;d<f;d=d+1|0){
var b=a[d];c.push(b)}}function S(b,a){~b.indexOf(a)||b.push(a)}function ga(c,a){var b=c.indexOf(a);b>-1&&c.splice(b,1)}function x(c,a,b){return c[a]=b,c}function O(c){var a=[];for(var b in c)a.push(c[b]);return a}function ha(c){var a=[];for(var b in c)a.push(b|0);return a}function _a(c){for(var a={},d=0,f=ha(c),e=f.length;d<e;d=d+1|0){var b=f[d];a[b]=c[b]}return a}function $b(a){return new $c(Math.abs(a.a),Math.abs(a.b))}function ac(a,b){return new $c(Math.min(a.a,b.a),Math.min(a.b,b.b))}function Ra(a){try{return a.getContext('2d')}catch(b){}return null}function Sa(a){return a&&a.now?a.now():+new Date}function bc(a){return 'Good job! The new origin is node '+a.a}function ic(){this.a=''}function kc(){this.a=this.b=null,this.c=!1}function lc(a,b,c){this.a=a,this.b=b,this.c=c,this.d=-1,this.f='error: missing top bar text',this.e=new $c(0,0),this.g=[]}function mc(a){var c=this;c.b=c.c=c.d=c.f=c.e=c.g=c.h=c.l=null,c.a=a,c.b=document.createElement('canvas'),c.b.style.width=c.b.style.height='100%',c.c=new oc,S(c.c.b,
c),c.f=new Fc(c.b),c.d=new lc(c.c,new tc(c.c),new kc),S(c.d.g,c),c.e=new Gc(c.b),c.g=new Wc,Vb(c.g,c.b),c.h=new Ic(c.d),Mb(c.b,function(b){(c.c.g||c.d.c.c)&&(ub(c.f,c.d),vb(c.e,c.d))}),p(c.d,5,0),p(c.d,6,'Welcome to AlphaGraph - choose a tool to get started...'),B(window,'resize',function(){Ca(c)}),Ca(c)}function oc(){this.a={},this.b=[],this.c=[],this.d=[],this.f=null,this.e=new Ec,this.g=!1}function pc(a,b,c,d,f,e){this.a=a,this.b=b,this.c=c,this.d=d,this.f=f,this.e=e}function qc(a){this.a=-1,this.b=null,this.c=new $c(0,0),this.d=null,this.f=this.e=!1,this.g=null,this.b=a,this.a=ma()}function rc(a,b,c){this.b=-1,this.c=this.d=null,this.a=a,this.b=ma(),this.c=b,this.d=c}function sc(a,b,c,d,f){this.c=-1,this.d=this.f=this.e=null,this.a=a,this.b=b,this.c=ma(),this.d=c,this.f=d,this.e=f,ja(this.a,this.d,this),ja(this.a,this.f,this),ja(this.a,this.e,this)}function tc(a){this.a=a,this.b=[]}function Ec(){this.a={}}Ec.Z=function(a){this.a={};for(var c=0,d=a.length;c<d;c=c+1|0){var b=a[c];this.a[b.a]=!0}};Ec.Z.prototype=Ec.prototype;
function Fc(a){this.b=this.c=null,this.a=a,this.b=Ra(a)}function Gc(a){this.b=null,this.a=a,this.b=Ra(this.a)}function Hc(a,b,c){this.a=this.b=this.c=this.d=null,this.f=new Mc,this.a=a,this.b=b,this.c={},this.d=c;for(var f=0,e=Q(this.b,this.a.a),g=e.length;f<g;f=f+1|0){var d=e[f];this.c[d.a]=i(d)}}function Ic(a){var f=this;f.a=x(x(x(x(x(fa(null),'Esc',function(e){p(e,5,1)}),'C',function(g){p(g,5,3)}),'M',function(h){p(h,5,1)}),'V',function(l){p(l,5,1)}),'E',function(o){p(o,5,2)}),B(document,'keydown',function(b){var c=0;b.key!==undefined?c=b.key:b.keyCode!==undefined?c=b.keyCode:b.which!==undefined&&(c=b.which);var d=xb(f,c);d in f.a&&f.a[d](a)})}function Jc(a,b,c,d,f){this.a=a,this.b=b,this.c=c,this.d=d,this.f=f}function Kc(a,b,c){this.a=a,this.b=b,this.c=c}function Lc(a,b){this.a=a,this.b=b}function Mc(){this.a=null}function Nc(a,b){this.a=a,this.b=b}var Oc={};function Rc(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function Tc(a,b,c){this.a=a,this.b=!1,this.c=b,this.d=c}function Uc(){}H=Uc.prototype;H.M=function(a){};
H.G=function(a){};H.J=function(a){};H.da=function(){};function uc(a){Uc.call(this),this.a=a}jc(uc,Uc);function Bc(a){uc.call(this,a),this.wa=null}jc(Bc,uc);H=Bc.prototype;H.M=function(a){this.a.a.f&&(this.wa=this.a.a.f)};H.J=function(a){this.wa?(p(this.a,7,new Ec.Z([this.wa])),this.wa=null):p(this.a,7,new Ec)};function Cc(a){uc.call(this,a),this.pa=null}jc(Cc,uc);H=Cc.prototype;H.M=function(a){this.pa=m(A(a),this.a.e)};H.G=function(a){var b=m(A(a),this.a.e);if(this.pa){var c=ac(this.pa,b),d=$b(m(this.pa,b)),f=new Xc(c,d);Ba(this.a.c,f);for(var e=new Ec,h=0,l=this.a.a.c,o=l.length;h<o;h=h+1|0){var g=l[h];Wb(f,i(g))&&(e.a[g.a]=!0)}p(this.a,7,e)}};H.J=function(a){this.pa=null,Ba(this.a.c,null)};function Dc(a){uc.call(this,a)}jc(Dc,uc);Dc.prototype.G=function(a){var b=Ea(this.a.a,m(A(a),this.a.e),10);fb(this.a.a,b.length>0?b[0]:null)};function Ac(a){uc.call(this,a),this.X=this.Ha=this.ca=null}jc(Ac,uc);H=Ac.prototype;H.M=function(a){this.X=A(a),this.Ha=this.a.e,this.ca=Ma(a),this.ca.style.cursor='move',a.b=!0};H.G=function(a){
this.X&&($a(this.a,u(this.Ha,m(A(a),this.X))),this.ca.style.cursor='move',a.b=!0)};H.J=function(a){this.X&&(this.G(a),pb(this),a.b=!0)};function vc(a,b,c,d){uc.call(this,a),this.f=null,this.b=b,this.c=c,this.d=d}jc(vc,uc);H=vc.prototype;H.M=function(a){var b=this.a.a.f;b&&!(b.a in this.c.a)&&(this.f=b)};H.G=function(a){p(this.a,6,this.b)};H.J=function(a){this.f&&this.a.a.f==this.f&&this.d(this.a.a.f)};function wc(a,b,c){uc.call(this,a),this.h=null,this.e=b,this.g=c}jc(wc,uc);H=wc.prototype;H.M=function(a){this.h=a};H.G=function(a){var b=m(A(a),this.a.e);this.h&&F(m(m(A(this.h),this.a.e),b))>3&&(this.g.M(this.h),this.h=null),this.h||this.g.G(a)};H.J=function(a){this.h?(this.e.M(this.h),this.e.J(a),this.h=null):this.g.J(a)};function xc(a){uc.call(this,a),this.l=this.o=this.j=this.q=this.s=null,this.v=0,this.l=new Mc,this.v=2,Ga(this)}jc(xc,uc);H=xc.prototype;H.da=function(){switch(this.v){case 0:E(this.a.a,this.o,null),E(this.a.a,this.j,null),E(this.a.a,this.q,null);break;case 1:E(this.a.a,this.j,null),E(this.a.a,
this.q,null);break;case 2:E(this.a.a,this.q,null);break}};H.M=function(a){this.G(a),P(this).g&&na(this.a.a,P(this),P(this).g),Ga(this)};H.G=function(a){var b=m(A(a),this.a.e);this.l.a=this.a.a;switch(this.v){case 0:y(this.o,b),y(this.j,b),y(this.q,b);break;case 1:y(this.j,b);var c=m(i(this.j),i(this.o));y(this.q,u(i(this.j),V(c,-1.5707963267948966)));break;case 2:y(this.q,b);break}P(this).d=null,P(this).g=null;var d=new Ec.Z([this.o,this.j,this.q]),f=ra(this.l,P(this),b,d,null);p(this.a,6,f.b==null?"It's a masterpiece!":f.b),ia(this.a.c,f.a)};function Sc(a,b){Uc.call(this),this.Ka=a,this.ya=b}jc(Sc,Uc);H=Sc.prototype;H.da=function(){this.ya.da()};H.M=function(a){this.Ka()&&this.ya.M(a)};H.G=function(a){this.Ka()&&this.ya.G(a)};H.J=function(a){this.Ka()&&this.ya.J(a)};function yc(a){uc.call(this,a),this.n=this.w=this.L=null,this.n=new Mc,this.w=T(a.a),p(this.a,6,'Click somewhere to start creating edges')}jc(yc,uc);H=yc.prototype;H.da=function(){this.w&&E(this.a.a,this.w,null)};H.G=function(a){var h=this;h.n.a=h.a.a;
var b=m(A(a),h.a.e),c=null,d=h.L&&"It's a masterpiece!";if(h.w){h.w.d=h.w.g=null,y(h.w,b);var f=new Ec.Z([h.w]),e=ra(h.n,h.w,b,f,function(g){return g!=h.L});e.a&&(c=e.a),e.b!=null&&(d=e.b)}d!=null&&p(h.a,6,d),ia(h.a.c,c)};H.M=function(a){this.G(a);var b=m(A(a),this.a.e);this.w.g?(na(this.a.a,this.w,this.w.g),this.L=this.w.g):this.L=this.w,this.w=T(this.a.a),y(this.w,b),hb(this.a.a,this.L,this.w)};function zc(a){uc.call(this,a),this.N=this.W=null}jc(zc,uc);H=zc.prototype;H.M=function(a){this.a.a.f&&(this.N=this.a.a.f,ob(this,this.N),this.W=new Hc(this.a,z(this.a.a.e),m(A(a),this.a.e)),a.b=!0)};H.G=function(a){var b=m(A(a),this.a.e),c=null;if(this.N){var d=wb(this.W,this.N,b);c=d.a,a.b=!0}ia(this.a.c,c)};H.J=function(a){this.G(a),this.N&&(a.b=!0,this.N.g&&na(this.a.a,this.N,this.N.g),this.N=null)};function Vc(a){Uc.call(this),[],this.R=a}jc(Vc,Uc);H=Vc.prototype;H.da=function(){for(var b=0,c=this.R,d=c.length;b<d;b=b+1|0){var a=c[b];a.da()}};H.M=function(a){for(var c=0,d=this.R,f=d.length;c<f;c=c+1|0){var b=d[c];
if(b.M(a),a.b)break}};H.J=function(a){for(var c=0,d=this.R,f=d.length;c<f;c=c+1|0){var b=d[c];if(b.J(a),a.b)break}};H.G=function(a){for(var c=0,d=this.R,f=d.length;c<f;c=c+1|0){var b=d[c];if(b.G(a),a.b)break}};function Wc(){this.a=new Vc([])}function Xc(a,b){if(this.a=this.b=null,b.a<0||b.b<0)throw new Error('You constructed a rect with a negative size');this.a=a,this.b=b}function Yc(){this.a={}}function Zc(){this.a=fa(null)}function _c(){this.a=new Zc,this.b=new Zc,this.c=new Zc}function $c(a,b){this.a=a,this.b=b}Oc.PositionControls=function(){React.Component.call(this)};jc(Oc.PositionControls,React.Component);H=Oc.PositionControls.prototype;H.displayName=function(){return'PositionControls'};H._renderPositionItem=function(){var a='Mixed',b=z(this.props.f.a.e);if(O(b.a).length==1){var c=i(Da(this.props.f.a,ha(b.a)[0]));a=c.a+', '+c.b}return React.createElement(new Oc.PropertyItem().constructor,new Object(new Qc('POSITION',a)),[])};H._renderOriginItem=function(a,b,c){var d='Mixed';return c.length==1&&!c[0]?d='0, 0':c.length==1&&c[0]&&(d='Node '+c[0].a),
React.createElement(new Oc.PropertyItem().constructor,new Object(new Qc('ORIGIN',d)),[])};H._renderOriginControls=function(){var f=this,a=f.props.f.a,b=z(f.props.f.a.e),c=Fb(a,b),d=null;return d=c.length==1&&!c[0]?D.div(new Object({className:sa(),onClick:function(){f.props.d(6,'Choose node as origin'),f.props.d(0,null)}}),'Choose origin'):D.div(new Object({style:new Object({marginBottom:'12px'})}),D.span(new Object({className:sa(),onClick:function(){f.props.d(0,null)}}),'Change origin'),' or ',D.span(new Object({className:sa(),onClick:function(){f.props.d(1,null)}}),'clear it')),D.div(null,f._renderOriginItem(a,b,c),d)};H.render=function(){var a=t(function(b){b.a.a.width='100%'});return D.div(new Object({className:a}),this._renderPositionItem(),this._renderOriginControls())};Oc.PropertyItem=function(){React.Component.call(this)};jc(Oc.PropertyItem,React.Component);H=Oc.PropertyItem.prototype;H.displayName=function(){return'PropertyItem'};H.render=function(){return D.div(new Object({className:Hb()}),D.span(new Object({}),
this.props.a),D.span(new Object({className:Gb()}),this.props.b))};Oc.InspectorView=function(){React.Component.call(this)};jc(Oc.InspectorView,React.Component);H=Oc.InspectorView.prototype;H.displayName=function(){return'InspectorView'};H.render=function(){var a=this.props.f.a,b=z(a.e),c=O(b.a).length,d='0 nodes selected';d=c^1?c+' nodes selected':'1 node selected';var f=D.div(new Object({className:Jb()}),React.createElement(new Oc.PropertyItem().constructor,new Object(new Qc(d,null)),[])),e=null;return O(z(a.e).a).length>0&&(e=React.createElement(new Oc.PositionControls().constructor,new Object(this.props),[])),D.div(new Object({className:Ib()}),f,e)};Oc.ToolbarView=function(){React.Component.call(this)};jc(Oc.ToolbarView,React.Component);H=Oc.ToolbarView.prototype;H.displayName=function(){return'ToolbarView'};H.render=function(){for(var a=t(function(b){b.a.a.width=b.a.a.height='100%'}),c=[],f=0,e=[1,2,3],g=e.length;f<g;f=f+1|0){var d=e[f];c.push(this._renderTool(d))}return D.div(new Object({className:a}),c)};
H._renderTool=function(a){var d=this,b=t(function(c){a^d.props.c?(c.a.a['background-color']=r(Ja),c.c.a['background-color']=r(Kb),c.b.a['background-color']=r(cc)):c.a.a['background-color']=r(Kb),c.a.a['background-image']="url('"+Eb(a)+"')",c.a.a['background-position']='center',c.a.a['background-repeat']='no-repeat',c.a.a.width=c.a.a.height='54px'});return D.div(new Object({key:'tool-button-'+hc[a],className:b,onClick:function(){d.props.d(5,a)}}))};Oc.GraphAppView=function(){React.Component.call(this)};jc(Oc.GraphAppView,React.Component);H=Oc.GraphAppView.prototype;H.displayName=function(){return'GraphAppView'};H.render=function(){var a=t(function(b){b.a.a.width=b.a.a.height='100%',b.a.a.overflow='hidden',b.a.a['font-family']="'Gill Sans', 'Gill Sans MT', Calibri, sans-serif",b.a.a.color='#444',b.a.a.display='flex',b.a.a['flex-direction']='column'}),c=t(function(d){d.a.a.width=d.a.a.height='100%',d.a.a.display='flex'}),f=t(function(e){e.a.a.width='54px',e.a.a.height='100%',e.a.a['background-color']=r(Ja),e.a.a['border-right']='1px solid '+r(Ua)}),g=t(function(h){
h.a.a.width=h.a.a.height='100%',h.a.a['background-color']='white'}),l=t(function(o){o.a.a.width='216px',o.a.a.height='100%',o.a.a['background-color']=r(Ja),o.a.a['border-left']='1px solid '+r(Ua)});return D.div(new Object({className:a}),this._renderTopBar(),D.div(new Object({className:c}),D.div(new Object({className:f}),React.createElement(new Oc.ToolbarView().constructor,this.props)),D.div(new Object({className:g}),this._renderCanvas()),D.div(new Object({className:l}),React.createElement(new Oc.InspectorView().constructor,this.props))))};H._renderTopBar=function(){var a=t(function(b){b.a.a.width='100%',b.a.a.height='36px',b.a.a['background-color']=r(Ja),b.a.a['border-bottom']='1px solid '+r(Ua),b.a.a['text-align']='center',b.a.a['line-height']='36px',b.a.a['font-size']='12px',b.a.a['letter-spacing']='1.1px'}),c=z(this.props.f.a.e);return !O(c.a).length||!0?D.div(new Object({className:a}),this.props.b):D.div(new Object({className:a}),O(c.a).length^1?O(c.a).length+' nodes selected':'One node selected')};H._renderCanvas=function(){
var f=this,a=function(b){b&&b.appendChild(f.props.a)},c=t(function(d){d.a.a.width=d.a.a.height='100%'});return D.div(new Object({ref:a,className:c}))};function Pc(a,b,c,d,f){this.a=a,this.b=b,this.c=c,this.d=d,this.f=f}function Qc(a,b){this.a=a,this.b=b}var D=React.DOM,Ta=-1,Ja=C(15921906),cc=C(16316664),Kb=C(14737632),Ua=C(12434877),Ob=C(6710886),dc=C(10066329),ec=C(9391359),Va=C(2525183),Pb=C(10540785),xa=C(7327639),fc=C(0),za=null,Oa=x(x(fa(null),'flex',['-webkit-flex']),'flex-direction',['-webkit-flex-direction']),Wa={},Xa={},gc=['CHOOSE_ORIGIN_FOR_SELECTION','CLEAR_ORIGIN_FOR_SELECTION','SET_ORIGIN_FOR_SELECTION','REMOVE_TEMPORARY_BEHAVIORS','SET_TEMPORARY_BEHAVIORS','SET_TOOL','SET_TOP_BAR_TEXT','SET_SELECTION'],hc=['NONE','MOVE','EDGE','CIRCLE'];nc()})();
