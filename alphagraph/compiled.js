(function(){var ma=Object.create||function(a){return{__proto__:a}};function Ac(a,b){a.prototype=ma(b.prototype),a.prototype.constructor=a}var H;function Ec(){A(window,'load',function(){var a=document.getElementById('graph-application');a.style.width=a.style.height='100%',new Dc(a)})}function xa(a,b,c,d,e){var f=null,g=null,h=Qb(a,c,d);if(h.length>0){f=h[0],y(b,Pb(f));switch(f.a){case 0:(!e||e(f.b))&&(b.g=f.b,g='Snap to node');break;case 1:b.d=new Gc(0,f.c,null,null,null,null),g='Constrain to midpoint';break;case 2:b.d=new Gc(1,null,f.e,null,null,null),g='Constrain to altitude base';break;case 3:b.d=new Gc(2,null,null,f.d,null,null),g='Constrain to intersection';break}}return new cd(f,g)}function Ub(a){switch(a){case 1:return'icons/tool-move.svg';case 2:return'icons/tool-edge.svg';case 3:return'icons/tool-circle.svg'}return null}function Vb(a,b){for(var c=[],e=0,f=L(b,a),g=f.length;e<g;e=e+1|0){var d=f[e];j(d)&&j(d).a==3?X(c,j(d).e):X(c,null)}return c}function ya(){return t(function(a){a.a.a.color=s(dc),a.a.a.cursor='pointer'})}
function ha(a,b,c,d){var e=(a.a-b.a)*(c.b-d.b)-(a.b-b.b)*(c.a-d.a),f=(a.a*b.b-a.b*b.a)*(c.a-d.a)-(a.a-b.a)*(c.a*d.b-c.b*d.a),g=(a.a*b.b-a.b*b.a)*(c.b-d.b)-(a.b-b.b)*(c.a*d.b-c.b*d.a);return new qd(f/e,g/e)}function fc(a,b,c){var d=N(V(k(b,c),1.5707963267948966));return ha(a,r(a,d),b,c)}function gc(a,b,c){var d=I(r(a,b),2),e=I(r(b,c),2);return ha(d,r(d,N(V(k(a,b),1.5707963267948966))),e,r(e,N(V(k(b,c),1.5707963267948966))))}function Ya(a,b,c){var d=w(k(a,b)),e=w(k(a,c)),f=w(k(b,c)),g=Math.pow(d,2),h=Math.pow(e,2),l=Math.pow(f,2);if(h>g+l)return d;else if(g>h+l)return e;else{var n=(d+e+f)/2;return 2/f*Math.sqrt(n*(n-d)*(n-e)*(n-f))}}function hc(a,b,c,d){var e=k(d,b),f=k(c,b),g=k(a,b),h=_(e,e),l=_(e,f),n=_(e,g),p=_(f,f),q=_(f,g),m=h*p-l*l,u=(p*n-l*q)/m,B=(h*q-l*n)/m;return u>=0&&B>=0&&u+B<1}function oc(a){for(var b=0,c=0,d=a.length;c<d;c=c+1|0)b=((b<<5)-b|0)+a.charCodeAt(c)|0;return b}function Ha(b,a){a!=b.a&&(b.a=a,b.c=!0)}function qa(b,a){b.b!=a&&(b.b=a,b.c=!0)}function lb(b,a){b.f=a,b.a.g=!0}function o(e,a,b){
var c=!0;switch(a){case 6:e.d===b?c=!1:e.d=b;break;case 7:e.e===b?c=!1:e.e=b;break;case 8:tb(e.a,b);break}if(c&&kc('Trigger action '+xc[a]+' with data ('+b+')'),c)for(var f=0,g=e.l,h=g.length;f<h;f=f+1|0){var d=g[f];la(d,a,b)}}function mb(c){return c.g?t(function(a){a.a.a['background-color']=s(cc),a.a.a.color=s(ec)}):t(function(b){b.a.a['background-color']=s(Va)})}function hb(b,a){da(a)&&ca(b)}function la(m,a,b){var c=m.d.a,d=E(c.f);switch(a){case 3:var e=L(d,m.d.a);ub(m.d.a,e);break;case 0:la(m,5,new kd([new Uc(m.d),new Mc(m.d,'Choose a node as the origin',d,function(f){o(m.d,4,null),o(m.d,2,f),o(m.d,7,tc(f))})]));break;case 1:for(var u=0,B=L(E(m.d.a.f),m.d.a),x=B.length;u<x;u=u+1|0){var g=B[u],h=i(g);g.d=null,y(g,h)}break;case 2:for(var l=b,J=0,K=L(E(m.d.a.f),m.d.a),W=K.length;J<W;J=J+1|0){var n=K[J];n.d=new Gc(3,null,null,null,l,k(i(n),i(l)))}break;case 4:m.l=null,la(m,6,m.d.d);break;case 5:m.l=new kd(m.g.a.ia.slice()),_a(m.g);var p=b;T(m.g,p);break;case 6:_a(m.g);var q=new hd(function(){return jc(32)},new Rc(m.d));
T(m.g,q),T(m.g,new Uc(m.d));switch(m.d.d){case 1:T(m.g,new Nc(m.d,new Sc(m.d),new kd([new Qc(m.d),new Tc(m.d)])));break;case 2:T(m.g,new Pc(m.d));break;case 3:T(m.g,new Oc(m.d));break}ca(m);break;case 7:ca(m);break;case 8:ca(m);break}}function ca(f){var a=cb(window.performance),b=new ed(f.b,f.d.e,f.d.d,function(c,d){o(f.d,c,d)},f.d);ReactDOM.render(React.createElement(new dd.GraphAppView().constructor,new Object(b)),f.a);var e=cb(window.performance)-a;e>16&&console.warn('DOM render took more than 16ms -- duration was '+e+'ms')}function Ia(b){var a=b.b.getBoundingClientRect();b.b.width=a.width*window.devicePixelRatio|0,b.b.height=a.height*window.devicePixelRatio|0,b.c.g=!0}function R(c,a,b){a.a in c.a||(c.a[a.a]=[]),X(c.a[a.a],b)}function Ja(c,a){for(var d=0,e=c.c,f=e.length;d<f;d=d+1|0){var b=e[d];if(b.a==a)return b}return null}function ra(e,a,b){for(var c=null,f=0,g=e.d,h=g.length;f<h;f=f+1|0){var d=g[f];(d.c==a&&d.d==b||d.c==b&&d.d==a)&&(c=d)}return c}function nb(d,a){for(var b=[],e=0,f=d.d,g=f.length;e<g;e=e+1|0){
var c=f[e];c.c==a?b.push(c.d):c.d==a&&b.push(c.c)}return b}function Ka(e,a,b){for(var c=[],f=0,g=e.c,h=g.length;f<h;f=f+1|0){var d=g[f];w(k(i(d),a))<4+b&&c.push(d)}return c}function ob(e,a,b){for(var c=[],f=0,g=e.d,h=g.length;f<h;f=f+1|0){var d=g[f];w(k(sa(d),a))<b&&c.push(d)}return c}function pb(g,a,b){for(var c=[],p=0,q=g.d,m=q.length;p<m;p=p+1|0){var d=q[p];if(Ya(a,i(d.c),i(d.d))<b)for(var h=0,l=nb(g,d.c),n=l.length;h<n;h=h+1|0){var e=l[h];if(ra(g,e,d.d)){var f=new $c(e,d.c,d.d);w(k(fa(f),a))<b&&c.push(f)}}}return c}function qb(p,a,b){for(var c=[],q=0,m=p.d,u=m.length;q<u;q=q+1|0){var d=m[q];Ya(a,i(d.c),i(d.d))<b&&c.push(d)}for(var e=[],f=0,x=c.length-1|0;f<x;f=f+1|0)for(var g=f+1|0,B=c.length;g<B;g=g+1|0){var h=c[f],l=c[g],n=ha(i(h.c),i(h.d),i(l.c),i(l.d));w(k(n,a))<b&&e.push(new ad(h,l))}return e}function ta(){return db=db+1|0,db}function sb(b,a){b.e=a,b.g=!0}function tb(b,a){b.f=a,b.g=!0}function Y(b){var a=new Hc(b);return b.c.push(a),b.g=!0,a}function C(g,a,b){na(g.c,a);for(var c=[],h=0,l=g.d,n=l.length;h<n;h=h+1|0){
var d=l[h];(d.c==a||d.d==a)&&c.push(d)}for(var p=0,q=c.length;p<q;p=p+1|0){var e=c[p];na(g.d,e)}if(a.a in g.a)for(var m=0,u=g.a[a.a],B=u.length;m<B;m=m+1|0){var f=u[m];ib(f,a,b)}g.g=!0}function ub(c,a){for(var d=0,e=a.length;d<e;d=d+1|0){var b=a[d];C(c,b,null)}}function vb(d,a,b){if(!ra(d,a,b)){var c=new Ic(d,a,b);d.d.push(c),d.g=!0}}function wb(c,a){na(c.d,a);for(var d=0,e=c.c,f=e.length;d<f;d=d+1|0){var b=e[d];if(j(b)&&j(b).b==a)throw new Error('Deleting edge that a node is constrained to')}c.g=!0}function ua(h,a,b){if(a!=b){var c=ra(h,a,b);if(c){var d=yb(h,c);d&&C(h,d,null);for(var e=zb(h,c),l=0,n=e.length;l<n;l=l+1|0){var f=e[l];C(h,f,null)}wb(h,c)}for(var p=0,q=h.d,m=q.length;p<m;p=p+1|0){var g=q[p];g.c==a&&(g.c=b),g.d==a&&(g.d=b)}C(h,a,b),xb(h)}}function xb(b){for(var c=0,d=b.c,e=d.length;c<e;c=c+1|0)var a=d[c]}function yb(c,a){for(var d=0,e=c.c,f=e.length;d<f;d=d+1|0){var b=e[d];if(j(b)&&!j(b).a&&j(b).b==a)return b}return null}function zb(d,a){for(var b=[],e=0,f=d.c,g=f.length;e<g;e=e+1|0){var c=f[e];j(c)&&j(c).c&&Ob(j(c).c,
a)&&b.push(c)}return b}function La(a){switch(a.a){case 0:return[a.b.c,a.b.d];case 1:return[a.c.a,a.c.b,a.c.c];case 2:return[a.d.a.c,a.d.a.d,a.d.b.c,a.d.b.d];case 3:return[a.e]}throw new Error('Unhandles constraint type')}function Ma(a){return a.b.e==a}function da(b){var a=!1;return a=b.g?da(b.g):b.a in E(b.b.f).a,a}function j(b){b.e=!0;var a=null;return a=b.g?j(b.g):b.d,b.e=!1,a}function i(b){b.f=!0;var a=null;return a=b.g?i(b.g):j(b)&&!j(b).a?sa(j(b).b):j(b)&&j(b).a==1?fa(j(b).c):j(b)&&j(b).a==2?wa(j(b).d):j(b)&&j(b).a==3?r(i(j(b).e),j(b).f):b.c,b.f=!1,a}function rb(d,a){var b=[];for(j(d)&&Ga(b,La(j(d)));b.length;){var c=b.pop();if(c==a)return!0;j(c)&&Ga(b,La(j(c)))}return!1}function y(c,a){if(c.c!=a){c.c=a;for(var d=0,e=c.b.b,f=e.length;d<f;d=d+1|0){var b=e[d];hb(b,c)}c.b.g=!0}return c}function sa(a){return I(r(i(a.c),i(a.d)),2)}function ib(d,a,b){var c=b==null||b==d.d||b==d.e||b==d.f;c?ba(d.b.b,d):a==d.d?(ba(d.a.a[d.d.a],d),d.d=b,R(d.a,d.d,d)):a==d.e?(ba(d.a.a[d.e.a],d),d.e=b,R(d.a,d.e,d)):a==d.f&&(ba(d.a.a[d.f.a],
d),d.f=b,R(d.a,d.f,d))}function Na(a){return gc(i(a.d),i(a.e),i(a.f))}function Ab(a){return w(k(Na(a),i(a.d)))}function Bb(d,a,b,c){return d.b.push(new Jc(d.a,d,a,b,c)),jb(d.b)}function S(a){switch(a.u){case 0:return a.n;case 1:return a.p;case 2:return a.q}throw new Error('Invalid _state')}function Oa(a){switch(a.u){case 0:a.u=1;break;case 1:a.u=2;break;case 2:a.u=0,a.n=Y(a.a.a),a.p=Y(a.a.a),a.q=Y(a.a.a),a.m=Bb(a.a.b,a.n,a.p,a.q);break}}function Cb(a){a.ja&&(a.ja.style.cursor=null),a.aa=a.Pa=a.ja=null}function E(b){var a=new Vc;return a.a=kb(b.a),a}function L(e,a){for(var b=[],f=0,g=oa(e.a),h=g.length;f<h;f=f+1|0){var c=g[f],d=Ja(a,c);d&&b.push(d)}return b}function Hb(e,a){e.b.save(),e.b.scale(window.devicePixelRatio,window.devicePixelRatio),e.b.translate(a.f.a,a.f.b),e.c=a.a;for(var f=0,g=a.a.d,h=g.length;f<h;f=f+1|0){var b=g[f];Qa(e.b,i(b.c),i(b.d),Wa,1)}for(var l=0,n=a.b.b,p=n.length;l<p;l=l+1|0){var c=n[l];ea(e.b,Na(c),Ab(c),null,Wa,1)}for(var q=0,m=a.a.c,u=m.length;q<u;q=q+1|0){var d=m[q];ea(e.b,i(d),Ma(d)?4.5:4,
Fb(d),Ra(d),1)}e.b.restore(),a.a.g=!1}function Ib(c,a){var b=a.c.b;if(b)switch(b.a){case 0:ea(c.b,i(b.b),5,null,$,2);break;case 1:Ta(c.b,b.c);break;case 2:Ua(c.b,b.e);break;case 3:Gb(c.b,b.d);break}}function Jb(n,a){for(var b=a.a,c=E(b.f),d=a.h^1?L(c,b):b.c,p=0,q=d.length;p<q;p=p+1|0){var e=d[p];if(j(e))switch(j(e).a){case 0:Ta(n.b,j(e).b);break;case 1:Ua(n.b,j(e).c);break;case 2:var f=j(e).d.a,g=j(e).d.b;M(n.b,i(f.c),i(f.d),$,-1,null),M(n.b,i(g.c),i(g.d),$,-1,null);break;case 3:var h=i(j(e).e),l=i(e);M(n.b,h,l,Wa,1,[6,6]);break}}}function Kb(c,a){c.b.save(),c.b.scale(window.devicePixelRatio,window.devicePixelRatio),c.b.translate(a.f.a,a.f.b);var b=c.a.getBoundingClientRect();c.b.clearRect(-a.f.a,-a.f.b,b.width,b.height),Ib(c,a),Jb(c,a),c.b.restore()}function Lb(e,a){e.b.save(),e.b.scale(window.devicePixelRatio,window.devicePixelRatio),e.b.translate(a.f.a,a.f.b);var b=a.c.a;if(b){var c=za(wc);c.d=.3;var d=za(dc);d.d=.6,Eb(e.b,b,c,d,1)}e.b.restore(),a.c.c=!1}function Qa(a,b,c,d,e){M(a,b,c,d,-1,null)}function M(a,b,c,d,e,f){
a.beginPath(),a.moveTo(b.a,b.b),a.lineTo(c.a,c.b),d&&(a.strokeStyle=s(d)),e>=0&&(a.lineWidth=e),f&&a.setLineDash(f),d&&a.stroke()}function Db(a,b,c,d,e,f,g){for(var h=N(V(k(c,b),1.5707963267948966)),l=e*(d-1|0),n=0;n<d;n=n+1|0){var p=U(h,e*n-l/2),q=r(b,p),m=r(c,p);M(a,q,m,f,-1,null)}}function ea(a,b,c,d,e,f){a.beginPath(),a.arc(b.a,b.b,c,0,6.283185307179586),d&&(a.fillStyle=s(d),a.fill()),f>=0&&(a.lineWidth=f),e&&(a.strokeStyle=s(e),a.stroke())}function Eb(a,b,c,d,e){a.beginPath(),a.rect(b.a.a,b.a.b,b.b.a,b.b.b),c&&(a.fillStyle=s(c),a.fill()),e>=0&&(a.lineWidth=e),d&&(a.strokeStyle=s(d),a.stroke())}function Fb(a){return da(a)?Ra(a):ec}function Ra(a){var b=null;return b=j(a)?$:cc,Ma(a)&&(b=za(b),bc(b,.1)),b}function Sa(a,b,c){var d=N(V(c,1.5707963267948966)),e=k(b,I(U(d,10),2)),f=r(b,I(U(d,10),2));Db(a,e,f,2,2,$,1)}function Ta(a,b){var c=i(b.c),d=i(b.d),e=I(r(c,d),2),f=N(k(d,c));Sa(a,I(r(c,e),2),f),Sa(a,I(r(d,e),2),f)}function Ua(a,b){var c=fa(b),d=i(b.a),e=i(b.b),f=i(b.c),g=w(k(c,e))<w(k(c,f))?e:f,h=w(k(c,e))<w(k(c,
f))?f:e,l=N(k(d,c)),n=hc(r(c,U(l,1e-05)),d,e,f);Qa(a,c,d,$,1);var p=n?h:g,q=U(N(k(p,c)),10),m=U(l,10),u=r(c,q),B=r(c,m),x=r(r(c,q),m);M(a,x,u,$,-1,null),M(a,x,B,$,-1,null),n||M(a,c,g,Wa,1,[6,6])}function Gb(a,b){var c=wa(b);ea(a,c,5,null,$,5)}function Mb(g,a,b){g.e.a=g.a.a;var c=new cd(null,null);if(a.g=null,j(a)&&j(a).a==3)j(a).f=k(b,i(j(a).e));else{a.d=null,y(a,b);var d=new Vc.Z([a]);c=xa(g.e,a,b,d,null)}for(var e=k(i(a),g.c[a.a]),h=0,l=L(g.b,g.a.a),n=l.length;h<n;h=h+1|0){var f=l[h];j(f)||y(f,r(g.c[f.a],e))}return c}function Nb(b,a){if(a^8){if(a^27){if(a^32){if(a>32)return String.fromCharCode(a)}else return'Space'}else return'Esc'}else return'Backspace';return'unknown'}function Pb(a){switch(a.a){case 0:return i(a.b);case 1:return sa(a.c);case 2:return fa(a.e);case 3:return wa(a.d)}return qc()}function fa(a){return fc(i(a.a),i(a.b),i(a.c))}function Ob(b,a){return a.c==b.a&&a.d==b.b||a.c==b.b&&a.d==b.a||a.c==b.b&&a.d==b.c||a.c==b.c&&a.d==b.b||a.c==b.c&&a.d==b.a||a.c==b.a&&a.d==b.c}function wa(a){return ha(i(a.a.c),
i(a.a.d),i(a.b.c),i(a.b.d))}function Qb(q,a,b){for(var c=[],d=Ka(q.a,a,10),m=0,u=d.length;m<u;m=m+1|0){var e=d[m];ga(q,[e],b)&&c.push(new _c(0,e,null,null,null))}for(var f=ob(q.a,a,10),B=0,x=f.length;B<x;B=B+1|0){var g=f[B];Rb(q,g,b)&&c.push(new _c(1,null,g,null,null))}for(var h=pb(q.a,a,10),J=0,K=h.length;J<K;J=J+1|0){var l=h[J];Sb(q,l,b)&&c.push(new _c(2,null,null,null,l))}for(var n=qb(q.a,a,10),W=0,aa=n.length;W<aa;W=W+1|0){var p=n[W];Tb(q,p,b)&&c.push(new _c(3,null,null,p,null))}return c}function Rb(c,a,b){return ga(c,[a.c,a.d],b)}function Sb(c,a,b){return ga(c,[a.a,a.b,a.c],b)}function Tb(c,a,b){return ga(c,[a.a.c,a.a.d,a.b.c,a.b.d],b)}function ga(e,a,b){for(var h=0,l=L(b,e.a),n=l.length;h<n;h=h+1|0)for(var c=l[h],f=0,g=a.length;f<g;f=f+1|0){var d=a[f];if(c==d||rb(d,c))return!1}return!0}function Wb(){return t(function(a){a.a.a['float']='right',a.a.a.color=s(vc)})}function Xb(){return t(function(a){a.a.a['margin-bottom']='12px'})}function Yb(){return t(function(a){a.a.a['font-size']='11px',a.a.a.padding='18px'})}
function Zb(){return t(function(a){a.a.a['text-align']='center',a.a.a['margin-bottom']='12px',a.a.a['font-weight']='600',a.a.a['text-transform']='uppercase'})}function $b(a){var b=a.getBoundingClientRect();return b.bottom>-1&&b.right>-1&&b.top<=window.innerHeight&&b.left<=window.innerWidth}function ac(a,b){var c=null,d=function(){if($b(a)){var e=new Date,f=c?+e-+c:1/30;b(f),c=e}requestAnimationFrame(d)};requestAnimationFrame(d)}function za(a){return new gd(a.a,a.b,a.c,a.d)}function s(a){return 'rgba('+(a.a*255|0)+', '+(a.b*255|0)+', '+(a.c*255|0)+', '+a.d+')'}function bc(b,a){b.a=Math.min(b.a+a,1),b.b=Math.min(b.b+a,1),b.c=Math.min(b.c+a,1)}function D(a){return new gd((a>>16&255)/255,(a>>8&255)/255,(a&255)/255,1)}function ic(){Ea||(Ea=new nd,A(document,'keydown',function(a){Ea.a[a.keyCode]=!0}),A(document,'keyup',function(b){delete Ea.a[b.keyCode]}))}function jc(a){return ic(),a in Ea.a}function kc(a){}function Za(a){return a.c?a.c.target:a.d.target}function z(c){var a=Za(c).getBoundingClientRect(),b=null;return b=c.c?new qd(c.c.clientX,
c.c.clientY):new qd(Ba(c.d.touches)[0].clientX,Ba(c.d.touches)[0].clientY),k(b,new qd(a.left,a.top))}function T(b,a){b.a.ia.push(a),a.Fa()}function _a(a){a.a.ka(),a.a=new kd([])}function lc(l,a){A(a,'mousedown',function(b){l.a.Q(new id(l,b,null)),O(b)}),A(a,'mousemove',function(c){l.a.G(new id(l,c,null)),O(c)}),A(a,'mouseup',function(d){l.a.P(new id(l,d,null)),O(d)}),A(a,'mouseleave',function(e){l.a.P(new id(l,e,null)),O(e)}),A(a,'touchstart',function(f){l.a.Q(new id(l,null,f)),O(f)}),A(a,'touchmove',function(g){l.a.G(new id(l,null,g)),O(g)}),A(a,'touchend',function(h){l.a.P(new id(l,null,h)),O(h)})}function mc(b,a){return a.a>b.a.a&&a.b>b.a.b&&a.a<b.a.a+b.b.a&&a.b<b.a.b+b.b.b}function Aa(f){for(var a=new zc,m=0,u=Object.keys(f.a),B=u.length;m<B;m=m+1|0){var b=u[m],c=f.a[b];if(a.a+=b+': '+c+';\n',b in $a)for(var g=0,h=$a[b],l=h.length;g<l;g=g+1|0){var d=h[g];a.a+=d+': '+c+';\n'}if(c in $a)for(var n=0,p=$a[c],q=p.length;n<q;n=n+1|0){var e=p[n];a.a+=b+': '+e+';\n'}}return a.a}function nc(){for(var a=new zc,b=0;b<10;b=b+1|0){
var c=Math.floor(Math.random()*52|0)|0;a.a+='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.slice(c,c+1|0)}return a.a}function t(a){var b=new pd;a(b);var c=oc(ab(b,''));return c in fb||(fb[c]=b,gb[c]=nc(),pc(c)),gb[c]}function pc(a){var b=gb[a];if(!document.getElementById(b)){var c=document.createElement('style');c.type='text/css',c.id=b;var d=fb[a];c.innerHTML=ab(d,b),document.getElementsByTagName('head')[0].appendChild(c)}}function ab(c,a){var b=new zc;return Object.keys(c.a.a).length&&(b.a+='.'+a+' {\n',b.a+=Aa(c.a),b.a+='}\n'),Object.keys(c.b.a).length&&(b.a+='.'+a+':hover {\n',b.a+=Aa(c.b),b.a+='}\n'),Object.keys(c.c.a).length&&(b.a+='.'+a+':active {',b.a+=Aa(c.c),b.a+='}\n'),b.a}function r(b,a){return new qd(b.a+a.a,b.b+a.b)}function k(b,a){return new qd(b.a-a.a,b.b-a.b)}function U(b,a){return new qd(b.a*a,b.b*a)}function I(b,a){return new qd(b.a/a,b.b/a)}function V(b,a){return new qd(b.a*Math.cos(a)-b.b*Math.sin(a),b.b*Math.cos(a)+b.a*Math.sin(a))}function N(a){return I(a,w(a))}function w(a){return Math.sqrt(a.a*a.a+a.b*a.b)}
function _(b,a){return b.a*a.a+b.b*a.b}function qc(){return new qd(0,0)}function Ba(a){for(var b=[],c=0,d=a.length;c<d;c=c+1|0)b.push(a[c]);return b}function A(a,b,c){a.addEventListener(b,c)}function O(a){a.preventDefault()}function ba(d,a){for(var b=0,c=0,e=d.length;c<e;c=c+1|0)d[c]!=a&&(b<c&&(d[b]=d[c]),b=b+1|0);for(;b<d.length;)d.pop()}function jb(a){return a[a.length-1|0]}function Ga(c,a){for(var d=0,e=a.length;d<e;d=d+1|0){var b=a[d];c.push(b)}}function X(b,a){~b.indexOf(a)||b.push(a)}function na(c,a){var b=c.indexOf(a);b>-1&&c.splice(b,1)}function v(c,a,b){return c[a]=b,c}function pa(c){var a=[];for(var b in c)a.push(c[b]);return a}function oa(c){var a=[];for(var b in c)a.push(b|0);return a}function kb(c){for(var a={},d=0,e=oa(c),f=e.length;d<f;d=d+1|0){var b=e[d];a[b]=c[b]}return a}function rc(a){return new qd(Math.abs(a.a),Math.abs(a.b))}function sc(a,b){return new qd(Math.min(a.a,b.a),Math.min(a.b,b.b))}function bb(a){try{return a.getContext('2d')}catch(b){}return null}function cb(a){return a&&a.now?a.now():+new Date}
function tc(a){return 'Good job! The new origin is node '+a.a}function zc(){this.a=''}function Bc(){this.a=this.b=null,this.c=!1}function Cc(a,b,c){this.a=a,this.b=b,this.c=c,this.d=-1,this.e='error: missing top bar text',this.f=new qd(0,0),this.g=!1,this.h=1,this.l=[]}function Dc(a){var c=this;c.b=c.c=c.d=c.e=c.f=c.g=c.h=c.l=null,c.a=a,c.b=document.createElement('canvas'),c.b.style.width=c.b.style.height='100%',c.c=new Fc,X(c.c.b,c),c.e=new Wc(c.b),c.d=new Cc(c.c,new Kc(c.c),new Bc),X(c.d.l,c),c.f=new Xc(c.b),c.g=new ld,lc(c.g,c.b),c.h=new Zc(c.d),ac(c.b,function(b){(c.c.g||c.d.c.c)&&(Kb(c.f,c.d),Hb(c.e,c.d),Lb(c.f,c.d))}),o(c.d,6,0),o(c.d,7,'Welcome to AlphaGraph - choose a tool to get started...'),A(window,'resize',function(){Ia(c)}),Ia(c)}function Fc(){this.a={},this.b=[],this.c=[],this.d=[],this.e=null,this.f=new Vc,this.g=!1}function Gc(a,b,c,d,e,f){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e,this.f=f}function Hc(a){this.a=-1,this.b=null,this.c=new qd(0,0),this.d=null,this.e=this.f=!1,this.g=null,this.b=a,
this.a=ta()}function Ic(a,b,c){this.b=-1,this.c=this.d=null,this.a=a,this.b=ta(),this.c=b,this.d=c}function Jc(a,b,c,d,e){this.c=-1,this.d=this.e=this.f=null,this.a=a,this.b=b,this.c=ta(),this.d=c,this.e=d,this.f=e,R(this.a,this.d,this),R(this.a,this.e,this),R(this.a,this.f,this)}function Kc(a){this.a=a,this.b=[]}function Vc(){this.a={}}Vc.Z=function(a){this.a={};for(var c=0,d=a.length;c<d;c=c+1|0){var b=a[c];this.a[b.a]=!0}};Vc.Z.prototype=Vc.prototype;function Yc(a,b,c){this.a=this.b=this.c=this.d=null,this.e=new bd,this.a=a,this.b=b,this.c={},this.d=c;for(var e=0,f=L(this.b,this.a.a),g=f.length;e<g;e=e+1|0){var d=f[e];this.c[d.a]=i(d)}}function Zc(a){var e=this;e.a=v(v(v(v(v(v(ma(null),'Backspace',function(f){o(f,3,null)}),'Esc',function(g){o(g,6,1)}),'C',function(h){o(h,6,3)}),'M',function(l){o(l,6,1)}),'V',function(n){o(n,6,1)}),'E',function(p){o(p,6,2)}),A(document,'keydown',function(b){var c=0;b.key!==undefined?c=b.key:b.keyCode!==undefined?c=b.keyCode:b.which!==undefined&&(c=b.which);var d=Nb(e,c);d in e.a&&(e.a[d](a),
O(b))})}function _c(a,b,c,d,e){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e}function $c(a,b,c){this.a=a,this.b=b,this.c=c}function ad(a,b){this.a=a,this.b=b}function bd(){this.a=null}function cd(a,b){this.a=a,this.b=b}var dd={};function gd(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function id(a,b,c){this.a=a,this.b=!1,this.c=b,this.d=c}function jd(){}H=jd.prototype;H.Q=function(a){};H.G=function(a){};H.P=function(a){};H.Fa=function(){};H.ka=function(){};function Lc(a){jd.call(this),this.a=a}Ac(Lc,jd);function Qc(a){Lc.call(this,a),this.K=this.W=null}Ac(Qc,Lc);H=Qc.prototype;H.Q=function(a){this.a.a.e&&(this.K=this.a.a.e,da(this.K)||o(this.a,8,new Vc.Z([this.K])),this.W=new Yc(this.a,E(this.a.a.f),k(z(a),this.a.f)),a.b=!0)};H.G=function(a){var b=k(z(a),this.a.f),c=null;if(this.K){var d=Mb(this.W,this.K,b);c=d.a,a.b=!0}qa(this.a.c,c)};H.P=function(a){this.G(a),this.K&&(a.b=!0,this.K.g&&ua(this.a.a,this.K,this.K.g),this.K=null)};function Rc(a){Lc.call(this,a),this.aa=this.Pa=this.ja=null}Ac(Rc,Lc);H=Rc.prototype;
H.Q=function(a){this.aa=z(a),this.Pa=this.a.f,this.ja=Za(a),this.ja.style.cursor='move',a.b=!0};H.G=function(a){this.aa&&(lb(this.a,r(this.Pa,k(z(a),this.aa))),this.ja.style.cursor='move',a.b=!0)};H.P=function(a){this.aa&&(this.G(a),Cb(this),a.b=!0)};function Sc(a){Lc.call(this,a),this.Ca=null}Ac(Sc,Lc);H=Sc.prototype;H.Q=function(a){this.a.a.e&&(this.Ca=this.a.a.e)};H.P=function(a){this.Ca?(o(this.a,8,new Vc.Z([this.Ca])),this.Ca=null):o(this.a,8,new Vc)};function Tc(a){Lc.call(this,a),this.va=null}Ac(Tc,Lc);H=Tc.prototype;H.Q=function(a){this.va=k(z(a),this.a.f)};H.G=function(a){var b=k(z(a),this.a.f);if(this.va){var c=sc(this.va,b),d=rc(k(this.va,b)),e=new md(c,d);Ha(this.a.c,e);for(var f=new Vc,h=0,l=this.a.a.c,n=l.length;h<n;h=h+1|0){var g=l[h];mc(e,i(g))&&(f.a[g.a]=!0)}o(this.a,8,f)}};H.P=function(a){this.va=null,Ha(this.a.c,null)};function Uc(a){Lc.call(this,a)}Ac(Uc,Lc);Uc.prototype.G=function(a){var b=Ka(this.a.a,k(z(a),this.a.f),10);sb(this.a.a,b.length>0?b[0]:null)};function Pc(a){Lc.call(this,a),this.B=this.x=this.J=null,
this.B=new bd,this.x=Y(a.a),o(this.a,7,'Click somewhere to start creating edges')}Ac(Pc,Lc);H=Pc.prototype;H.ka=function(){this.x&&C(this.a.a,this.x,null)};H.G=function(a){var h=this;h.B.a=h.a.a;var b=k(z(a),h.a.f),c=null,d=h.J&&"It's a masterpiece!";if(h.x){h.x.d=h.x.g=null,y(h.x,b);var e=new Vc.Z([h.x]),f=xa(h.B,h.x,b,e,function(g){return g!=h.J});f.a&&(c=f.a),f.b!=null&&(d=f.b)}d!=null&&o(h.a,7,d),qa(h.a.c,c)};H.Q=function(a){this.G(a);var b=k(z(a),this.a.f);this.x.g?(ua(this.a.a,this.x,this.x.g),this.J=this.x.g):this.J=this.x,this.x=Y(this.a.a),y(this.x,b),vb(this.a.a,this.J,this.x)};function Mc(a,b,c,d){Lc.call(this,a),this.e=null,this.b=b,this.c=c,this.d=d}Ac(Mc,Lc);H=Mc.prototype;H.Fa=function(){this.a.g=!0};H.ka=function(){this.a.g=!1};H.Q=function(a){var b=this.a.a.e;b&&!(b.a in this.c.a)&&(this.e=b)};H.G=function(a){o(this.a,7,this.b)};H.P=function(a){this.e&&this.a.a.e==this.e&&this.d(this.a.a.e)};function hd(a,b){jd.call(this),this.Xa=a,this.Da=b}Ac(hd,jd);H=hd.prototype;H.ka=function(){this.Da.ka()};
H.Q=function(a){this.Xa()&&this.Da.Q(a)};H.G=function(a){this.Xa()&&this.Da.G(a)};H.P=function(a){this.Xa()&&this.Da.P(a)};function Nc(a,b,c){Lc.call(this,a),this.h=null,this.f=b,this.g=c}Ac(Nc,Lc);H=Nc.prototype;H.Q=function(a){this.h=a};H.G=function(a){var b=k(z(a),this.a.f);this.h&&w(k(k(z(this.h),this.a.f),b))>3&&(this.g.Q(this.h),this.h=null),this.h||this.g.G(a)};H.P=function(a){this.h?(this.f.Q(this.h),this.f.P(a),this.h=null):this.g.P(a)};function Oc(a){Lc.call(this,a),this.l=this.n=this.p=this.q=this.m=null,this.u=0,this.l=new bd,this.u=2,Oa(this)}Ac(Oc,Lc);H=Oc.prototype;H.ka=function(){switch(this.u){case 0:C(this.a.a,this.n,null),C(this.a.a,this.p,null),C(this.a.a,this.q,null);break;case 1:C(this.a.a,this.p,null),C(this.a.a,this.q,null);break;case 2:C(this.a.a,this.q,null);break}};H.Q=function(a){this.G(a),S(this).g&&ua(this.a.a,S(this),S(this).g),Oa(this)};H.G=function(a){var b=k(z(a),this.a.f);this.l.a=this.a.a;switch(this.u){case 0:y(this.n,b),y(this.p,b),y(this.q,b);break;case 1:y(this.p,b);var c=k(i(this.p),
i(this.n));y(this.q,r(i(this.p),V(c,-1.5707963267948966)));break;case 2:y(this.q,b);break}S(this).d=null,S(this).g=null;var d=new Vc.Z([this.n,this.p,this.q]),e=xa(this.l,S(this),b,d,null);o(this.a,7,e.b==null?"It's a masterpiece!":e.b),qa(this.a.c,e.a)};function kd(a){jd.call(this),[],this.ia=a}Ac(kd,jd);H=kd.prototype;H.Fa=function(){for(var b=0,c=this.ia,d=c.length;b<d;b=b+1|0){var a=c[b];a.Fa()}};H.ka=function(){for(var b=0,c=this.ia,d=c.length;b<d;b=b+1|0){var a=c[b];a.ka()}};H.Q=function(a){for(var c=0,d=this.ia,e=d.length;c<e;c=c+1|0){var b=d[c];if(b.Q(a),a.b)break}};H.P=function(a){for(var c=0,d=this.ia,e=d.length;c<e;c=c+1|0){var b=d[c];if(b.P(a),a.b)break}};H.G=function(a){for(var c=0,d=this.ia,e=d.length;c<e;c=c+1|0){var b=d[c];if(b.G(a),a.b)break}};function ld(){this.a=new kd([])}function md(a,b){if(this.a=this.b=null,b.a<0||b.b<0)throw new Error('You constructed a rect with a negative size');this.a=a,this.b=b}function nd(){this.a={}}function od(){this.a=ma(null)}function pd(){this.a=new od,this.b=new od,
this.c=new od}function qd(a,b){this.a=a,this.b=b}dd.PositionControls=function(){React.Component.call(this)};Ac(dd.PositionControls,React.Component);H=dd.PositionControls.prototype;H.displayName=function(){return'PositionControls'};H._renderPositionItem=function(){var a='Mixed',b=E(this.props.e.a.f);if(pa(b.a).length==1){var c=i(Ja(this.props.e.a,oa(b.a)[0]));a=(c.a|0)+', '+(c.b|0)}return React.createElement(new dd.PropertyItem().constructor,new Object(new fd('POSITION',a)),[])};H._renderOriginItem=function(a,b,c){var d='Mixed';return c.length==1&&!c[0]?d='0, 0':c.length==1&&c[0]&&(d='Node '+c[0].a),React.createElement(new dd.PropertyItem().constructor,new Object(new fd('ORIGIN',d)),[])};H._renderOriginControls=function(){var e=this,a=e.props.e.a,b=E(e.props.e.a.f),c=Vb(a,b),d=null;return d=c.length==1&&!c[0]?F.div(new Object({className:ya(),onClick:function(){e.props.d(7,'Choose a node as the origin'),e.props.d(0,null)}}),'Choose origin'):F.div(new Object({style:new Object({marginBottom:'12px'})}),F.span(new Object({className:ya(),
onClick:function(){e.props.d(0,null)}}),'Change origin'),' or ',F.span(new Object({className:ya(),onClick:function(){e.props.d(1,null)}}),'clear it')),F.div(null,e._renderOriginItem(a,b,c),d)};H.render=function(){var a=t(function(b){b.a.a.width='100%'});return F.div(new Object({className:a}),this._renderPositionItem(),this._renderOriginControls())};dd.PropertyItem=function(){React.Component.call(this)};Ac(dd.PropertyItem,React.Component);H=dd.PropertyItem.prototype;H.displayName=function(){return'PropertyItem'};H.render=function(){return F.div(new Object({className:Xb()}),F.span(new Object({}),this.props.a),F.span(new Object({className:Wb()}),this.props.b))};dd.InspectorView=function(){React.Component.call(this)};Ac(dd.InspectorView,React.Component);H=dd.InspectorView.prototype;H.displayName=function(){return'InspectorView'};H.render=function(){var a=this.props.e.a,b=E(a.f),c=pa(b.a).length,d='0 nodes selected';d=c^1?c+' nodes selected':'1 node selected';var e=F.div(new Object({className:Zb()}),React.createElement(new dd.PropertyItem().constructor,
new Object(new fd(d,null)),[])),f=null;return pa(E(a.f).a).length>0&&(f=React.createElement(new dd.PositionControls().constructor,new Object(this.props),[])),F.div(new Object({className:Yb()}),e,f)};dd.ToolbarView=function(){React.Component.call(this)};Ac(dd.ToolbarView,React.Component);H=dd.ToolbarView.prototype;H.displayName=function(){return'ToolbarView'};H.render=function(){for(var a=t(function(b){b.a.a.width=b.a.a.height='100%'}),c=[],e=0,f=[1,2,3],g=f.length;e<g;e=e+1|0){var d=f[e];c.push(this._renderTool(d))}return F.div(new Object({className:a}),c)};H._renderTool=function(a){var d=this,b=t(function(c){a^d.props.c?(c.a.a['background-color']=s(Va),c.c.a['background-color']=s(_b),c.b.a['background-color']=s(uc)):c.a.a['background-color']=s(_b),c.a.a['background-image']="url('"+Ub(a)+"')",c.a.a['background-position']='center',c.a.a['background-repeat']='no-repeat',c.a.a.width=c.a.a.height='54px'});return F.div(new Object({key:'tool-button-'+yc[a],className:b,onClick:function(){d.props.d(6,a)}}))};dd.GraphAppView=function(){
React.Component.call(this)};Ac(dd.GraphAppView,React.Component);H=dd.GraphAppView.prototype;H.displayName=function(){return'GraphAppView'};H.render=function(){var a=t(function(b){b.a.a.width=b.a.a.height='100%',b.a.a.overflow='hidden',b.a.a['font-family']="'Gill Sans', 'Gill Sans MT', Calibri, sans-serif",b.a.a.color='#444',b.a.a.display='flex',b.a.a['flex-direction']='column'}),c=t(function(d){d.a.a.width=d.a.a.height='100%',d.a.a.display='flex'}),e=t(function(f){f.a.a.width='54px',f.a.a.height='100%',f.a.a['background-color']=s(Va),f.a.a['border-right']='1px solid '+s(eb)}),g=t(function(h){h.a.a.width=h.a.a.height='100%',h.a.a['background-color']='white'}),l=t(function(n){n.a.a.width='216px',n.a.a.height='100%',n.a.a['background-color']=s(Va),n.a.a['border-left']='1px solid '+s(eb)});return F.div(new Object({className:a}),this._renderTopBar(),F.div(new Object({className:c}),F.div(new Object({className:e}),React.createElement(new dd.ToolbarView().constructor,this.props)),F.div(new Object({className:g}),this._renderCanvas()),
F.div(new Object({className:l}),React.createElement(new dd.InspectorView().constructor,this.props))))};H._renderTopBar=function(){var a=t(function(b){b.a.a.width='100%',b.a.a.height='36px',b.a.a['border-bottom']='1px solid '+s(eb),b.a.a['text-align']='center',b.a.a['line-height']='36px',b.a.a['font-size']='12px',b.a.a['letter-spacing']='1.1px'});return F.div(new Object({className:a+' '+mb(this.props.e)}),this.props.b)};H._renderCanvas=function(){var e=this,a=function(b){b&&b.appendChild(e.props.a)},c=t(function(d){d.a.a.width=d.a.a.height='100%'});return F.div(new Object({ref:a,className:c}))};function Wc(a){this.b=this.c=null,this.a=a,this.b=bb(a)}function Xc(a){this.b=null,this.a=a,this.b=bb(this.a)}function ed(a,b,c,d,e){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e}function fd(a,b){this.a=a,this.b=b}var F=React.DOM,db=-1,Va=D(15921906),uc=D(16316664),_b=D(14737632),eb=D(12434877),Wa=D(6710886),vc=D(10066329),cc=D(9391359),dc=D(2525183),wc=D(10540785),$=D(7327639),ec=D(16777215),Ea=null,$a=v(v(ma(null),'flex',
['-webkit-flex']),'flex-direction',['-webkit-flex-direction']),fb={},gb={},xc=['CHOOSE_ORIGIN_FOR_SELECTION','CLEAR_ORIGIN_FOR_SELECTION','SET_ORIGIN_FOR_SELECTION','DELETE_SELECTION','REMOVE_TEMPORARY_BEHAVIORS','SET_TEMPORARY_BEHAVIORS','SET_TOOL','SET_TOP_BAR_TEXT','SET_SELECTION'],yc=['NONE','MOVE','EDGE','CIRCLE'];Ec()})();
