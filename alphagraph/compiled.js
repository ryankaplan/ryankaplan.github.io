(function(){var fa=Object.create||function(a){return{__proto__:a}};function tc(a,b){a.prototype=fa(b.prototype),a.prototype.constructor=a}var H;function xc(){A(window,'load',function(){var a=document.getElementById('graph-application');a.style.width=a.style.height='100%',new wc(a)})}function sa(a,b,c,d,e){var f=null,g=null,h=Jb(a,c,d);if(h.length>0){f=h[0],x(b,Ib(f));switch(f.a){case 0:(!e||e(f.b))&&(b.g=f.b,g='Snap to node');break;case 1:b.d=new zc(0,f.c,null,null,null,null),g='Constrain to midpoint';break;case 2:b.d=new zc(1,null,f.e,null,null,null),g='Constrain to altitude base';break;case 3:b.d=new zc(2,null,null,f.d,null,null),g='Constrain to intersection';break}}return new Xc(f,g)}function Nb(a){switch(a){case 1:return'icons/tool-move.svg';case 2:return'icons/tool-edge.svg';case 3:return'icons/tool-circle.svg'}return null}function Ob(a,b){for(var c=[],e=0,f=J(b,a),g=f.length;e<g;e=e+1|0){var d=f[e];j(d)&&j(d).a==3?S(c,j(d).e):S(c,null)}return c}function ta(){return s(function(a){a.a.a.color=q(_b),a.a.a.cursor='pointer'})}
function $(a,b,c,d){var e=(a.a-b.a)*(c.b-d.b)-(a.b-b.b)*(c.a-d.a),f=(a.a*b.b-a.b*b.a)*(c.a-d.a)-(a.a-b.a)*(c.a*d.b-c.b*d.a),g=(a.a*b.b-a.b*b.a)*(c.b-d.b)-(a.b-b.b)*(c.a*d.b-c.b*d.a);return new jd(f/e,g/e)}function ac(a,b,c){var d=ba(V(m(b,c),1.5707963267948966));return $(a,u(a,d),b,c)}function bc(a,b,c){var d=K(u(a,b),2),e=K(u(b,c),2);return $(d,u(d,ba(V(m(a,b),1.5707963267948966))),e,u(e,ba(V(m(b,c),1.5707963267948966))))}function Oa(a,b,c){var d=D(m(a,b)),e=D(m(a,c)),f=D(m(b,c)),g=Math.pow(d,2),h=Math.pow(e,2),k=Math.pow(f,2);if(h>g+k)return d;else if(g>h+k)return e;else{var p=(d+e+f)/2;return 2/f*Math.sqrt(p*(p-d)*(p-e)*(p-f))}}function ic(a){for(var b=0,c=0,d=a.length;c<d;c=c+1|0)b=((b<<5)-b|0)+a.charCodeAt(c)|0;return b}function Da(b,a){a!=b.a&&(b.a=a,b.c=!0)}function ja(b,a){b.b!=a&&(b.b=a,b.c=!0)}function db(b,a){b.f=a,b.a.g=!0}function o(e,a,b){var c=!0;switch(a){case 6:e.d===b?c=!1:e.d=b;break;case 7:e.e===b?c=!1:e.e=b;break;case 8:lb(e.a,b);break}if(c&&ec('Trigger action '+qc[a]+' with data ('+b+')'),
c)for(var f=0,g=e.h,h=g.length;f<h;f=f+1|0){var d=g[f];ea(d,a,b)}}function eb(c){return c.g?s(function(a){a.a.a['background-color']=q(Zb),a.a.a.color=q($b)}):s(function(b){b.a.a['background-color']=q(Ma)})}function _a(b,a){a.a in y(b.d.a.f).a&&X(b)}function ea(l,a,b){var c=l.d.a,d=y(c.f);switch(a){case 3:var e=J(d,l.d.a);mb(l.d.a,e);break;case 0:ea(l,5,new dd([new Nc(l.d),new Fc(l.d,'Choose a node as the origin',d,function(f){o(l.d,4,null),o(l.d,2,f),o(l.d,7,nc(f))})]));break;case 1:for(var v=0,G=J(y(l.d.a.f),l.d.a),w=G.length;v<w;v=v+1|0){var g=G[v],h=i(g);g.d=null,x(g,h)}break;case 2:for(var k=b,I=0,M=J(y(l.d.a.f),l.d.a),R=M.length;I<R;I=I+1|0){var p=M[I];p.d=new zc(3,null,null,null,k,m(i(p),i(k)))}break;case 4:l.k=null,ea(l,6,l.d.d);break;case 5:l.k=new dd(l.g.a.aa.slice()),Qa(l.g);var r=b;Q(l.g,r);break;case 6:Qa(l.g);var n=new ad(function(){return dc(32)},new Kc(l.d));Q(l.g,n),Q(l.g,new Nc(l.d));switch(l.d.d){case 1:Q(l.g,new Gc(l.d,new Lc(l.d),new dd([new Jc(l.d),new Mc(l.d)])));break;case 2:Q(l.g,new Ic(l.d));
break;case 3:Q(l.g,new Hc(l.d));break}X(l);break;case 7:X(l);break;case 8:X(l);break}}function X(f){var a=Va(window.performance),b=new Zc(f.b,f.d.e,f.d.d,function(c,d){o(f.d,c,d)},f.d);ReactDOM.render(React.createElement(new Yc.GraphAppView().constructor,new Object(b)),f.a);var e=Va(window.performance)-a;e>16&&console.warn('DOM render took more than 16ms -- duration was '+e+'ms')}function Ea(b){var a=b.b.getBoundingClientRect();b.b.width=a.width*window.devicePixelRatio|0,b.b.height=a.height*window.devicePixelRatio|0,b.c.g=!0}function ka(c,a,b){a.a in c.a||(c.a[a.a]=[]),S(c.a[a.a],b)}function Fa(c,a){for(var d=0,e=c.c,f=e.length;d<f;d=d+1|0){var b=e[d];if(b.a==a)return b}return null}function la(e,a,b){for(var c=null,f=0,g=e.d,h=g.length;f<h;f=f+1|0){var d=g[f];(d.c==a&&d.d==b||d.c==b&&d.d==a)&&(c=d)}return c}function fb(d,a){for(var b=[],e=0,f=d.d,g=f.length;e<g;e=e+1|0){var c=f[e];c.c==a?b.push(c.d):c.d==a&&b.push(c.c)}return b}function Ga(e,a,b){for(var c=[],f=0,g=e.c,h=g.length;f<h;f=f+1|0){var d=g[f];D(m(i(d),
a))<4+b&&c.push(d)}return c}function gb(e,a,b){for(var c=[],f=0,g=e.d,h=g.length;f<h;f=f+1|0){var d=g[f];D(m(ma(d),a))<b&&c.push(d)}return c}function hb(g,a,b){for(var c=[],r=0,n=g.d,l=n.length;r<l;r=r+1|0){var d=n[r];if(Oa(a,i(d.c),i(d.d))<b)for(var h=0,k=fb(g,d.c),p=k.length;h<p;h=h+1|0){var e=k[h];if(la(g,e,d.d)){var f=new Uc(e,d.c,d.d);D(m(Z(f),a))<b&&c.push(f)}}}return c}function ib(r,a,b){for(var c=[],n=0,l=r.d,v=l.length;n<v;n=n+1|0){var d=l[n];Oa(a,i(d.c),i(d.d))<b&&c.push(d)}for(var e=[],f=0,w=c.length-1|0;f<w;f=f+1|0)for(var g=f+1|0,G=c.length;g<G;g=g+1|0){var h=c[f],k=c[g],p=$(i(h.c),i(h.d),i(k.c),i(k.d));D(m(p,a))<b&&e.push(new Vc(h,k))}return e}function na(){return Wa=Wa+1|0,Wa}function kb(b,a){b.e=a,b.g=!0}function lb(b,a){b.f=a,b.g=!0}function T(b){var a=new Ac(b);return b.c.push(a),b.g=!0,a}function B(g,a,b){ga(g.c,a);for(var c=[],h=0,k=g.d,p=k.length;h<p;h=h+1|0){var d=k[h];(d.c==a||d.d==a)&&c.push(d)}for(var r=0,n=c.length;r<n;r=r+1|0){var e=c[r];ga(g.d,e)}if(a.a in g.a)for(var l=0,v=g.a[a.a],G=v.length;l<G;l=l+1|0){
var f=v[l];$a(f,a,b)}g.g=!0}function mb(c,a){for(var d=0,e=a.length;d<e;d=d+1|0){var b=a[d];B(c,b,null)}}function nb(d,a,b){if(!la(d,a,b)){var c=new Bc(d,a,b);d.d.push(c),d.g=!0}}function ob(c,a){ga(c.d,a);for(var d=0,e=c.c,f=e.length;d<f;d=d+1|0){var b=e[d];if(j(b)&&j(b).b==a)throw new Error('Deleting edge that a node is constrained to')}c.g=!0}function oa(h,a,b){if(a!=b){var c=la(h,a,b);if(c){var d=qb(h,c);d&&B(h,d,null);for(var e=rb(h,c),k=0,p=e.length;k<p;k=k+1|0){var f=e[k];B(h,f,null)}ob(h,c)}for(var r=0,n=h.d,l=n.length;r<l;r=r+1|0){var g=n[r];g.c==a&&(g.c=b),g.d==a&&(g.d=b)}B(h,a,b),pb(h)}}function pb(b){for(var c=0,d=b.c,e=d.length;c<e;c=c+1|0)var a=d[c]}function qb(c,a){for(var d=0,e=c.c,f=e.length;d<f;d=d+1|0){var b=e[d];if(j(b)&&!j(b).a&&j(b).b==a)return b}return null}function rb(d,a){for(var b=[],e=0,f=d.c,g=f.length;e<g;e=e+1|0){var c=f[e];j(c)&&j(c).c&&Hb(j(c).c,a)&&b.push(c)}return b}function Ha(a){switch(a.a){case 0:return[a.b.c,a.b.d];case 1:return[a.c.a,a.c.b,a.c.c];case 2:return[a.d.a.c,a.d.a.d,
a.d.b.c,a.d.b.d];case 3:return[a.e]}throw new Error('Unhandles constraint type')}function j(b){b.e=!0;var a=null;return a=b.g?j(b.g):b.d,b.e=!1,a}function i(b){b.f=!0;var a=null;return a=b.g?i(b.g):j(b)&&!j(b).a?ma(j(b).b):j(b)&&j(b).a==1?Z(j(b).c):j(b)&&j(b).a==2?ra(j(b).d):j(b)&&j(b).a==3?u(i(j(b).e),j(b).f):b.c,b.f=!1,a}function jb(d,a){var b=[];for(j(d)&&Ca(b,Ha(j(d)));b.length;){var c=b.pop();if(c==a)return!0;j(c)&&Ca(b,Ha(j(c)))}return!1}function x(c,a){if(c.c!=a){c.c=a;for(var d=0,e=c.b.b,f=e.length;d<f;d=d+1|0){var b=e[d];_a(b,c)}c.b.g=!0}return c}function ma(a){return K(u(i(a.c),i(a.d)),2)}function $a(d,a,b){var c=b==null||b==d.d||b==d.e||b==d.f;c?ab(d.b.b,d):a==d.d?d.d=b:a==d.e?d.e=b:a==d.f&&(d.f=b)}function pa(a){return bc(i(a.d),i(a.e),i(a.f))}function sb(a){return D(m(pa(a),i(a.d)))}function tb(d,a,b,c){return d.b.push(new Cc(d.a,d,a,b,c)),bb(d.b)}function P(a){switch(a.v){case 0:return a.p;case 1:return a.r;case 2:return a.n}throw new Error('Invalid _state')}function Ia(a){switch(a.v){case 0:a.v=1;
break;case 1:a.v=2;break;case 2:a.v=0,a.p=T(a.a.a),a.r=T(a.a.a),a.n=T(a.a.a),a.l=tb(a.a.b,a.p,a.r,a.n);break}}function ub(c,a){var b=y(c.a.a.f);a.a in b.a||(b.a[a.a]=!0,o(c.a,8,b))}function vb(a){a.ca&&(a.ca.style.cursor=null),a.W=a.Ja=a.ca=null}function y(b){var a=new Oc;return a.a=cb(b.a),a}function J(e,a){for(var b=[],f=0,g=ha(e.a),h=g.length;f<h;f=f+1|0){var c=g[f],d=Fa(a,c);d&&b.push(d)}return b}function wb(b,a){return a.a in y(b.c.f).a?Ka(b,a):q($b)}function Ka(c,a){var b=null;return b=j(a)?ya:Zb,a==c.c.e&&(b=ua(b),Wb(b,.1)),q(b)}function xb(c,a){var b=i(a);c.b.beginPath(),c.b.arc(b.a,b.b,a==c.c.e?4.5:4,0,6.283185307179586),c.b.strokeStyle=Ka(c,a),c.b.fillStyle=wb(c,a),c.b.lineWidth=1,c.b.fill(),c.b.stroke()}function yb(b,a){b.b.beginPath(),b.b.moveTo(i(a.c).a,i(a.c).b),b.b.lineTo(i(a.d).a,i(a.d).b),b.b.lineWidth=1,b.b.strokeStyle=q(Xb),b.b.stroke()}function zb(b,a){b.b.beginPath(),b.b.arc(pa(a).a,pa(a).b,sb(a),0,6.283185307179586),b.b.lineWidth=1,b.b.strokeStyle=q(Xb),b.b.stroke()}function Ab(e,a){e.b.save(),
e.b.scale(window.devicePixelRatio,window.devicePixelRatio),e.b.translate(a.f.a,a.f.b),e.c=a.a;for(var f=0,g=a.a.d,h=g.length;f<h;f=f+1|0){var b=g[f];yb(e,b)}for(var k=0,p=a.b.b,r=p.length;k<r;k=k+1|0){var c=p[k];zb(e,c)}for(var n=0,l=a.a.c,v=l.length;n<v;n=n+1|0){var d=l[n];xb(e,d)}e.b.restore(),a.a.g=!1}function La(f,a,b){var c=V(b,1.5707963267948966);f.b.beginPath();var d=u(m(a,U(b,1)),K(U(c,10),2)),e=m(d,U(c,10));f.b.moveTo(d.a,d.b),f.b.lineTo(e.a,e.b),Ta(d,U(b,2)),Ta(e,U(b,2)),f.b.moveTo(d.a,d.b),f.b.lineTo(e.a,e.b),f.b.strokeStyle=q(ya),f.b.lineWidth=1,f.b.stroke()}function Bb(n,a){var b=a.c.b;if(b)switch(b.a){case 0:var c=b.b,d=i(c);n.b.beginPath(),n.b.arc(d.a,d.b,5,0,6.283185307179586),n.b.strokeStyle=q(ya),n.b.lineWidth=2,n.b.stroke();break;case 1:var e=i(b.c.c),f=i(b.c.d),g=K(u(e,f),2),h=ba(m(f,e));La(n,K(u(e,g),2),h),La(n,K(u(f,g),2),h);break;case 2:var k=i(b.e.a),p=Z(b.e);n.b.beginPath(),n.b.moveTo(p.a,p.b),n.b.lineTo(k.a,k.b),n.b.strokeStyle=q(ya),n.b.lineWidth=1,n.b.stroke();break;case 3:var r=ra(b.d);
n.b.beginPath(),n.b.arc(r.a,r.b,5,0,6.283185307179586),n.b.strokeStyle=q(ya),n.b.lineWidth=2,n.b.stroke();break}}function Cb(g,a){for(var b=a.a,c=y(b.f),h=0,k=J(c,b),p=k.length;h<p;h=h+1|0){var d=k[h];if(j(d)&&j(d).a==3){var e=i(j(d).e),f=i(d);g.b.beginPath(),g.b.moveTo(e.a,e.b),g.b.lineTo(f.a,f.b),g.b.strokeStyle=q(Yb),g.b.setLineDash([6,6]),g.b.lineWidth=1,g.b.stroke()}}}function Db(c,a){c.b.save(),c.b.scale(window.devicePixelRatio,window.devicePixelRatio),c.b.translate(a.f.a,a.f.b);var b=c.a.getBoundingClientRect();c.b.clearRect(-a.f.a,-a.f.b,b.width,b.height),Cb(c,a),c.b.restore()}function Eb(e,a){e.b.save(),e.b.scale(window.devicePixelRatio,window.devicePixelRatio),e.b.translate(a.f.a,a.f.b),Bb(e,a);var b=a.c.a;if(b){var c=ua(pc);c.d=.3;var d=ua(_b);d.d=.6,e.b.beginPath(),e.b.rect(b.a.a,b.a.b,b.b.a,b.b.b),e.b.lineWidth=1,e.b.fillStyle=q(c),e.b.strokeStyle=q(d),e.b.fill(),e.b.stroke()}e.b.restore(),a.c.c=!1}function Fb(g,a,b){g.e.a=g.a.a;var c=new Xc(null,null);if(a.g=null,j(a)&&j(a).a==3)j(a).f=m(b,i(j(a).e));
else{a.d=null,x(a,b);var d=new Oc.Y([a]);c=sa(g.e,a,b,d,null)}for(var e=m(i(a),g.c[a.a]),h=0,k=J(g.b,g.a.a),p=k.length;h<p;h=h+1|0){var f=k[h];j(f)||x(f,u(g.c[f.a],e))}return c}function Gb(b,a){if(a^8){if(a^27){if(a^32){if(a>32)return String.fromCharCode(a)}else return'Space'}else return'Esc'}else return'Backspace';return'unknown'}function Ib(a){switch(a.a){case 0:return i(a.b);case 1:return ma(a.c);case 2:return Z(a.e);case 3:return ra(a.d)}return kc()}function Z(a){return ac(i(a.a),i(a.b),i(a.c))}function Hb(b,a){return a.c==b.a&&a.d==b.b||a.c==b.b&&a.d==b.a||a.c==b.b&&a.d==b.c||a.c==b.c&&a.d==b.b||a.c==b.c&&a.d==b.a||a.c==b.a&&a.d==b.c}function ra(a){return $(i(a.a.c),i(a.a.d),i(a.b.c),i(a.b.d))}function Jb(n,a,b){for(var c=[],d=Ga(n.a,a,10),l=0,v=d.length;l<v;l=l+1|0){var e=d[l];_(n,[e],b)&&c.push(new Tc(0,e,null,null,null))}for(var f=gb(n.a,a,10),G=0,w=f.length;G<w;G=G+1|0){var g=f[G];Kb(n,g,b)&&c.push(new Tc(1,null,g,null,null))}for(var h=hb(n.a,a,10),I=0,M=h.length;I<M;I=I+1|0){var k=h[I];Lb(n,k,b)&&c.push(new Tc(2,
null,null,null,k))}for(var p=ib(n.a,a,10),R=0,W=p.length;R<W;R=R+1|0){var r=p[R];Mb(n,r,b)&&c.push(new Tc(3,null,null,r,null))}return c}function Kb(c,a,b){return _(c,[a.c,a.d],b)}function Lb(c,a,b){return _(c,[a.a,a.b,a.c],b)}function Mb(c,a,b){return _(c,[a.a.c,a.a.d,a.b.c,a.b.d],b)}function _(e,a,b){for(var h=0,k=J(b,e.a),p=k.length;h<p;h=h+1|0)for(var c=k[h],f=0,g=a.length;f<g;f=f+1|0){var d=a[f];if(c==d||jb(d,c))return!1}return!0}function Pb(){return s(function(a){a.a.a['float']='right',a.a.a.color=q(Yb)})}function Qb(){return s(function(a){a.a.a['margin-bottom']='12px'})}function Rb(){return s(function(a){a.a.a['font-size']='11px',a.a.a.padding='18px'})}function Sb(){return s(function(a){a.a.a['text-align']='center',a.a.a['margin-bottom']='12px',a.a.a['font-weight']='600',a.a.a['text-transform']='uppercase'})}function Ub(a){var b=a.getBoundingClientRect();return b.bottom>-1&&b.right>-1&&b.top<=window.innerHeight&&b.left<=window.innerWidth}function Vb(a,b){var c=null,d=function(){if(Ub(a)){var e=new Date,f=c?+e-+c:1/30;
b(f),c=e}requestAnimationFrame(d)};requestAnimationFrame(d)}function ua(a){return new $c(a.a,a.b,a.c,a.d)}function q(a){return 'rgba('+(a.a*255|0)+', '+(a.b*255|0)+', '+(a.c*255|0)+', '+a.d+')'}function Wb(b,a){b.a=Math.min(b.a+a,1),b.b=Math.min(b.b+a,1),b.c=Math.min(b.c+a,1)}function C(a){return new $c((a>>16&255)/255,(a>>8&255)/255,(a&255)/255,1)}function cc(){Aa||(Aa=new gd,A(document,'keydown',function(a){Aa.a[a.keyCode]=!0}),A(document,'keyup',function(b){delete Aa.a[b.keyCode]}))}function dc(a){return cc(),a in Aa.a}function ec(a){}function Pa(a){return a.c?a.c.target:a.d.target}function z(c){var a=Pa(c).getBoundingClientRect(),b=null;return b=c.c?new jd(c.c.clientX,c.c.clientY):new jd(wa(c.d.touches)[0].clientX,wa(c.d.touches)[0].clientY),m(b,new jd(a.left,a.top))}function Q(b,a){b.a.aa.push(a),a.Ba()}function Qa(a){a.a.da(),a.a=new dd([])}function fc(k,a){A(a,'mousedown',function(b){k.a.O(new bd(k,b,null)),L(b)}),A(a,'mousemove',function(c){k.a.F(new bd(k,c,null)),L(c)}),A(a,'mouseup',function(d){k.a.N(new bd(k,
d,null)),L(d)}),A(a,'mouseleave',function(e){k.a.N(new bd(k,e,null)),L(e)}),A(a,'touchstart',function(f){k.a.O(new bd(k,null,f)),L(f)}),A(a,'touchmove',function(g){k.a.F(new bd(k,null,g)),L(g)}),A(a,'touchend',function(h){k.a.N(new bd(k,null,h)),L(h)})}function gc(b,a){return a.a>b.a.a&&a.b>b.a.b&&a.a<b.a.a+b.b.a&&a.b<b.a.b+b.b.b}function va(f){for(var a=new sc,l=0,v=Object.keys(f.a),G=v.length;l<G;l=l+1|0){var b=v[l],c=f.a[b];if(a.a+=b+': '+c+';\n',b in Ra)for(var g=0,h=Ra[b],k=h.length;g<k;g=g+1|0){var d=h[g];a.a+=d+': '+c+';\n'}if(c in Ra)for(var p=0,r=Ra[c],n=r.length;p<n;p=p+1|0){var e=r[p];a.a+=b+': '+e+';\n'}}return a.a}function hc(){for(var a=new sc,b=0;b<10;b=b+1|0){var c=Math.floor(Math.random()*52|0)|0;a.a+='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.slice(c,c+1|0)}return a.a}function s(a){var b=new id;a(b);var c=ic(Sa(b,''));return c in Ya||(Ya[c]=b,Za[c]=hc(),jc(c)),Za[c]}function jc(a){var b=Za[a];if(!document.getElementById(b)){var c=document.createElement('style');c.type='text/css',c.id=b;
var d=Ya[a];c.innerHTML=Sa(d,b),document.getElementsByTagName('head')[0].appendChild(c)}}function Sa(c,a){var b=new sc;return Object.keys(c.a.a).length&&(b.a+='.'+a+' {\n',b.a+=va(c.a),b.a+='}\n'),Object.keys(c.b.a).length&&(b.a+='.'+a+':hover {\n',b.a+=va(c.b),b.a+='}\n'),Object.keys(c.c.a).length&&(b.a+='.'+a+':active {',b.a+=va(c.c),b.a+='}\n'),b.a}function u(b,a){return new jd(b.a+a.a,b.b+a.b)}function m(b,a){return new jd(b.a-a.a,b.b-a.b)}function U(b,a){return new jd(b.a*a,b.b*a)}function K(b,a){return new jd(b.a/a,b.b/a)}function Ta(b,a){b.a+=a.a,b.b+=a.b}function V(b,a){return new jd(b.a*Math.cos(a)-b.b*Math.sin(a),b.b*Math.cos(a)+b.a*Math.sin(a))}function ba(a){return K(a,D(a))}function D(a){return Math.sqrt(a.a*a.a+a.b*a.b)}function kc(){return new jd(0,0)}function wa(a){for(var b=[],c=0,d=a.length;c<d;c=c+1|0)b.push(a[c]);return b}function A(a,b,c){a.addEventListener(b,c)}function L(a){a.preventDefault()}function ab(d,a){for(var b=0,c=0,e=d.length;c<e;c=c+1|0)d[c]!=a&&(b<c&&(d[b]=d[c]),b=b+1|0);for(;b<d.length;)d.pop()}
function bb(a){return a[a.length-1|0]}function Ca(c,a){for(var d=0,e=a.length;d<e;d=d+1|0){var b=a[d];c.push(b)}}function S(b,a){~b.indexOf(a)||b.push(a)}function ga(c,a){var b=c.indexOf(a);b>-1&&c.splice(b,1)}function t(c,a,b){return c[a]=b,c}function ia(c){var a=[];for(var b in c)a.push(c[b]);return a}function ha(c){var a=[];for(var b in c)a.push(b|0);return a}function cb(c){for(var a={},d=0,e=ha(c),f=e.length;d<f;d=d+1|0){var b=e[d];a[b]=c[b]}return a}function lc(a){return new jd(Math.abs(a.a),Math.abs(a.b))}function mc(a,b){return new jd(Math.min(a.a,b.a),Math.min(a.b,b.b))}function Ua(a){try{return a.getContext('2d')}catch(b){}return null}function Va(a){return a&&a.now?a.now():+new Date}function nc(a){return 'Good job! The new origin is node '+a.a}function sc(){this.a=''}function uc(){this.a=this.b=null,this.c=!1}function vc(a,b,c){this.a=a,this.b=b,this.c=c,this.d=-1,this.e='error: missing top bar text',this.f=new jd(0,0),this.g=!1,this.h=[]}function wc(a){var c=this;c.b=c.c=c.d=c.e=c.f=c.g=c.h=c.k=null,
c.a=a,c.b=document.createElement('canvas'),c.b.style.width=c.b.style.height='100%',c.c=new yc,S(c.c.b,c),c.e=new Pc(c.b),c.d=new vc(c.c,new Dc(c.c),new uc),S(c.d.h,c),c.f=new Qc(c.b),c.g=new ed,fc(c.g,c.b),c.h=new Sc(c.d),Vb(c.b,function(b){(c.c.g||c.d.c.c)&&(Db(c.f,c.d),Ab(c.e,c.d),Eb(c.f,c.d))}),o(c.d,6,0),o(c.d,7,'Welcome to AlphaGraph - choose a tool to get started...'),A(window,'resize',function(){Ea(c)}),Ea(c)}function yc(){this.a={},this.b=[],this.c=[],this.d=[],this.e=null,this.f=new Oc,this.g=!1}function zc(a,b,c,d,e,f){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e,this.f=f}function Ac(a){this.a=-1,this.b=null,this.c=new jd(0,0),this.d=null,this.e=this.f=!1,this.g=null,this.b=a,this.a=na()}function Bc(a,b,c){this.b=-1,this.c=this.d=null,this.a=a,this.b=na(),this.c=b,this.d=c}function Cc(a,b,c,d,e){this.c=-1,this.d=this.e=this.f=null,this.a=a,this.b=b,this.c=na(),this.d=c,this.e=d,this.f=e,ka(this.a,this.d,this),ka(this.a,this.e,this),ka(this.a,this.f,this)}function Dc(a){this.a=a,this.b=[]}function Oc(){
this.a={}}Oc.Y=function(a){this.a={};for(var c=0,d=a.length;c<d;c=c+1|0){var b=a[c];this.a[b.a]=!0}};Oc.Y.prototype=Oc.prototype;function Pc(a){this.b=this.c=null,this.a=a,this.b=Ua(a)}function Qc(a){this.b=null,this.a=a,this.b=Ua(this.a)}function Rc(a,b,c){this.a=this.b=this.c=this.d=null,this.e=new Wc,this.a=a,this.b=b,this.c={},this.d=c;for(var e=0,f=J(this.b,this.a.a),g=f.length;e<g;e=e+1|0){var d=f[e];this.c[d.a]=i(d)}}function Sc(a){var e=this;e.a=t(t(t(t(t(t(fa(null),'Backspace',function(f){o(f,3,null)}),'Esc',function(g){o(g,6,1)}),'C',function(h){o(h,6,3)}),'M',function(k){o(k,6,1)}),'V',function(p){o(p,6,1)}),'E',function(r){o(r,6,2)}),A(document,'keydown',function(b){var c=0;b.key!==undefined?c=b.key:b.keyCode!==undefined?c=b.keyCode:b.which!==undefined&&(c=b.which);var d=Gb(e,c);d in e.a&&(e.a[d](a),L(b))})}function Tc(a,b,c,d,e){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e}function Uc(a,b,c){this.a=a,this.b=b,this.c=c}function Vc(a,b){this.a=a,this.b=b}function Wc(){this.a=null}function Xc(a,b){this.a=a,
this.b=b}var Yc={};function $c(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function bd(a,b,c){this.a=a,this.b=!1,this.c=b,this.d=c}function cd(){}H=cd.prototype;H.O=function(a){};H.F=function(a){};H.N=function(a){};H.Ba=function(){};H.da=function(){};function Ec(a){cd.call(this),this.a=a}tc(Ec,cd);function Lc(a){Ec.call(this,a),this.xa=null}tc(Lc,Ec);H=Lc.prototype;H.O=function(a){this.a.a.e&&(this.xa=this.a.a.e)};H.N=function(a){this.xa?(o(this.a,8,new Oc.Y([this.xa])),this.xa=null):o(this.a,8,new Oc)};function Mc(a){Ec.call(this,a),this.qa=null}tc(Mc,Ec);H=Mc.prototype;H.O=function(a){this.qa=m(z(a),this.a.f)};H.F=function(a){var b=m(z(a),this.a.f);if(this.qa){var c=mc(this.qa,b),d=lc(m(this.qa,b)),e=new fd(c,d);Da(this.a.c,e);for(var f=new Oc,h=0,k=this.a.a.c,p=k.length;h<p;h=h+1|0){var g=k[h];gc(e,i(g))&&(f.a[g.a]=!0)}o(this.a,8,f)}};H.N=function(a){this.qa=null,Da(this.a.c,null)};function Nc(a){Ec.call(this,a)}tc(Nc,Ec);Nc.prototype.F=function(a){var b=Ga(this.a.a,m(z(a),this.a.f),10);kb(this.a.a,b.length>0?b[0]:null)};
function Kc(a){Ec.call(this,a),this.W=this.Ja=this.ca=null}tc(Kc,Ec);H=Kc.prototype;H.O=function(a){this.W=z(a),this.Ja=this.a.f,this.ca=Pa(a),this.ca.style.cursor='move',a.b=!0};H.F=function(a){this.W&&(db(this.a,u(this.Ja,m(z(a),this.W))),this.ca.style.cursor='move',a.b=!0)};H.N=function(a){this.W&&(this.F(a),vb(this),a.b=!0)};function Fc(a,b,c,d){Ec.call(this,a),this.e=null,this.b=b,this.c=c,this.d=d}tc(Fc,Ec);H=Fc.prototype;H.Ba=function(){this.a.g=!0};H.da=function(){this.a.g=!1};H.O=function(a){var b=this.a.a.e;b&&!(b.a in this.c.a)&&(this.e=b)};H.F=function(a){o(this.a,7,this.b)};H.N=function(a){this.e&&this.a.a.e==this.e&&this.d(this.a.a.e)};function Gc(a,b,c){Ec.call(this,a),this.h=null,this.f=b,this.g=c}tc(Gc,Ec);H=Gc.prototype;H.O=function(a){this.h=a};H.F=function(a){var b=m(z(a),this.a.f);this.h&&D(m(m(z(this.h),this.a.f),b))>3&&(this.g.O(this.h),this.h=null),this.h||this.g.F(a)};H.N=function(a){this.h?(this.f.O(this.h),this.f.N(a),this.h=null):this.g.N(a)};function Hc(a){Ec.call(this,a),this.k=this.p=this.r=this.n=this.l=null,
this.v=0,this.k=new Wc,this.v=2,Ia(this)}tc(Hc,Ec);H=Hc.prototype;H.da=function(){switch(this.v){case 0:B(this.a.a,this.p,null),B(this.a.a,this.r,null),B(this.a.a,this.n,null);break;case 1:B(this.a.a,this.r,null),B(this.a.a,this.n,null);break;case 2:B(this.a.a,this.n,null);break}};H.O=function(a){this.F(a),P(this).g&&oa(this.a.a,P(this),P(this).g),Ia(this)};H.F=function(a){var b=m(z(a),this.a.f);this.k.a=this.a.a;switch(this.v){case 0:x(this.p,b),x(this.r,b),x(this.n,b);break;case 1:x(this.r,b);var c=m(i(this.r),i(this.p));x(this.n,u(i(this.r),V(c,-1.5707963267948966)));break;case 2:x(this.n,b);break}P(this).d=null,P(this).g=null;var d=new Oc.Y([this.p,this.r,this.n]),e=sa(this.k,P(this),b,d,null);o(this.a,7,e.b==null?"It's a masterpiece!":e.b),ja(this.a.c,e.a)};function ad(a,b){cd.call(this),this.Na=a,this.za=b}tc(ad,cd);H=ad.prototype;H.da=function(){this.za.da()};H.O=function(a){this.Na()&&this.za.O(a)};H.F=function(a){this.Na()&&this.za.F(a)};H.N=function(a){this.Na()&&this.za.N(a)};function Ic(a){Ec.call(this,
a),this.G=this.w=this.I=null,this.G=new Wc,this.w=T(a.a),o(this.a,7,'Click somewhere to start creating edges')}tc(Ic,Ec);H=Ic.prototype;H.da=function(){this.w&&B(this.a.a,this.w,null)};H.F=function(a){var h=this;h.G.a=h.a.a;var b=m(z(a),h.a.f),c=null,d=h.I&&"It's a masterpiece!";if(h.w){h.w.d=h.w.g=null,x(h.w,b);var e=new Oc.Y([h.w]),f=sa(h.G,h.w,b,e,function(g){return g!=h.I});f.a&&(c=f.a),f.b!=null&&(d=f.b)}d!=null&&o(h.a,7,d),ja(h.a.c,c)};H.O=function(a){this.F(a);var b=m(z(a),this.a.f);this.w.g?(oa(this.a.a,this.w,this.w.g),this.I=this.w.g):this.I=this.w,this.w=T(this.a.a),x(this.w,b),nb(this.a.a,this.I,this.w)};function Jc(a){Ec.call(this,a),this.M=this.R=null}tc(Jc,Ec);H=Jc.prototype;H.O=function(a){this.a.a.e&&(this.M=this.a.a.e,ub(this,this.M),this.R=new Rc(this.a,y(this.a.a.f),m(z(a),this.a.f)),a.b=!0)};H.F=function(a){var b=m(z(a),this.a.f),c=null;if(this.M){var d=Fb(this.R,this.M,b);c=d.a,a.b=!0}ja(this.a.c,c)};H.N=function(a){this.F(a),this.M&&(a.b=!0,this.M.g&&oa(this.a.a,this.M,this.M.g),this.M=null)};
function dd(a){cd.call(this),[],this.aa=a}tc(dd,cd);H=dd.prototype;H.Ba=function(){for(var b=0,c=this.aa,d=c.length;b<d;b=b+1|0){var a=c[b];a.Ba()}};H.da=function(){for(var b=0,c=this.aa,d=c.length;b<d;b=b+1|0){var a=c[b];a.da()}};H.O=function(a){for(var c=0,d=this.aa,e=d.length;c<e;c=c+1|0){var b=d[c];if(b.O(a),a.b)break}};H.N=function(a){for(var c=0,d=this.aa,e=d.length;c<e;c=c+1|0){var b=d[c];if(b.N(a),a.b)break}};H.F=function(a){for(var c=0,d=this.aa,e=d.length;c<e;c=c+1|0){var b=d[c];if(b.F(a),a.b)break}};function ed(){this.a=new dd([])}function fd(a,b){if(this.a=this.b=null,b.a<0||b.b<0)throw new Error('You constructed a rect with a negative size');this.a=a,this.b=b}function gd(){this.a={}}function hd(){this.a=fa(null)}function id(){this.a=new hd,this.b=new hd,this.c=new hd}function jd(a,b){this.a=a,this.b=b}Yc.PositionControls=function(){React.Component.call(this)};tc(Yc.PositionControls,React.Component);H=Yc.PositionControls.prototype;H.displayName=function(){return'PositionControls'};H._renderPositionItem=function(){
var a='Mixed',b=y(this.props.e.a.f);if(ia(b.a).length==1){var c=i(Fa(this.props.e.a,ha(b.a)[0]));a=c.a+', '+c.b}return React.createElement(new Yc.PropertyItem().constructor,new Object(new _c('POSITION',a)),[])};H._renderOriginItem=function(a,b,c){var d='Mixed';return c.length==1&&!c[0]?d='0, 0':c.length==1&&c[0]&&(d='Node '+c[0].a),React.createElement(new Yc.PropertyItem().constructor,new Object(new _c('ORIGIN',d)),[])};H._renderOriginControls=function(){var e=this,a=e.props.e.a,b=y(e.props.e.a.f),c=Ob(a,b),d=null;return d=c.length==1&&!c[0]?E.div(new Object({className:ta(),onClick:function(){e.props.d(7,'Choose a node as the origin'),e.props.d(0,null)}}),'Choose origin'):E.div(new Object({style:new Object({marginBottom:'12px'})}),E.span(new Object({className:ta(),onClick:function(){e.props.d(0,null)}}),'Change origin'),' or ',E.span(new Object({className:ta(),onClick:function(){e.props.d(1,null)}}),'clear it')),E.div(null,e._renderOriginItem(a,b,c),d)};H.render=function(){var a=s(function(b){b.a.a.width='100%'});
return E.div(new Object({className:a}),this._renderPositionItem(),this._renderOriginControls())};Yc.PropertyItem=function(){React.Component.call(this)};tc(Yc.PropertyItem,React.Component);H=Yc.PropertyItem.prototype;H.displayName=function(){return'PropertyItem'};H.render=function(){return E.div(new Object({className:Qb()}),E.span(new Object({}),this.props.a),E.span(new Object({className:Pb()}),this.props.b))};Yc.InspectorView=function(){React.Component.call(this)};tc(Yc.InspectorView,React.Component);H=Yc.InspectorView.prototype;H.displayName=function(){return'InspectorView'};H.render=function(){var a=this.props.e.a,b=y(a.f),c=ia(b.a).length,d='0 nodes selected';d=c^1?c+' nodes selected':'1 node selected';var e=E.div(new Object({className:Sb()}),React.createElement(new Yc.PropertyItem().constructor,new Object(new _c(d,null)),[])),f=null;return ia(y(a.f).a).length>0&&(f=React.createElement(new Yc.PositionControls().constructor,new Object(this.props),[])),E.div(new Object({className:Rb()}),e,f)};Yc.ToolbarView=function(){
React.Component.call(this)};tc(Yc.ToolbarView,React.Component);H=Yc.ToolbarView.prototype;H.displayName=function(){return'ToolbarView'};H.render=function(){for(var a=s(function(b){b.a.a.width=b.a.a.height='100%'}),c=[],e=0,f=[1,2,3],g=f.length;e<g;e=e+1|0){var d=f[e];c.push(this._renderTool(d))}return E.div(new Object({className:a}),c)};H._renderTool=function(a){var d=this,b=s(function(c){a^d.props.c?(c.a.a['background-color']=q(Ma),c.c.a['background-color']=q(Tb),c.b.a['background-color']=q(oc)):c.a.a['background-color']=q(Tb),c.a.a['background-image']="url('"+Nb(a)+"')",c.a.a['background-position']='center',c.a.a['background-repeat']='no-repeat',c.a.a.width=c.a.a.height='54px'});return E.div(new Object({key:'tool-button-'+rc[a],className:b,onClick:function(){d.props.d(6,a)}}))};Yc.GraphAppView=function(){React.Component.call(this)};tc(Yc.GraphAppView,React.Component);H=Yc.GraphAppView.prototype;H.displayName=function(){return'GraphAppView'};H.render=function(){var a=s(function(b){b.a.a.width=b.a.a.height='100%',
b.a.a.overflow='hidden',b.a.a['font-family']="'Gill Sans', 'Gill Sans MT', Calibri, sans-serif",b.a.a.color='#444',b.a.a.display='flex',b.a.a['flex-direction']='column'}),c=s(function(d){d.a.a.width=d.a.a.height='100%',d.a.a.display='flex'}),e=s(function(f){f.a.a.width='54px',f.a.a.height='100%',f.a.a['background-color']=q(Ma),f.a.a['border-right']='1px solid '+q(Xa)}),g=s(function(h){h.a.a.width=h.a.a.height='100%',h.a.a['background-color']='white'}),k=s(function(p){p.a.a.width='216px',p.a.a.height='100%',p.a.a['background-color']=q(Ma),p.a.a['border-left']='1px solid '+q(Xa)});return E.div(new Object({className:a}),this._renderTopBar(),E.div(new Object({className:c}),E.div(new Object({className:e}),React.createElement(new Yc.ToolbarView().constructor,this.props)),E.div(new Object({className:g}),this._renderCanvas()),E.div(new Object({className:k}),React.createElement(new Yc.InspectorView().constructor,this.props))))};H._renderTopBar=function(){var a=s(function(b){b.a.a.width='100%',b.a.a.height='36px',b.a.a['border-bottom']='1px solid '+q(Xa),
b.a.a['text-align']='center',b.a.a['line-height']='36px',b.a.a['font-size']='12px',b.a.a['letter-spacing']='1.1px'});return E.div(new Object({className:a+' '+eb(this.props.e)}),this.props.b)};H._renderCanvas=function(){var e=this,a=function(b){b&&b.appendChild(e.props.a)},c=s(function(d){d.a.a.width=d.a.a.height='100%'});return E.div(new Object({ref:a,className:c}))};function Zc(a,b,c,d,e){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e}function _c(a,b){this.a=a,this.b=b}var E=React.DOM,Wa=-1,Ma=C(15921906),oc=C(16316664),Tb=C(14737632),Xa=C(12434877),Xb=C(6710886),Yb=C(10066329),Zb=C(9391359),_b=C(2525183),pc=C(10540785),ya=C(7327639),$b=C(16777215),Aa=null,Ra=t(t(fa(null),'flex',['-webkit-flex']),'flex-direction',['-webkit-flex-direction']),Ya={},Za={},qc=['CHOOSE_ORIGIN_FOR_SELECTION','CLEAR_ORIGIN_FOR_SELECTION','SET_ORIGIN_FOR_SELECTION','DELETE_SELECTION','REMOVE_TEMPORARY_BEHAVIORS','SET_TEMPORARY_BEHAVIORS','SET_TOOL','SET_TOP_BAR_TEXT','SET_SELECTION'],rc=['NONE','MOVE','EDGE','CIRCLE'];xc()})();
