(function(){var ia=Object.create||function(a){return{__proto__:a}};function xc(a,b){a.prototype=ia(b.prototype),a.prototype.constructor=a}var H;function Bc(){A(window,'load',function(){var a=document.getElementById('graph-application');a.style.width=a.style.height='100%',new Ac(a)})}function ua(a,b,c,d,e){var f=null,g=null,h=Ob(a,c,d);if(h.length>0){f=h[0],x(b,Nb(f));switch(f.a){case 0:(!e||e(f.b))&&(b.g=f.b,g='Snap to node');break;case 1:b.d=new Dc(0,f.c,null,null,null,null),g='Constrain to midpoint';break;case 2:b.d=new Dc(1,null,f.e,null,null,null),g='Constrain to altitude base';break;case 3:b.d=new Dc(2,null,null,f.d,null,null),g='Constrain to intersection';break}}return new $c(f,g)}function Sb(a){switch(a){case 1:return'icons/tool-move.svg';case 2:return'icons/tool-edge.svg';case 3:return'icons/tool-circle.svg'}return null}function Tb(a,b){for(var c=[],e=0,f=L(b,a),g=f.length;e<g;e=e+1|0){var d=f[e];j(d)&&j(d).a==3?U(c,j(d).e):U(c,null)}return c}function va(){return t(function(a){a.a.a.color=s(bc),a.a.a.cursor='pointer'})}
function ca(a,b,c,d){var e=(a.a-b.a)*(c.b-d.b)-(a.b-b.b)*(c.a-d.a),f=(a.a*b.b-a.b*b.a)*(c.a-d.a)-(a.a-b.a)*(c.a*d.b-c.b*d.a),g=(a.a*b.b-a.b*b.a)*(c.b-d.b)-(a.b-b.b)*(c.a*d.b-c.b*d.a);return new nd(f/e,g/e)}function dc(a,b,c){var d=P(O(m(b,c),1.5707963267948966));return ca(a,r(a,d),b,c)}function ec(a,b,c){var d=I(r(a,b),2),e=I(r(b,c),2);return ca(d,r(d,P(O(m(a,b),1.5707963267948966))),e,r(e,P(O(m(b,c),1.5707963267948966))))}function Sa(a,b,c){var d=D(m(a,b)),e=D(m(a,c)),f=D(m(b,c)),g=Math.pow(d,2),h=Math.pow(e,2),k=Math.pow(f,2);if(h>g+k)return d;else if(g>h+k)return e;else{var n=(d+e+f)/2;return 2/f*Math.sqrt(n*(n-d)*(n-e)*(n-f))}}function lc(a){for(var b=0,c=0,d=a.length;c<d;c=c+1|0)b=((b<<5)-b|0)+a.charCodeAt(c)|0;return b}function Ea(b,a){a!=b.a&&(b.a=a,b.c=!0)}function ma(b,a){b.b!=a&&(b.b=a,b.c=!0)}function hb(b,a){b.f=a,b.a.g=!0}function o(e,a,b){var c=!0;switch(a){case 6:e.d===b?c=!1:e.d=b;break;case 7:e.e===b?c=!1:e.e=b;break;case 8:pb(e.a,b);break}if(c&&hc('Trigger action '+uc[a]+' with data ('+b+')'),
c)for(var f=0,g=e.h,h=g.length;f<h;f=f+1|0){var d=g[f];ha(d,a,b)}}function ib(c){return c.g?t(function(a){a.a.a['background-color']=s(ac),a.a.a.color=s(cc)}):t(function(b){b.a.a['background-color']=s(Qa)})}function cb(b,a){a.a in y(b.d.a.f).a&&_(b)}function ha(l,a,b){var c=l.d.a,d=y(c.f);switch(a){case 3:var e=L(d,l.d.a);qb(l.d.a,e);break;case 0:ha(l,5,new hd([new Rc(l.d),new Jc(l.d,'Choose a node as the origin',d,function(f){o(l.d,4,null),o(l.d,2,f),o(l.d,7,qc(f))})]));break;case 1:for(var v=0,G=L(y(l.d.a.f),l.d.a),w=G.length;v<w;v=v+1|0){var g=G[v],h=i(g);g.d=null,x(g,h)}break;case 2:for(var k=b,J=0,K=L(y(l.d.a.f),l.d.a),T=K.length;J<T;J=J+1|0){var n=K[J];n.d=new Dc(3,null,null,null,k,m(i(n),i(k)))}break;case 4:l.k=null,ha(l,6,l.d.d);break;case 5:l.k=new hd(l.g.a.da.slice()),Ua(l.g);var q=b;S(l.g,q);break;case 6:Ua(l.g);var p=new ed(function(){return gc(32)},new Oc(l.d));S(l.g,p),S(l.g,new Rc(l.d));switch(l.d.d){case 1:S(l.g,new Kc(l.d,new Pc(l.d),new hd([new Nc(l.d),new Qc(l.d)])));break;case 2:S(l.g,new Mc(l.d));
break;case 3:S(l.g,new Lc(l.d));break}_(l);break;case 7:_(l);break;case 8:_(l);break}}function _(f){var a=Ya(window.performance),b=new bd(f.b,f.d.e,f.d.d,function(c,d){o(f.d,c,d)},f.d);ReactDOM.render(React.createElement(new ad.GraphAppView().constructor,new Object(b)),f.a);var e=Ya(window.performance)-a;e>16&&console.warn('DOM render took more than 16ms -- duration was '+e+'ms')}function Fa(b){var a=b.b.getBoundingClientRect();b.b.width=a.width*window.devicePixelRatio|0,b.b.height=a.height*window.devicePixelRatio|0,b.c.g=!0}function na(c,a,b){a.a in c.a||(c.a[a.a]=[]),U(c.a[a.a],b)}function Ga(c,a){for(var d=0,e=c.c,f=e.length;d<f;d=d+1|0){var b=e[d];if(b.a==a)return b}return null}function oa(e,a,b){for(var c=null,f=0,g=e.d,h=g.length;f<h;f=f+1|0){var d=g[f];(d.c==a&&d.d==b||d.c==b&&d.d==a)&&(c=d)}return c}function jb(d,a){for(var b=[],e=0,f=d.d,g=f.length;e<g;e=e+1|0){var c=f[e];c.c==a?b.push(c.d):c.d==a&&b.push(c.c)}return b}function Ha(e,a,b){for(var c=[],f=0,g=e.c,h=g.length;f<h;f=f+1|0){var d=g[f];D(m(i(d),
a))<4+b&&c.push(d)}return c}function kb(e,a,b){for(var c=[],f=0,g=e.d,h=g.length;f<h;f=f+1|0){var d=g[f];D(m(pa(d),a))<b&&c.push(d)}return c}function lb(g,a,b){for(var c=[],q=0,p=g.d,l=p.length;q<l;q=q+1|0){var d=p[q];if(Sa(a,i(d.c),i(d.d))<b)for(var h=0,k=jb(g,d.c),n=k.length;h<n;h=h+1|0){var e=k[h];if(oa(g,e,d.d)){var f=new Yc(e,d.c,d.d);D(m(aa(f),a))<b&&c.push(f)}}}return c}function mb(q,a,b){for(var c=[],p=0,l=q.d,v=l.length;p<v;p=p+1|0){var d=l[p];Sa(a,i(d.c),i(d.d))<b&&c.push(d)}for(var e=[],f=0,w=c.length-1|0;f<w;f=f+1|0)for(var g=f+1|0,G=c.length;g<G;g=g+1|0){var h=c[f],k=c[g],n=ca(i(h.c),i(h.d),i(k.c),i(k.d));D(m(n,a))<b&&e.push(new Zc(h,k))}return e}function qa(){return Za=Za+1|0,Za}function ob(b,a){b.e=a,b.g=!0}function pb(b,a){b.f=a,b.g=!0}function V(b){var a=new Ec(b);return b.c.push(a),b.g=!0,a}function B(g,a,b){ja(g.c,a);for(var c=[],h=0,k=g.d,n=k.length;h<n;h=h+1|0){var d=k[h];(d.c==a||d.d==a)&&c.push(d)}for(var q=0,p=c.length;q<p;q=q+1|0){var e=c[q];ja(g.d,e)}if(a.a in g.a)for(var l=0,v=g.a[a.a],G=v.length;l<G;l=l+1|0){
var f=v[l];db(f,a,b)}g.g=!0}function qb(c,a){for(var d=0,e=a.length;d<e;d=d+1|0){var b=a[d];B(c,b,null)}}function rb(d,a,b){if(!oa(d,a,b)){var c=new Fc(d,a,b);d.d.push(c),d.g=!0}}function sb(c,a){ja(c.d,a);for(var d=0,e=c.c,f=e.length;d<f;d=d+1|0){var b=e[d];if(j(b)&&j(b).b==a)throw new Error('Deleting edge that a node is constrained to')}c.g=!0}function ra(h,a,b){if(a!=b){var c=oa(h,a,b);if(c){var d=ub(h,c);d&&B(h,d,null);for(var e=vb(h,c),k=0,n=e.length;k<n;k=k+1|0){var f=e[k];B(h,f,null)}sb(h,c)}for(var q=0,p=h.d,l=p.length;q<l;q=q+1|0){var g=p[q];g.c==a&&(g.c=b),g.d==a&&(g.d=b)}B(h,a,b),tb(h)}}function tb(b){for(var c=0,d=b.c,e=d.length;c<e;c=c+1|0)var a=d[c]}function ub(c,a){for(var d=0,e=c.c,f=e.length;d<f;d=d+1|0){var b=e[d];if(j(b)&&!j(b).a&&j(b).b==a)return b}return null}function vb(d,a){for(var b=[],e=0,f=d.c,g=f.length;e<g;e=e+1|0){var c=f[e];j(c)&&j(c).c&&Mb(j(c).c,a)&&b.push(c)}return b}function Ia(a){switch(a.a){case 0:return[a.b.c,a.b.d];case 1:return[a.c.a,a.c.b,a.c.c];case 2:return[a.d.a.c,a.d.a.d,
a.d.b.c,a.d.b.d];case 3:return[a.e]}throw new Error('Unhandles constraint type')}function Ja(a){return a.b.e==a}function j(b){b.e=!0;var a=null;return a=b.g?j(b.g):b.d,b.e=!1,a}function i(b){b.f=!0;var a=null;return a=b.g?i(b.g):j(b)&&!j(b).a?pa(j(b).b):j(b)&&j(b).a==1?aa(j(b).c):j(b)&&j(b).a==2?ta(j(b).d):j(b)&&j(b).a==3?r(i(j(b).e),j(b).f):b.c,b.f=!1,a}function nb(d,a){var b=[];for(j(d)&&Da(b,Ia(j(d)));b.length;){var c=b.pop();if(c==a)return!0;j(c)&&Da(b,Ia(j(c)))}return!1}function x(c,a){if(c.c!=a){c.c=a;for(var d=0,e=c.b.b,f=e.length;d<f;d=d+1|0){var b=e[d];cb(b,c)}c.b.g=!0}return c}function pa(a){return I(r(i(a.c),i(a.d)),2)}function db(d,a,b){var c=b==null||b==d.d||b==d.e||b==d.f;c?eb(d.b.b,d):a==d.d?d.d=b:a==d.e?d.e=b:a==d.f&&(d.f=b)}function Ka(a){return ec(i(a.d),i(a.e),i(a.f))}function wb(a){return D(m(Ka(a),i(a.d)))}function xb(d,a,b,c){return d.b.push(new Gc(d.a,d,a,b,c)),fb(d.b)}function R(a){switch(a.v){case 0:return a.n;case 1:return a.q;case 2:return a.p}throw new Error('Invalid _state')}function La(a){
switch(a.v){case 0:a.v=1;break;case 1:a.v=2;break;case 2:a.v=0,a.n=V(a.a.a),a.q=V(a.a.a),a.p=V(a.a.a),a.l=xb(a.a.b,a.n,a.q,a.p);break}}function yb(a){a.ea&&(a.ea.style.cursor=null),a.Z=a.Ma=a.ea=null}function y(b){var a=new Sc;return a.a=gb(b.a),a}function L(e,a){for(var b=[],f=0,g=ka(e.a),h=g.length;f<h;f=f+1|0){var c=g[f],d=Ga(a,c);d&&b.push(d)}return b}function Fb(e,a){e.b.save(),e.b.scale(window.devicePixelRatio,window.devicePixelRatio),e.b.translate(a.f.a,a.f.b),e.c=a.a;for(var f=0,g=a.a.d,h=g.length;f<h;f=f+1|0){var b=g[f];Na(e.b,i(b.c),i(b.d),$a,1)}for(var k=0,n=a.b.b,q=n.length;k<q;k=k+1|0){var c=n[k];$(e.b,Ka(c),wb(c),null,$a,1)}for(var p=0,l=a.a.c,v=l.length;p<v;p=p+1|0){var d=l[p];$(e.b,i(d),Ja(d)?4.5:4,Bb(d),Oa(d),1)}e.b.restore(),a.a.g=!1}function Gb(c,a){var b=a.c.b;if(b)switch(b.a){case 0:$(c.b,i(b.b),5,null,fa,2);break;case 1:Cb(c.b,b.c);break;case 2:Db(c.b,b.e);break;case 3:Eb(c.b,b.d);break}}function Hb(g,a){for(var b=a.a,c=y(b.f),h=0,k=L(c,b),n=k.length;h<n;h=h+1|0){var d=k[h];if(j(d)&&j(d).a==3){
var e=i(j(d).e),f=i(d);X(g.b,e,f,$a,1,[6,6])}}}function Ib(c,a){c.b.save(),c.b.scale(window.devicePixelRatio,window.devicePixelRatio),c.b.translate(a.f.a,a.f.b);var b=c.a.getBoundingClientRect();c.b.clearRect(-a.f.a,-a.f.b,b.width,b.height),Hb(c,a),Gb(c,a),c.b.restore()}function Jb(e,a){e.b.save(),e.b.scale(window.devicePixelRatio,window.devicePixelRatio),e.b.translate(a.f.a,a.f.b);var b=a.c.a;if(b){var c=wa(tc);c.d=.3;var d=wa(bc);d.d=.6,Ab(e.b,b,c,d,1)}e.b.restore(),a.c.c=!1}function Na(a,b,c,d,e){X(a,b,c,d,-1,null)}function X(a,b,c,d,e,f){a.beginPath(),a.moveTo(b.a,b.b),a.lineTo(c.a,c.b),d&&(a.strokeStyle=s(d)),e>=0&&(a.lineWidth=e),f&&a.setLineDash(f),d&&a.stroke()}function zb(a,b,c,d,e,f,g){for(var h=P(O(m(c,b),1.5707963267948966)),k=e*(d-1|0),n=0;n<d;n=n+1|0){var q=Y(h,e*n-k/2),p=r(b,q),l=r(c,q);X(a,p,l,f,-1,null)}}function $(a,b,c,d,e,f){a.beginPath(),a.arc(b.a,b.b,c,0,6.283185307179586),d&&(a.fillStyle=s(d),a.fill()),f>=0&&(a.lineWidth=f),e&&(a.strokeStyle=s(e),a.stroke())}function Ab(a,b,c,d,e){a.beginPath(),
a.rect(b.a.a,b.a.b,b.b.a,b.b.b),c&&(a.fillStyle=s(c),a.fill()),e>=0&&(a.lineWidth=e),d&&(a.strokeStyle=s(d),a.stroke())}function Bb(a){return a.a in y(a.b.f).a?Oa(a):cc}function Oa(a){var b=null;return b=j(a)?fa:ac,Ja(a)&&(b=wa(b),$b(b,.1)),b}function Pa(a,b,c){var d=P(O(c,1.5707963267948966)),e=m(b,I(Y(d,10),2)),f=r(b,I(Y(d,10),2));zb(a,e,f,2,2,fa,1)}function Cb(a,b){var c=i(b.c),d=i(b.d),e=I(r(c,d),2),f=P(m(d,c));Pa(a,I(r(c,e),2),f),Pa(a,I(r(d,e),2),f)}function Db(a,b){var c=i(b.a),d=aa(b);Na(a,d,c,fa,1);var e=P(m(c,d)),f=Y(O(e,1.5707963267948966),10),g=Y(e,10),h=r(d,f),k=r(d,g),n=r(r(d,f),g);X(a,n,h,fa,-1,null),X(a,n,k,fa,-1,null)}function Eb(a,b){var c=ta(b);$(a,c,5,null,fa,5)}function Kb(g,a,b){g.e.a=g.a.a;var c=new $c(null,null);if(a.g=null,j(a)&&j(a).a==3)j(a).f=m(b,i(j(a).e));else{a.d=null,x(a,b);var d=new Sc.W([a]);c=ua(g.e,a,b,d,null)}for(var e=m(i(a),g.c[a.a]),h=0,k=L(g.b,g.a.a),n=k.length;h<n;h=h+1|0){var f=k[h];j(f)||x(f,r(g.c[f.a],e))}return c}function Lb(b,a){if(a^8){if(a^27){if(a^32){if(a>32)return String.fromCharCode(a)}
else return'Space'}else return'Esc'}else return'Backspace';return'unknown'}function Nb(a){switch(a.a){case 0:return i(a.b);case 1:return pa(a.c);case 2:return aa(a.e);case 3:return ta(a.d)}return nc()}function aa(a){return dc(i(a.a),i(a.b),i(a.c))}function Mb(b,a){return a.c==b.a&&a.d==b.b||a.c==b.b&&a.d==b.a||a.c==b.b&&a.d==b.c||a.c==b.c&&a.d==b.b||a.c==b.c&&a.d==b.a||a.c==b.a&&a.d==b.c}function ta(a){return ca(i(a.a.c),i(a.a.d),i(a.b.c),i(a.b.d))}function Ob(p,a,b){for(var c=[],d=Ha(p.a,a,10),l=0,v=d.length;l<v;l=l+1|0){var e=d[l];ba(p,[e],b)&&c.push(new Xc(0,e,null,null,null))}for(var f=kb(p.a,a,10),G=0,w=f.length;G<w;G=G+1|0){var g=f[G];Pb(p,g,b)&&c.push(new Xc(1,null,g,null,null))}for(var h=lb(p.a,a,10),J=0,K=h.length;J<K;J=J+1|0){var k=h[J];Qb(p,k,b)&&c.push(new Xc(2,null,null,null,k))}for(var n=mb(p.a,a,10),T=0,Z=n.length;T<Z;T=T+1|0){var q=n[T];Rb(p,q,b)&&c.push(new Xc(3,null,null,q,null))}return c}function Pb(c,a,b){return ba(c,[a.c,a.d],b)}function Qb(c,a,b){return ba(c,[a.a,a.b,a.c],b)}function Rb(c,a,b){
return ba(c,[a.a.c,a.a.d,a.b.c,a.b.d],b)}function ba(e,a,b){for(var h=0,k=L(b,e.a),n=k.length;h<n;h=h+1|0)for(var c=k[h],f=0,g=a.length;f<g;f=f+1|0){var d=a[f];if(c==d||nb(d,c))return!1}return!0}function Ub(){return t(function(a){a.a.a['float']='right',a.a.a.color=s(sc)})}function Vb(){return t(function(a){a.a.a['margin-bottom']='12px'})}function Wb(){return t(function(a){a.a.a['font-size']='11px',a.a.a.padding='18px'})}function Xb(){return t(function(a){a.a.a['text-align']='center',a.a.a['margin-bottom']='12px',a.a.a['font-weight']='600',a.a.a['text-transform']='uppercase'})}function Zb(a){var b=a.getBoundingClientRect();return b.bottom>-1&&b.right>-1&&b.top<=window.innerHeight&&b.left<=window.innerWidth}function _b(a,b){var c=null,d=function(){if(Zb(a)){var e=new Date,f=c?+e-+c:1/30;b(f),c=e}requestAnimationFrame(d)};requestAnimationFrame(d)}function wa(a){return new dd(a.a,a.b,a.c,a.d)}function s(a){return 'rgba('+(a.a*255|0)+', '+(a.b*255|0)+', '+(a.c*255|0)+', '+a.d+')'}function $b(b,a){b.a=Math.min(b.a+a,
1),b.b=Math.min(b.b+a,1),b.c=Math.min(b.c+a,1)}function C(a){return new dd((a>>16&255)/255,(a>>8&255)/255,(a&255)/255,1)}function fc(){Ba||(Ba=new kd,A(document,'keydown',function(a){Ba.a[a.keyCode]=!0}),A(document,'keyup',function(b){delete Ba.a[b.keyCode]}))}function gc(a){return fc(),a in Ba.a}function hc(a){}function Ta(a){return a.c?a.c.target:a.d.target}function z(c){var a=Ta(c).getBoundingClientRect(),b=null;return b=c.c?new nd(c.c.clientX,c.c.clientY):new nd(ya(c.d.touches)[0].clientX,ya(c.d.touches)[0].clientY),m(b,new nd(a.left,a.top))}function S(b,a){b.a.da.push(a),a.Ca()}function Ua(a){a.a.ga(),a.a=new hd([])}function ic(k,a){A(a,'mousedown',function(b){k.a.Q(new fd(k,b,null)),M(b)}),A(a,'mousemove',function(c){k.a.F(new fd(k,c,null)),M(c)}),A(a,'mouseup',function(d){k.a.N(new fd(k,d,null)),M(d)}),A(a,'mouseleave',function(e){k.a.N(new fd(k,e,null)),M(e)}),A(a,'touchstart',function(f){k.a.Q(new fd(k,null,f)),M(f)}),A(a,'touchmove',function(g){k.a.F(new fd(k,null,g)),M(g)}),A(a,'touchend',function(h){
k.a.N(new fd(k,null,h)),M(h)})}function jc(b,a){return a.a>b.a.a&&a.b>b.a.b&&a.a<b.a.a+b.b.a&&a.b<b.a.b+b.b.b}function xa(f){for(var a=new wc,l=0,v=Object.keys(f.a),G=v.length;l<G;l=l+1|0){var b=v[l],c=f.a[b];if(a.a+=b+': '+c+';\n',b in Va)for(var g=0,h=Va[b],k=h.length;g<k;g=g+1|0){var d=h[g];a.a+=d+': '+c+';\n'}if(c in Va)for(var n=0,q=Va[c],p=q.length;n<p;n=n+1|0){var e=q[n];a.a+=b+': '+e+';\n'}}return a.a}function kc(){for(var a=new wc,b=0;b<10;b=b+1|0){var c=Math.floor(Math.random()*52|0)|0;a.a+='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.slice(c,c+1|0)}return a.a}function t(a){var b=new md;a(b);var c=lc(Wa(b,''));return c in ab||(ab[c]=b,bb[c]=kc(),mc(c)),bb[c]}function mc(a){var b=bb[a];if(!document.getElementById(b)){var c=document.createElement('style');c.type='text/css',c.id=b;var d=ab[a];c.innerHTML=Wa(d,b),document.getElementsByTagName('head')[0].appendChild(c)}}function Wa(c,a){var b=new wc;return Object.keys(c.a.a).length&&(b.a+='.'+a+' {\n',b.a+=xa(c.a),b.a+='}\n'),Object.keys(c.b.a).length&&(b.a+='.'+a+':hover {\n',
b.a+=xa(c.b),b.a+='}\n'),Object.keys(c.c.a).length&&(b.a+='.'+a+':active {',b.a+=xa(c.c),b.a+='}\n'),b.a}function r(b,a){return new nd(b.a+a.a,b.b+a.b)}function m(b,a){return new nd(b.a-a.a,b.b-a.b)}function Y(b,a){return new nd(b.a*a,b.b*a)}function I(b,a){return new nd(b.a/a,b.b/a)}function O(b,a){return new nd(b.a*Math.cos(a)-b.b*Math.sin(a),b.b*Math.cos(a)+b.a*Math.sin(a))}function P(a){return I(a,D(a))}function D(a){return Math.sqrt(a.a*a.a+a.b*a.b)}function nc(){return new nd(0,0)}function ya(a){for(var b=[],c=0,d=a.length;c<d;c=c+1|0)b.push(a[c]);return b}function A(a,b,c){a.addEventListener(b,c)}function M(a){a.preventDefault()}function eb(d,a){for(var b=0,c=0,e=d.length;c<e;c=c+1|0)d[c]!=a&&(b<c&&(d[b]=d[c]),b=b+1|0);for(;b<d.length;)d.pop()}function fb(a){return a[a.length-1|0]}function Da(c,a){for(var d=0,e=a.length;d<e;d=d+1|0){var b=a[d];c.push(b)}}function U(b,a){~b.indexOf(a)||b.push(a)}function ja(c,a){var b=c.indexOf(a);b>-1&&c.splice(b,1)}function u(c,a,b){return c[a]=b,c}function la(c){var a=[];
for(var b in c)a.push(c[b]);return a}function ka(c){var a=[];for(var b in c)a.push(b|0);return a}function gb(c){for(var a={},d=0,e=ka(c),f=e.length;d<f;d=d+1|0){var b=e[d];a[b]=c[b]}return a}function oc(a){return new nd(Math.abs(a.a),Math.abs(a.b))}function pc(a,b){return new nd(Math.min(a.a,b.a),Math.min(a.b,b.b))}function Xa(a){try{return a.getContext('2d')}catch(b){}return null}function Ya(a){return a&&a.now?a.now():+new Date}function qc(a){return 'Good job! The new origin is node '+a.a}function wc(){this.a=''}function yc(){this.a=this.b=null,this.c=!1}function zc(a,b,c){this.a=a,this.b=b,this.c=c,this.d=-1,this.e='error: missing top bar text',this.f=new nd(0,0),this.g=!1,this.h=[]}function Ac(a){var c=this;c.b=c.c=c.d=c.e=c.f=c.g=c.h=c.k=null,c.a=a,c.b=document.createElement('canvas'),c.b.style.width=c.b.style.height='100%',c.c=new Cc,U(c.c.b,c),c.e=new Tc(c.b),c.d=new zc(c.c,new Hc(c.c),new yc),U(c.d.h,c),c.f=new Uc(c.b),c.g=new id,ic(c.g,c.b),c.h=new Wc(c.d),_b(c.b,function(b){(c.c.g||c.d.c.c)&&(Ib(c.f,c.d),
Fb(c.e,c.d),Jb(c.f,c.d))}),o(c.d,6,0),o(c.d,7,'Welcome to AlphaGraph - choose a tool to get started...'),A(window,'resize',function(){Fa(c)}),Fa(c)}function Cc(){this.a={},this.b=[],this.c=[],this.d=[],this.e=null,this.f=new Sc,this.g=!1}function Dc(a,b,c,d,e,f){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e,this.f=f}function Ec(a){this.a=-1,this.b=null,this.c=new nd(0,0),this.d=null,this.e=this.f=!1,this.g=null,this.b=a,this.a=qa()}function Fc(a,b,c){this.b=-1,this.c=this.d=null,this.a=a,this.b=qa(),this.c=b,this.d=c}function Gc(a,b,c,d,e){this.c=-1,this.d=this.e=this.f=null,this.a=a,this.b=b,this.c=qa(),this.d=c,this.e=d,this.f=e,na(this.a,this.d,this),na(this.a,this.e,this),na(this.a,this.f,this)}function Hc(a){this.a=a,this.b=[]}function Sc(){this.a={}}Sc.W=function(a){this.a={};for(var c=0,d=a.length;c<d;c=c+1|0){var b=a[c];this.a[b.a]=!0}};Sc.W.prototype=Sc.prototype;function Vc(a,b,c){this.a=this.b=this.c=this.d=null,this.e=new _c,this.a=a,this.b=b,this.c={},this.d=c;for(var e=0,f=L(this.b,this.a.a),g=f.length;e<g;e=e+1|0){
var d=f[e];this.c[d.a]=i(d)}}function Wc(a){var e=this;e.a=u(u(u(u(u(u(ia(null),'Backspace',function(f){o(f,3,null)}),'Esc',function(g){o(g,6,1)}),'C',function(h){o(h,6,3)}),'M',function(k){o(k,6,1)}),'V',function(n){o(n,6,1)}),'E',function(q){o(q,6,2)}),A(document,'keydown',function(b){var c=0;b.key!==undefined?c=b.key:b.keyCode!==undefined?c=b.keyCode:b.which!==undefined&&(c=b.which);var d=Lb(e,c);d in e.a&&(e.a[d](a),M(b))})}function Xc(a,b,c,d,e){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e}function Yc(a,b,c){this.a=a,this.b=b,this.c=c}function Zc(a,b){this.a=a,this.b=b}function _c(){this.a=null}function $c(a,b){this.a=a,this.b=b}var ad={};function dd(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function fd(a,b,c){this.a=a,this.b=!1,this.c=b,this.d=c}function gd(){}H=gd.prototype;H.Q=function(a){};H.F=function(a){};H.N=function(a){};H.Ca=function(){};H.ga=function(){};function Ic(a){gd.call(this),this.a=a}xc(Ic,gd);function Nc(a){Ic.call(this,a),this.K=this.T=null}xc(Nc,Ic);H=Nc.prototype;H.Q=function(a){this.a.a.e&&(this.K=this.a.a.e,
this.K.a in y(this.a.a.f).a||o(this.a,8,new Sc.W([this.K])),this.T=new Vc(this.a,y(this.a.a.f),m(z(a),this.a.f)),a.b=!0)};H.F=function(a){var b=m(z(a),this.a.f),c=null;if(this.K){var d=Kb(this.T,this.K,b);c=d.a,a.b=!0}ma(this.a.c,c)};H.N=function(a){this.F(a),this.K&&(a.b=!0,this.K.g&&ra(this.a.a,this.K,this.K.g),this.K=null)};function Oc(a){Ic.call(this,a),this.Z=this.Ma=this.ea=null}xc(Oc,Ic);H=Oc.prototype;H.Q=function(a){this.Z=z(a),this.Ma=this.a.f,this.ea=Ta(a),this.ea.style.cursor='move',a.b=!0};H.F=function(a){this.Z&&(hb(this.a,r(this.Ma,m(z(a),this.Z))),this.ea.style.cursor='move',a.b=!0)};H.N=function(a){this.Z&&(this.F(a),yb(this),a.b=!0)};function Pc(a){Ic.call(this,a),this.za=null}xc(Pc,Ic);H=Pc.prototype;H.Q=function(a){this.a.a.e&&(this.za=this.a.a.e)};H.N=function(a){this.za?(o(this.a,8,new Sc.W([this.za])),this.za=null):o(this.a,8,new Sc)};function Qc(a){Ic.call(this,a),this.sa=null}xc(Qc,Ic);H=Qc.prototype;H.Q=function(a){this.sa=m(z(a),this.a.f)};H.F=function(a){var b=m(z(a),this.a.f);if(this.sa){
var c=pc(this.sa,b),d=oc(m(this.sa,b)),e=new jd(c,d);Ea(this.a.c,e);for(var f=new Sc,h=0,k=this.a.a.c,n=k.length;h<n;h=h+1|0){var g=k[h];jc(e,i(g))&&(f.a[g.a]=!0)}o(this.a,8,f)}};H.N=function(a){this.sa=null,Ea(this.a.c,null)};function Rc(a){Ic.call(this,a)}xc(Rc,Ic);Rc.prototype.F=function(a){var b=Ha(this.a.a,m(z(a),this.a.f),10);ob(this.a.a,b.length>0?b[0]:null)};function Mc(a){Ic.call(this,a),this.G=this.w=this.J=null,this.G=new _c,this.w=V(a.a),o(this.a,7,'Click somewhere to start creating edges')}xc(Mc,Ic);H=Mc.prototype;H.ga=function(){this.w&&B(this.a.a,this.w,null)};H.F=function(a){var h=this;h.G.a=h.a.a;var b=m(z(a),h.a.f),c=null,d=h.J&&"It's a masterpiece!";if(h.w){h.w.d=h.w.g=null,x(h.w,b);var e=new Sc.W([h.w]),f=ua(h.G,h.w,b,e,function(g){return g!=h.J});f.a&&(c=f.a),f.b!=null&&(d=f.b)}d!=null&&o(h.a,7,d),ma(h.a.c,c)};H.Q=function(a){this.F(a);var b=m(z(a),this.a.f);this.w.g?(ra(this.a.a,this.w,this.w.g),this.J=this.w.g):this.J=this.w,this.w=V(this.a.a),x(this.w,b),rb(this.a.a,this.J,this.w)};function Jc(a,b,c,d){
Ic.call(this,a),this.e=null,this.b=b,this.c=c,this.d=d}xc(Jc,Ic);H=Jc.prototype;H.Ca=function(){this.a.g=!0};H.ga=function(){this.a.g=!1};H.Q=function(a){var b=this.a.a.e;b&&!(b.a in this.c.a)&&(this.e=b)};H.F=function(a){o(this.a,7,this.b)};H.N=function(a){this.e&&this.a.a.e==this.e&&this.d(this.a.a.e)};function ed(a,b){gd.call(this),this.Ra=a,this.Aa=b}xc(ed,gd);H=ed.prototype;H.ga=function(){this.Aa.ga()};H.Q=function(a){this.Ra()&&this.Aa.Q(a)};H.F=function(a){this.Ra()&&this.Aa.F(a)};H.N=function(a){this.Ra()&&this.Aa.N(a)};function Kc(a,b,c){Ic.call(this,a),this.h=null,this.f=b,this.g=c}xc(Kc,Ic);H=Kc.prototype;H.Q=function(a){this.h=a};H.F=function(a){var b=m(z(a),this.a.f);this.h&&D(m(m(z(this.h),this.a.f),b))>3&&(this.g.Q(this.h),this.h=null),this.h||this.g.F(a)};H.N=function(a){this.h?(this.f.Q(this.h),this.f.N(a),this.h=null):this.g.N(a)};function Lc(a){Ic.call(this,a),this.k=this.n=this.q=this.p=this.l=null,this.v=0,this.k=new _c,this.v=2,La(this)}xc(Lc,Ic);H=Lc.prototype;H.ga=function(){switch(this.v){
case 0:B(this.a.a,this.n,null),B(this.a.a,this.q,null),B(this.a.a,this.p,null);break;case 1:B(this.a.a,this.q,null),B(this.a.a,this.p,null);break;case 2:B(this.a.a,this.p,null);break}};H.Q=function(a){this.F(a),R(this).g&&ra(this.a.a,R(this),R(this).g),La(this)};H.F=function(a){var b=m(z(a),this.a.f);this.k.a=this.a.a;switch(this.v){case 0:x(this.n,b),x(this.q,b),x(this.p,b);break;case 1:x(this.q,b);var c=m(i(this.q),i(this.n));x(this.p,r(i(this.q),O(c,-1.5707963267948966)));break;case 2:x(this.p,b);break}R(this).d=null,R(this).g=null;var d=new Sc.W([this.n,this.q,this.p]),e=ua(this.k,R(this),b,d,null);o(this.a,7,e.b==null?"It's a masterpiece!":e.b),ma(this.a.c,e.a)};function hd(a){gd.call(this),[],this.da=a}xc(hd,gd);H=hd.prototype;H.Ca=function(){for(var b=0,c=this.da,d=c.length;b<d;b=b+1|0){var a=c[b];a.Ca()}};H.ga=function(){for(var b=0,c=this.da,d=c.length;b<d;b=b+1|0){var a=c[b];a.ga()}};H.Q=function(a){for(var c=0,d=this.da,e=d.length;c<e;c=c+1|0){var b=d[c];if(b.Q(a),a.b)break}};H.N=function(a){for(var c=0,d=this.da,e=d.length;c<e;c=c+1|0){
var b=d[c];if(b.N(a),a.b)break}};H.F=function(a){for(var c=0,d=this.da,e=d.length;c<e;c=c+1|0){var b=d[c];if(b.F(a),a.b)break}};function id(){this.a=new hd([])}function jd(a,b){if(this.a=this.b=null,b.a<0||b.b<0)throw new Error('You constructed a rect with a negative size');this.a=a,this.b=b}function kd(){this.a={}}function ld(){this.a=ia(null)}function md(){this.a=new ld,this.b=new ld,this.c=new ld}function nd(a,b){this.a=a,this.b=b}ad.PositionControls=function(){React.Component.call(this)};xc(ad.PositionControls,React.Component);H=ad.PositionControls.prototype;H.displayName=function(){return'PositionControls'};H._renderPositionItem=function(){var a='Mixed',b=y(this.props.e.a.f);if(la(b.a).length==1){var c=i(Ga(this.props.e.a,ka(b.a)[0]));a=c.a+', '+c.b}return React.createElement(new ad.PropertyItem().constructor,new Object(new cd('POSITION',a)),[])};H._renderOriginItem=function(a,b,c){var d='Mixed';return c.length==1&&!c[0]?d='0, 0':c.length==1&&c[0]&&(d='Node '+c[0].a),React.createElement(new ad.PropertyItem().constructor,
new Object(new cd('ORIGIN',d)),[])};H._renderOriginControls=function(){var e=this,a=e.props.e.a,b=y(e.props.e.a.f),c=Tb(a,b),d=null;return d=c.length==1&&!c[0]?E.div(new Object({className:va(),onClick:function(){e.props.d(7,'Choose a node as the origin'),e.props.d(0,null)}}),'Choose origin'):E.div(new Object({style:new Object({marginBottom:'12px'})}),E.span(new Object({className:va(),onClick:function(){e.props.d(0,null)}}),'Change origin'),' or ',E.span(new Object({className:va(),onClick:function(){e.props.d(1,null)}}),'clear it')),E.div(null,e._renderOriginItem(a,b,c),d)};H.render=function(){var a=t(function(b){b.a.a.width='100%'});return E.div(new Object({className:a}),this._renderPositionItem(),this._renderOriginControls())};ad.PropertyItem=function(){React.Component.call(this)};xc(ad.PropertyItem,React.Component);H=ad.PropertyItem.prototype;H.displayName=function(){return'PropertyItem'};H.render=function(){return E.div(new Object({className:Vb()}),E.span(new Object({}),this.props.a),E.span(new Object({className:Ub()}),
this.props.b))};ad.InspectorView=function(){React.Component.call(this)};xc(ad.InspectorView,React.Component);H=ad.InspectorView.prototype;H.displayName=function(){return'InspectorView'};H.render=function(){var a=this.props.e.a,b=y(a.f),c=la(b.a).length,d='0 nodes selected';d=c^1?c+' nodes selected':'1 node selected';var e=E.div(new Object({className:Xb()}),React.createElement(new ad.PropertyItem().constructor,new Object(new cd(d,null)),[])),f=null;return la(y(a.f).a).length>0&&(f=React.createElement(new ad.PositionControls().constructor,new Object(this.props),[])),E.div(new Object({className:Wb()}),e,f)};ad.ToolbarView=function(){React.Component.call(this)};xc(ad.ToolbarView,React.Component);H=ad.ToolbarView.prototype;H.displayName=function(){return'ToolbarView'};H.render=function(){for(var a=t(function(b){b.a.a.width=b.a.a.height='100%'}),c=[],e=0,f=[1,2,3],g=f.length;e<g;e=e+1|0){var d=f[e];c.push(this._renderTool(d))}return E.div(new Object({className:a}),c)};H._renderTool=function(a){var d=this,b=t(function(c){
a^d.props.c?(c.a.a['background-color']=s(Qa),c.c.a['background-color']=s(Yb),c.b.a['background-color']=s(rc)):c.a.a['background-color']=s(Yb),c.a.a['background-image']="url('"+Sb(a)+"')",c.a.a['background-position']='center',c.a.a['background-repeat']='no-repeat',c.a.a.width=c.a.a.height='54px'});return E.div(new Object({key:'tool-button-'+vc[a],className:b,onClick:function(){d.props.d(6,a)}}))};ad.GraphAppView=function(){React.Component.call(this)};xc(ad.GraphAppView,React.Component);H=ad.GraphAppView.prototype;H.displayName=function(){return'GraphAppView'};H.render=function(){var a=t(function(b){b.a.a.width=b.a.a.height='100%',b.a.a.overflow='hidden',b.a.a['font-family']="'Gill Sans', 'Gill Sans MT', Calibri, sans-serif",b.a.a.color='#444',b.a.a.display='flex',b.a.a['flex-direction']='column'}),c=t(function(d){d.a.a.width=d.a.a.height='100%',d.a.a.display='flex'}),e=t(function(f){f.a.a.width='54px',f.a.a.height='100%',f.a.a['background-color']=s(Qa),f.a.a['border-right']='1px solid '+s(_a)}),g=t(function(h){
h.a.a.width=h.a.a.height='100%',h.a.a['background-color']='white'}),k=t(function(n){n.a.a.width='216px',n.a.a.height='100%',n.a.a['background-color']=s(Qa),n.a.a['border-left']='1px solid '+s(_a)});return E.div(new Object({className:a}),this._renderTopBar(),E.div(new Object({className:c}),E.div(new Object({className:e}),React.createElement(new ad.ToolbarView().constructor,this.props)),E.div(new Object({className:g}),this._renderCanvas()),E.div(new Object({className:k}),React.createElement(new ad.InspectorView().constructor,this.props))))};H._renderTopBar=function(){var a=t(function(b){b.a.a.width='100%',b.a.a.height='36px',b.a.a['border-bottom']='1px solid '+s(_a),b.a.a['text-align']='center',b.a.a['line-height']='36px',b.a.a['font-size']='12px',b.a.a['letter-spacing']='1.1px'});return E.div(new Object({className:a+' '+ib(this.props.e)}),this.props.b)};H._renderCanvas=function(){var e=this,a=function(b){b&&b.appendChild(e.props.a)},c=t(function(d){d.a.a.width=d.a.a.height='100%'});return E.div(new Object({ref:a,
className:c}))};function Tc(a){this.b=this.c=null,this.a=a,this.b=Xa(a)}function Uc(a){this.b=null,this.a=a,this.b=Xa(this.a)}function bd(a,b,c,d,e){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e}function cd(a,b){this.a=a,this.b=b}var E=React.DOM,Za=-1,Qa=C(15921906),rc=C(16316664),Yb=C(14737632),_a=C(12434877),$a=C(6710886),sc=C(10066329),ac=C(9391359),bc=C(2525183),tc=C(10540785),fa=C(7327639),cc=C(16777215),Ba=null,Va=u(u(ia(null),'flex',['-webkit-flex']),'flex-direction',['-webkit-flex-direction']),ab={},bb={},uc=['CHOOSE_ORIGIN_FOR_SELECTION','CLEAR_ORIGIN_FOR_SELECTION','SET_ORIGIN_FOR_SELECTION','DELETE_SELECTION','REMOVE_TEMPORARY_BEHAVIORS','SET_TEMPORARY_BEHAVIORS','SET_TOOL','SET_TOP_BAR_TEXT','SET_SELECTION'],vc=['NONE','MOVE','EDGE','CIRCLE'];Bc()})();
