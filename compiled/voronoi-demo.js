(function(){var F=Object.create||function(a){return{__proto__:a}};function Mb(a,b){a.prototype=F(b.prototype),a.prototype.constructor=a}var Nb=Math.imul||function(a,b){return (a*(b>>>16)<<16)+a*(b&65535)|0};var ka;function qa(a,b){return a-b*Math.floor(a/b)}function bb(a,b){var c=[];for(c.push(a);c.length;){var d=c.shift();if(b(d)==1)return;for(var e=0,g=d.b,h=g.length;e<h;e=e+1|0){var f=g[e];c.push(f)}}}function za(a,b){a.width=a.height=b*window.devicePixelRatio|0,a.style.width=a.style.height=b+'px'}function s(a,b){return a.c.width=a.c.height=b*window.devicePixelRatio|0,a.d.a.width=a.d.a.height=b+'px',a}function Aa(a){a.innerHTML='',a.textContent="Demo disabled. Couldn't enable WebGL."}function M(a,b){try{b()}catch(c){Aa(a)}}function db(a){var e,f,b=s((f=new fc,f.d=Ba,f),256),c=s(new fc,256);a.appendChild(n((e=new dc,e.d=T,k(e,b),k(e,c),e)));var d=null;M(a,function(){d=new uc(c.c)}),d&&new ic(b.c,c.c,function(){I(d,b.c,new vc)})}function eb(a){var g,e,b=s((e=new fc,e.d=Ba,e),256),c=s(new fc,256);a.appendChild(n((g=new dc,
g.d=T,k(g,b),k(g,c),g)));var d=null;M(a,function(){d=new uc(c.c)}),d&&new kc(b.c,c.c,function(){var f=new vc;f.a=!0,I(d,b.c,f)})}function fb(a){var p,l,i,h,b=new Wb(['width','height','position','top','left'],['100%','100%','absolute','0','0']),c=s((h=new fc,h.d=b,h),256),d=(i=new gc,i.f='eye',i.c.src='/images/eye.jpg',i.d=b,i),f=s(new fc,256);a.appendChild(n((l=new dc,l.d=T,k(l,(p=new dc,p.d=new Wb(['display','position','width','height'],['inline-block','relative','256px','256px']),k(p,d),k(p,c),p)),k(l,f),l)));var e=null;M(a,function(){e=new uc(f.c)}),e&&(d.c.onload=function(){new qc(c.c,f.c,d.c,function(g){I(e,g.d,new vc)})})}function gb(a){var i,h,g,b=new Wb(['margin-top','display','margin'],['20px','block','20px auto']);Z(b,Ka);var c=new Wb(['width','display'],['226px','inline-block']),d=s(new fc,256),f=(g=new dc,g.d=b,g),e=(h=new dc,h.d=c,h);a.appendChild(n((i=new dc,i.d=T,k(i,d),k(i,f),k(i,e),i))),new lc(d.c,256,16,n(f),n(e))}function hb(a){var i,h,g,e,f,d,b=new Wb(['display','text-align','width'],['inline-block',
'left','256px']);Z(b,Ka);var c=(d=new dc,d.d=T,k(d,s((f=new fc,f.e='input-canvas',f.d=Ba,f),256)),k(d,s((e=new fc,e.e='output-canvas',e),256)),k(d,(g=new dc,g.d=new Wb(['margin-top'],['20px']),k(g,(h=new dc,h.e='label',h.d=b,h)),k(g,(i=new dc,i.e='slider',i.d=new Wb(['width','display'],['226px','inline-block']),i)),g)),d);a.appendChild(n(c)),new sc(n(D(c,'input-canvas')),n(D(c,'output-canvas')),256,n(D(c,'label')),n(D(c,'slider')),function(){Aa(a)})}function ib(a){var g,e,b=s((e=new fc,e.d=Ba,e),256),c=s(new fc,256);a.appendChild(n((g=new dc,g.d=T,k(g,b),k(g,c),g)));var d=null;M(a,function(){d=new uc(c.c)}),d&&new kc(b.c,c.c,function(){var f=new vc;f.a=!0,f.d=1,I(d,b.c,f)})}function jb(a){var y,j,o,p,l,i,h,g,b=new Wb(['display','text-align','width','margin-right'],['inline-block','right','55px','40px']);Z(b,Ka);var c=new Wb(['display','width'],['inline-block','226px']),d=new Wb(['margin'],['20px auto']),f=(g=new dc,g.d=T,k(g,s((h=new fc,h.e='output-canvas',h),256)),k(g,(i=new dc,i.d=d,k(i,(l=new ec,l.d=b,l.c.textContent='Spread',
l)),k(i,(p=new dc,p.e='spread-slider',p.d=c,p)),i)),k(g,(o=new dc,o.d=d,k(o,(j=new ec,j.d=b,j.c.textContent='Blur',j)),k(o,(y=new dc,y.e='blur-slider',y.d=c,y)),o)),g);a.appendChild(n(f));var e=n(D(f,'output-canvas'));t(e).scale(window.devicePixelRatio,window.devicePixelRatio),new rc(a,256,e,n(D(f,'spread-slider')),n(D(f,'blur-slider')))}function hc(){x(window,'load',function(){db(document.getElementById('paint-demo-container')),eb(document.getElementById('fish-demo-container')),fb(document.getElementById('photo-demo-container')),gb(document.getElementById('jfa-pattern-demo-container')),hb(document.getElementById('slider-demo-container')),ib(document.getElementById('distance-demo-container')),jb(document.getElementById('shadow-demo-container'))})}function Ab(a){return a!=0&&(a&a-1)==0}function Pa(a){var b=a.getBoundingClientRect();return b.bottom>-1&&b.right>-1&&b.top<=window.innerHeight&&b.left<=window.innerWidth}function ma(a,b){var c=null,d=function(){if(Pa(a)){var f=new Date,e=c?+f-+c:1/30;b(e),c=f}requestAnimationFrame(d)};
requestAnimationFrame(d)}function U(a){return new Float32Array([a.a,a.b,a.c,a.d])}function z(a){return 'rgba('+(a.a*255|0)+', '+(a.b*255|0)+', '+(a.c*255|0)+', '+a.d+')'}function q(a){return new Ob((a>>16&255)/255,(a>>8&255)/255,(a&255)/255,1)}function V(a){a.b?a.b.stopPropagation():a.c.stopPropagation()}function W(a){return a.b?a.b.target:a.c.target}function m(c){var a=W(c).getBoundingClientRect(),b=null;return b=c.b?new Xb(c.b.clientX,c.b.clientY):new Xb(ha(c.c.touches)[0].clientX,ha(c.c.touches)[0].clientY),r(b,new Xb(a.left,a.top))}function v(i,a){x(a,'mousedown',function(b){na(i,new Pb(i,b,null)),E(b)}),x(a,'mousemove',function(c){oa(i,new Pb(i,c,null)),E(c)}),x(a,'mouseup',function(d){X(i,new Pb(i,d,null)),E(d)}),x(a,'mouseleave',function(f){X(i,new Pb(i,f,null)),E(f)}),x(a,'touchstart',function(e){na(i,new Pb(i,null,e)),E(e)}),x(a,'touchmove',function(g){oa(i,new Pb(i,null,g)),E(g)}),x(a,'touchend',function(h){X(i,new Pb(i,null,h)),E(h)})}function na(c,a){for(var d=0,f=c.a,e=f.length;d<e;d=d+1|0){var b=f[d];
b.La(a)}}function X(c,a){for(var d=0,f=c.a,e=f.length;d<e;d=d+1|0){var b=f[d];b.Na(a)}}function oa(c,a){for(var d=0,f=c.a,e=f.length;d<e;d=d+1|0){var b=f[d];b.Ma(a)}}function Y(c,a,b){c.c=r(a,c.b),c.d&&c.d(b)}function pa(b,a){a.beginPath(),a.rect(b.a.a-(b.b/2|0)|0,b.a.b-(b.b/2|0)|0,b.b,b.b),a.fillStyle=z(b.c),a.fill(),a.closePath()}function Sa(d,a){la(d.a,function(b,c){a.style[b]=c})}function Z(d,a){return la(a.a,function(b,c){d.a[b]=c}),d}function _(a){return new Xb(a.a,a.b)}function ra(b,a){return new Xb(b.a+a.a,b.b+a.b)}function r(b,a){return new Xb(b.a-a.a,b.b-a.b)}function Ta(b,a){return new Xb(b.a-a,b.b-a)}function sa(b,a){return new Xb(b.a*a,b.b*a)}function K(b,a){return new Xb(b.a/a,b.b/a)}function $(b,a){b.a+=a.a,b.b+=a.b}function Ua(b,a){b.a=qa(b.a,a.a),b.b=qa(b.b,a.b)}function Va(b,a){b.a*=a,b.b*=a}function Wa(b,a){return new Xb(b.a*Math.cos(a)-b.b*Math.sin(a),b.b*Math.cos(a)+b.a*Math.sin(a))}function Xa(a){return K(a,B(a))}function Ya(a){return Math.atan2(a.b,a.a)}function B(a){return Math.sqrt(a.a*a.a+a.b*a.b)}
function ta(d,a,b){var c=d.a.createShader(a);if(d.a.shaderSource(c,b),d.a.compileShader(c),!d.a.getShaderParameter(c,35713)){console.error(d.a.getShaderInfoLog(c));throw new Error('Failed to create shader')}return c}function G(a){return a.a.useProgram(a.b),a}function w(d,a,b){var c=aa(d,a);return d.a.uniform1i(c,b),d}function ua(d,a,b){var c=aa(d,a);return d.a.uniform1f(c,b),d}function A(d,a,b){var c=aa(d,a);if(b.length^2){if(b.length^3){if(b.length^4)throw new Error('Invalid size of value: '+b.length);else d.a.uniform4fv(c,b)}else d.a.uniform3fv(c,b)}else d.a.uniform2fv(c,b);return d}function H(e,a,b,c,d){var f=Za(e,a);return va(b),e.a.enableVertexAttribArray(f),e.a.vertexAttribPointer(f,c,5126,!1,d,0),e}function Za(b,a){return a in b.d||(b.d[a]=b.a.getAttribLocation(b.b,a)),b.d[a]}function aa(b,a){return a in b.c||(b.c[a]=b.a.getUniformLocation(b.b,a)),b.c[a]}function va(a){a.a.bindBuffer(a.c,a.b)}function _a(c,a,b){va(c),c.d^a.byteLength?(c.a.bufferData(c.c,a,b),c.d=a.byteLength):c.a.bufferSubData(c.c,0,a)}
function $a(a){return new $b(a,a.createFramebuffer())}function wa(a){a.a.bindFramebuffer(36160,a.b)}function L(b,a){wa(b),b.a.framebufferTexture2D(36160,36064,3553,a.c,0)}function ab(a){return new ac(a.a,a.b,a.c,a.d,a.f)}function ba(a){a.a.bindTexture(3553,a.c)}function C(b,a){b.a.activeTexture(33984+a),ba(b)}function Q(c,a,b){ba(c),c.a.texImage2D(3553,0,c.b.b,a,b,0,c.b.b,c.b.f,null)}function xa(b,a){ba(b),b.a.texImage2D(3553,0,b.b.b,b.b.b,b.b.f,a)}function n(a){return ya(a),a.c}function ya(b){Sa(b.d,b.c);for(var c=0,d=b.b,f=d.length;c<f;c=c+1|0){var a=d[c];ya(a)}}function k(b,a){b.b.push(a),b.c.appendChild(a.c)}function D(c,a){return cb(c,function(b){return b.e==a})}function cb(d,a){var b=null;return bb(d,function(c){return a(c)?(b=c,1):0}),b}function ca(d,a){var b=d.a.getBoundingClientRect();if(a.a>0&&a.b>0&&a.a<b.width&&a.b<b.height){var c=new Ob(.5+Math.random()*.4,.2,.3+Math.random()*.5,1);d.c.beginPath(),d.c.rect(a.a-1|0,a.b-1|0,2,2),d.c.fillStyle=z(c),d.c.fill(),d.d&&d.d()}}function kb(){var a=document.createElement('canvas'),b=t(a);
b.clearRect(0,0,a.width,a.height),b.font='60px Baskerville';var c=b.measureText('Voronoi').width;return a.width=Math.round(c)*window.devicePixelRatio|0,a.height=window.devicePixelRatio*60|0,b.scale(window.devicePixelRatio,window.devicePixelRatio),b.font='60px Baskerville',b.fillStyle='#333',b.textBaseline='hanging',b.fillText('Voronoi',0,0),a}function da(b,a){b.d.fillStyle='white',b.d.fillRect(0,0,b.f,b.f),Ca(b,b.d,a),b.l&&b.l()}function Ca(c,a,b){a.drawImage(c.a,b.a,b.b,c.a.width/window.devicePixelRatio,c.a.height/window.devicePixelRatio)}function mb(b){ma(b.a,function(a){nb(b,a)})}function nb(h,a){var b=a/1000,c=h.a.getBoundingClientRect();h.c.clearRect(0,0,c.width,c.height);for(var d=1,l=h.e.length;d<l;d=d+1|0){var f=h.e[d];f.a.a+=h.g[d]*b,f.a.b-=h.g[d]*b;for(var e=1,i=h.e.length;e<i;e=e+1|0)d^e&&B(r(f.a,h.e[e].a))<40&&$(f.a,sa(sa(Xa(r(f.a,h.e[e].a)),b),5));Ua(f.a,new Xb(c.width,c.height))}for(var p=0,o=h.e,j=o.length;p<j;p=p+1|0){var g=o[p];pa(g,h.c)}pa(h.h,h.c),h.d&&h.d()}function ob(a){return new nc(a.a,
a.b)}function ea(a,b){if(a<0||a==Math.log2(b))throw new Error(a+' is not a valid round for JFA gridSize '+b);return b/Oa(2,a+1|0)|0}function pb(a,b,c){var d=Math.atan2(c.b-b.b|0,c.a-b.a|0);a.moveTo(b.a,b.b),a.lineTo(c.a,c.b),a.stroke();var f=new Xb(c.a-Math.cos(d-.5235987755982988)*12,c.b-Math.sin(d-.5235987755982988)*12),e=new Xb(c.a-Math.cos(d+.5235987755982988)*12,c.b-Math.sin(d+.5235987755982988)*12);a.beginPath(),a.moveTo(c.a,c.b),a.lineTo(f.a,f.b),a.lineTo(e.a,e.b),a.fill()}function N(c,a){var b=ea(c.g.b,c.b);c.c.textContent='JFA round '+c.g.b+', step length is '+b,a^1&&c.d.a.noUiSlider.set(c.g.b)}function qb(c,a){var b=ob(a);return b.a.a=b.a.a+1|0,b.a.a^c.b||(b.a.a=0,b.a.b=b.a.b+1|0),b.a.b^c.b||(b.a.b=0,b.b=(b.b+1|0)%Math.log2(c.b)|0),b}function R(a){return a.f/a.b|0}function rb(c,a){if(c.i+=a,c.i>100&&(c.i=0,!c.h)){var b=c.g.b;c.g=qb(c,c.g),b^c.g.b&&N(c,0),Da(c)}}function Da(b){var a=t(b.a);a.clearRect(0,0,b.f,b.f),sb(b,a),tb(b,a),ub(b,a)}function sb(f,a){var b=R(f);a.beginPath(),a.lineWidth=1;for(var c=0,e=f.b+1|0;c<e;c=c+1|0)a.moveTo(0,
Nb(b,c)),a.lineTo(f.f,Nb(b,c));for(var d=0,g=f.b+1|0;d<g;d=d+1|0)a.moveTo(Nb(b,d),0),a.lineTo(Nb(b,d),f.f);a.strokeStyle=z(Jb),a.stroke(),a.beginPath(),a.lineWidth=2,a.rect(1,1,f.f-2|0,f.f-2|0),a.strokeStyle=z(Ia),a.stroke()}function tb(h,a){var b=R(h);a.beginPath(),a.rect(Nb(h.g.a.a,b),Nb(h.g.a.b,b),b,b),a.fillStyle=z(Qa),a.fill(),a.beginPath(),a.lineWidth=1,a.strokeStyle=z(Qa);for(var c=ea(h.g.b,h.b),o=0,j=[-c|0,0,c],y=j.length;o<y;o=o+1|0)for(var d=j[o],i=0,l=[-c|0,0,c],p=l.length;i<p;i=i+1|0){var f=l[i],e=h.g.a.a+d|0,g=h.g.a.b+f|0;a.rect(Nb(e,b)+1|0,Nb(g,b)+1|0,b-2|0,b-2|0)}a.stroke()}function ub(o,a){var b=ea(o.g.b,o.b),c=R(o);a.beginPath(),a.lineWidth=1,a.strokeStyle=z(Ia),a.fillStyle=z(Ia);for(var P=0,O=[-b|0,0,b],Ib=O.length;P<Ib;P=P+1|0)for(var d=O[P],j=0,y=[-b|0,0,b],ja=y.length;j<ja;j=j+1|0){var f=y[j];if(d||f){var e=o.g.a.a+d|0,g=o.g.a.b+f|0,h=Nb(e,c),i=Nb(g,c),l=d^-b?d?c:c/2|0:0,p=f^-b?f?c:c/2|0:0;pb(a,new mc(Nb(o.g.a.a,c)+l|0,Nb(o.g.a.b,c)+p|0),new mc(h+(c/2|0)|0,i+(c/2|0)|0))}}}function Ea(d){yb(d.a);
for(var a=Ya(r(d.d,d.f)),f=0,e=d.b,g=e.length;f<g;f=f+1|0){var b=e[f],c=_(b);Va(c,Math.max(B(r(d.f,d.d))/50*2,.5)),c=Wa(c,a),$(c,d.f),vb(d,c)}fa(d),d.a.h(d.a)}function fa(g){var a=g.a.c,b=g.d,c=g.f;a.beginPath(),a.lineWidth=1,a.moveTo(b.a|0,b.b|0),a.lineTo(c.a|0,c.b|0),a.strokeStyle='#A5A3A3',a.stroke();var d='#46C9FF',f='#46C9FF';B(r(g.e,g.d))<10?f=g.c?'#0F86B7':'#ACE7FF':B(r(g.e,g.f))<12&&(d=g.c?'#0F86B7':'#ACE7FF'),a.beginPath(),a.arc(c.a,c.b,6,0,6.283185307179586),a.fillStyle='#FFF',a.fill(),a.lineWidth=2,a.strokeStyle=d,a.stroke();var e=Ta(b,4);a.beginPath(),a.rect(e.a,e.b,8,8),a.fillStyle='#FFF',a.fill(),a.lineWidth=2,a.strokeStyle=f,a.stroke()}function Fa(c,a){switch(c.c.a){case 0:var b=r(c.d,c.f);c.f=m(a),c.d=ra(c.f,b);break;case 1:c.d=m(a);break}Ea(c)}function vb(c,a){var b=c.a.a.getBoundingClientRect().width;a.a>0&&a.b>0&&a.a<b&&a.b<b&&Ga(c.a,a)}function wb(f,a,b,c,d){a.fillStyle=c,xb(f,a,b,d)}function xb(d,a,b,c){a.beginPath(),a.rect(b.a|0,b.b|0,c,c),a.fill()}function yb(b){var a=b.a.getBoundingClientRect();
b.c.clearRect(0,0,a.width,a.height),b.f.clearRect(0,0,b.d.width,b.d.height)}function Ga(b,a){wb(b,b.c,a,'rgba(255, 255, 255, 0.7)',2),b.f.fillStyle=b.g,b.f.beginPath(),b.f.rect(a.a*window.devicePixelRatio|0,a.b*window.devicePixelRatio|0,1,1),b.f.fill()}function S(d){var a=d.d.a.noUiSlider.get(),b=d.f.a.noUiSlider.get(),c=new vc;c.b=U(Kb),c.d=2,c.f=a,c.e=b,I(d.a,d.e,c),d.h.fillStyle='white',d.h.fillRect(0,0,d.c.width/window.devicePixelRatio,d.c.height/window.devicePixelRatio),d.h.drawImage(d.g,0,0,d.c.width/window.devicePixelRatio,d.c.height/window.devicePixelRatio),Ca(d.l,d.h,d.l.g),d.h.strokeStyle='#C5C5C5',d.h.lineWidth=1,d.h.strokeRect(0,0,d.c.width/window.devicePixelRatio,d.c.height/window.devicePixelRatio)}function ga(c,a){c.d.textContent='Show JFA result after round #'+(c.f.a.noUiSlider.get()|0);var b=new vc;b.c=a,I(c.c,c.a,b)}function I(d,a,b){if(Bb(d,a,b.b),b.c<0)Fb(d,b);else{Gb(d,b);for(var c=0,f=b.c;c<f;c=c+1|0)d.ja()}switch(b.d){case 0:Cb(d);break;case 1:Db(d);break;case 2:if(b.f<0)throw new Error('If options.output is .SHADOW, you must set options.shadowSpread');
if(b.e<0)throw new Error('If options.output is .SHADOW, you must set options.shadowBlur');Eb(d,b.f,b.e);break}}function Bb(c,a,b){c.P=a,L(c.y,c.i),xa(c.o,a),C(c.o,0),c.a.a.viewport(0,0,c.b,c.b),A(A(w(H(G(c.c),'G',c.p,2,0),'v',0),'e',new Float32Array([c.b,c.b])),'A',b).a.drawArrays(5,0,4)}function Cb(a){L(a.y,a.j),xa(a.o,a.P),C(a.o,0),C(a.l,1),a.a.a.viewport(0,0,a.b,a.b),A(w(w(H(G(a.f),'G',a.p,2,0),'v',0),'i',1),'e',new Float32Array([a.b,a.b])).a.drawArrays(5,0,4),ia(a)}function Db(a){L(a.y,a.j),C(a.l,0),a.a.a.viewport(0,0,a.b,a.b),A(w(H(G(a.e),'G',a.p,2,0),'i',0),'e',new Float32Array([a.b,a.b])).a.drawArrays(5,0,4),ia(a)}function Eb(c,a,b){L(c.y,c.j),C(c.l,0),c.a.a.viewport(0,0,c.b,c.b),A(ua(ua(A(w(H(G(c.g),'G',c.p,2,0),'i',0),'e',new Float32Array([c.b,c.b])),'F',a),'z',b),'H',new Float32Array([.7,.7,.7,1])).a.drawArrays(5,0,4),ia(c)}function ia(a){wa(a.a.b),C(a.j,0),a.a.a.viewport(0,0,a.O.width,a.O.height),A(w(H(G(a.h),'G',a.p,2,0),'i',0),'e',new Float32Array([a.O.width,a.O.height])).a.drawArrays(5,0,4)}function Fb(c,a){
for(var b=c.b/2|0;b>0;)J(c,b,a),b=b/2|0;J(c,2,a),J(c,1,a)}function Gb(c,a){var b=c.b/2|0;c.ja=function(){b>=1?(J(c,b|0,a),b/=2):b<1&&(J(c,2,a),J(c,1,a))}}function J(c,a,b){L(c.y,c.l),C(c.i,0),c.a.a.viewport(0,0,c.b,c.b),w(A(w(w(H(G(c.d),'G',c.p,2,0),'i',0),'C',a),'e',new Float32Array([c.b,c.b])),'w',b.a?1:0).a.drawArrays(5,0,4),Hb(c)}function Hb(b){var a=b.i;b.i=b.l,b.l=a}function ha(a){for(var b=[],c=0,d=a.length;c<d;c=c+1|0)b.push(a[c]);return b}function x(a,b,c){a.addEventListener(b,c)}function E(a){a.preventDefault()}function u(c,a,b){return c[a]=b,c}function la(c,a){for(var b in c)a(b,c[b])}function Oa(d,a){for(var b=d,c=a<0?0:1;a>0;)a&1&&(c=Nb(c,b)),a>>=1,b=Nb(b,b);return c}function t(a){try{return a.getContext('2d')}catch(b){}return null}function zb(a){try{return a.getContext('webgl')}catch(b){}try{return a.getContext('experimental-webgl')}catch(c){}return null}function Ob(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function Pb(a,b,c){this.a=a,this.b=b,this.c=c}function Qb(a,b,c){this.a=a,this.b=b,this.c=c}
ka=Qb.prototype;ka.La=function(a){this.a&&this.a(a)};ka.Ma=function(a){this.b&&this.b(a)};ka.Na=function(a){this.c&&this.c(a)};function Rb(a){this.a=a}function Sb(){var d=this;d.a=new Rb(!1),x(window,'load',function(){var a=function(){d.a.a=!0},b=function(){d.a.a=!1};document.addEventListener('mousedown',a,!0),document.addEventListener('mouseup',b),document.addEventListener('touchstart',a),document.addEventListener('touchend',b),document.addEventListener('mouseout',function(c){!c.toElement&&!c.relatedTarget&&b()})})}function Tb(){this.a=[]}function Ub(a){this.b=this.c=this.d=null,this.a=a}ka=Ub.prototype;ka.La=function(a){this.a.style.cursor='move',this.b=m(a),Y(this,m(a),0)};ka.Ma=function(a){this.a.style.cursor=new Rb(Ja.a.a).a?'move':null,this.b&&Y(this,m(a),0)};ka.Na=function(a){this.b&&(Y(this,m(a),1),this.b=null),this.a.style.cursor=null};function Vb(a){this.a=a,this.b=2,this.c=new Ob(0,0,1,1)}function Wb(a,b){this.a=F(null);for(var c=0,d=a.length;c<d;c=c+1|0)this.a[a[c]]=b[c]}Wb.Ha=function(){this.a=F(null)};
Wb.Ha.prototype=Wb.prototype;function Xb(a,b){this.a=a,this.b=b}function Yb(a){this.a=this.b=null,this.a=zb(a),this.b=new $b(this.a,null)}function cc(a){this.a=null,this.b=[],this.c=null,this.d=new Wb.Ha,this.f=this.e=null,this.c=document.createElement(a)}function dc(){cc.call(this,'div')}Mb(dc,cc);function ec(){cc.call(this,'span')}Mb(ec,cc);function fc(){cc.call(this,'canvas')}Mb(fc,cc);function gc(){cc.call(this,'img')}Mb(gc,cc);function ic(a,b,c){var g=this;g.a=g.b=g.c=g.d=null,g.f=new Tb,g.a=a,g.b=b,g.d=c,g.c=t(g.a),g.c.scale(window.devicePixelRatio,window.devicePixelRatio),v(g.f,g.a),v(g.f,g.b),g.f.a.push(new Qb(function(d){(W(d)==g.a||W(d)==g.b)&&ca(g,m(d))},null,null)),g.f.a.push(new Qb(null,function(f){new Rb(Ja.a.a).a&&ca(g,m(f))},null));var e=g.a.getBoundingClientRect();ca(g,new Xb(e.width/2|0,e.height/2|0))}function jc(a,b){var e=this;e.a=e.b=e.c=e.d=null,e.f=0,e.e=new Tb,e.g=e.h=e.i=e.l=null,e.b=a,e.c=b,e.a=kb(),e.d=t(e.b),e.d.scale(window.devicePixelRatio,window.devicePixelRatio),e.f=b.getBoundingClientRect().width;
var c=K(new Xb(e.c.width,e.c.height),2),d=K(new Xb(e.a.width,e.a.height),2);e.g=K(r(c,d),window.devicePixelRatio),e.i=_(e.g),v(e.e,e.b),v(e.e,e.c),e.h=new Ub(e.c),e.h.d=function(f){switch(f){case 0:da(e,ra(e.i,e.h.c));break;case 1:$(e.i,e.h.c),da(e,e.i);break}},e.e.a.push(e.h),da(e,e.g)}function kc(a,b,c){var h=this;h.a=h.b=h.c=h.d=null,h.f=12,h.e=[],h.g=[],h.h=null,h.i=new Tb,h.a=a,h.b=b,h.d=c,h.c=t(h.a),h.c.scale(window.devicePixelRatio,window.devicePixelRatio);for(var d=h.a.getBoundingClientRect(),f=1,i=h.f;f<i;f=f+1|0)h.e.push(new Vb(new Xb(Math.random()*d.width,Math.random()*d.height))),h.e[h.e.length-1|0].c=lb[f%lb.length|0],h.g.push(15+Math.random()*8);h.h=new Vb(new Xb(Math.random()*d.width,Math.random()*d.height)),h.h.c=q(16771345),v(h.i,h.a),v(h.i,h.b),h.i.a.push(new Qb(function(e){h.h.a=m(e)},null,null)),h.i.a.push(new Qb(null,function(g){h.h.a=m(g)},null)),mb(h)}function lc(a,b,c,d,f){var j=this;j.b=0,j.c=j.d=null,j.f=0,j.e=j.g=null,j.h=!1,j.i=0,j.a=a,t(j.a).scale(window.devicePixelRatio,window.devicePixelRatio),
j.f=b,j.b=c,j.c=d,j.g=new nc(new mc(0,0),0),ma(a,function(e){rb(j,e)}),j.e=new Tb,v(j.e,a);var g=function(h){j.h=!0;var i=K(m(h),R(j));j.g.a=new mc((i.a|0)-1|0,i.b|0)};j.e.a.push(new Qb(g,null,null)),j.e.a.push(new Qb(null,function(l){new Rb(Ja.a.a).a&&g(l),Da(j)},null)),j.e.a.push(new Qb(null,null,function(p){j.h=!1}));var o=Math.log2(c)-1|0;j.d=new tc(f,u(u(u(F(null),'start',0),'step',1),'range',{min:0,max:o})),j.d.a.noUiSlider.on('start',function(){j.h=!0,j.g.b=j.d.a.noUiSlider.get()|0,N(j,1)}),j.d.a.noUiSlider.on('end',function(){j.g.b=j.d.a.noUiSlider.get()|0,N(j,1),j.h=!1}),j.d.a.noUiSlider.on('slide',function(){j.g.b=j.d.a.noUiSlider.get()|0,N(j,1)}),N(j,0)}function oc(a){this.a=null,this.b=[],this.c=null,this.d=new Xb(0,0),this.f=new Xb(0,0),this.e=new Xb(0,0),this.a=a;var b=this.a.a.getBoundingClientRect(),c=new Xb(b.width,b.height);this.f=new Xb(c.a/2,c.b/2),this.d=_(this.f),this.d.b-=50;for(var d=0;d<20;d=d+1|0)for(var f=Nb(d,d),e=0;e<10;e++){var g=f*Math.cos(e/10*3.141592653589793*2),h=f*Math.sin(e/10*3.141592653589793*2);
g+=Math.random()*30-15,h+=Math.random()*30-15,this.b.push(new Xb(g,h))}Ea(this)}ka=oc.prototype;ka.La=function(a){this.e=m(a);var b=m(a);this.c=B(r(this.d,b))<B(r(this.f,b))?new pc(1):new pc(0),V(a),Fa(this,a)};ka.Ma=function(a){this.e=m(a),this.c?Fa(this,a):fa(this),V(a)};ka.Na=function(a){Ga(this.a,m(a)),this.c=null,this.e=m(a),fa(this),V(a)};function qc(a,b,c,d){this.a=this.b=this.c=this.d=this.f=this.e=this.g=this.h=null,this.i=new Tb,this.a=a,this.b=b,this.e=c,this.h=d,v(this.i,this.a),v(this.i,this.b),this.c=t(this.a),this.c.scale(window.devicePixelRatio,window.devicePixelRatio),this.d=document.createElement('canvas'),this.f=t(this.d),this.d.width=this.a.width,this.d.height=this.a.height;var f=document.createElement('canvas');f.width=this.d.width,f.height=this.d.height,t(f).drawImage(this.e,0,0,this.e.naturalWidth,this.e.naturalHeight,0,0,f.width,f.height),this.g=this.f.createPattern(f,'repeat'),this.i.a.push(new oc(this))}function rc(a,b,c,d,f){var e=this;e.a=e.d=e.f=e.e=e.g=e.h=e.i=e.l=null,e.b=b,e.c=c,
e.e=document.createElement('canvas'),za(e.e,e.b),e.g=document.createElement('canvas'),za(e.g,e.b),e.h=t(e.c),M(a,function(){e.a=new uc(e.g)}),e.a&&(e.l=new jc(e.e,c),e.l.l=function(){S(e)},e.d=new tc(d,u(u(F(null),'start',1),'range',{min:1,max:256})),e.d.a.noUiSlider.on('slide',function(){S(e)}),e.f=new tc(f,u(u(F(null),'start',22),'range',{min:1,max:256})),e.f.a.noUiSlider.on('slide',function(){S(e)}),S(e))}function sc(a,b,c,d,f,e){var h=this;h.b=h.c=h.f=null,h.a=a,h.d=d;try{h.c=new uc(b)}catch(i){e()}var g=Math.log2(c)+1|0;h.f=new tc(f,u(u(u(F(null),'start',g),'step',1),'range',{min:1,max:g})),h.f.a.noUiSlider.on('slide',function(){ga(h,h.f.a.noUiSlider.get()|0)}),new ic(a,b,function(){ga(h,h.f.a.noUiSlider.get()|0)}),ga(h,g)}function tc(a,b){this.a=a,noUiSlider.create(a,b)}function uc(a){if(this.a=null,this.b=0,this.c=this.d=this.f=this.e=this.g=this.h=this.i=this.l=this.p=this.o=this.j=this.y=this.ja=this.P=this.O=null,a.width^a.height)throw new Error('Voronoi canvas parameter must be square. Size is ('+a.width+', '+a.height+')');
if(!Ab(a.width))throw new Error('Voronoi canvas size must be a power of two. Size is '+a.width);if(this.b=a.width,this.O=a,this.a=new Yb(a),!this.a.a)throw new Error('Failed to initialize Wham');this.a.a.disable(2929);var b=this.a.a;b.disable(2929),this.d=new Zb(this.a.a,'precision highp float;\nprecision highp int;\n\nconst vec4 j = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), n = vec4(0.0, 0.0, 1.0, 1.0), o = vec4(0.0, 0.0, 0.0, 1.0), l = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 G;\n\nvoid main() {\n  gl_Position = vec4(G, 0, 1.0);\n}\n','precision highp float;\nprecision highp int;\n\nuniform sampler2D i;\nuniform vec2 e;\nuniform int C;\nuniform bool w;\nconst vec4 j = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), n = vec4(0.0, 0.0, 1.0, 1.0), o = vec4(0.0, 0.0, 0.0, 1.0), l = vec4(1.0, 1.0, 1.0, 1.0);\n\nbool p(const vec2 a, const vec2 b, const vec2 c) {\n  return all(greaterThan(a, b)) && all(lessThan(a, c));\n}\n\nbool r(const vec2 a) {\n  return p(a, vec2(0.0, 0.0), vec2(1.0, 1.0));\n}\n\nvec2 q(const float b) {\n  float a = b;\n  return vec2(floor(a / 100.0), mod(a, 100.0));\n}\n\nfloat f(const vec2 a) {\n  return a.x * 100.0 + a.y;\n}\n\nvec4 s(const vec2 b) {\n  vec2 a = floor(b), c = q(a.x), d = q(a.y);\n  return vec4(c, d) / 255.0;\n}\n\nvec4 x() {\n  return s(vec2(5000.0, 5000.0));\n}\n\nvec2 g(const vec4 b) {\n  vec4 a = b * 255.0;\n  float c = f(a.rg), d = f(a.ba);\n  return vec2(c, d) + vec2(0.5);\n}\n\nbool t(const vec4 a) {\n  vec2 b = g(a);\n  return b.x < 4999.0;\n}\n\nfloat u(vec2 a, vec2 b, vec2 c) {\n  float d = min(abs(a.x - b.x), c.x - abs(a.x - b.x)), h = min(abs(a.y - b.y), c.y - abs(a.y - b.y));\n  return sqrt(d * d + h * h);\n}\n\nvec4 k(const vec4 b, const vec2 y) {\n  vec2 c = (gl_FragCoord.xy + y) / e;\n  vec4 a = texture2D(i, c);\n  a = !r(c) && !w ? x() : a;\n  if (!t(a))\n    return b;\n  else if (!t(b))\n    return a;\n  else {\n    vec2 d = g(b), h = g(a);\n    float D = w ? u(d, gl_FragCoord.xy, e) : distance(d, gl_FragCoord.xy), E = w ? u(h, gl_FragCoord.xy, e) : distance(h, gl_FragCoord.xy);\n    if (D > E)\n      return a;\n  }\n  return b;\n}\n\nvoid main() {\n  vec2 c = gl_FragCoord.xy / e;\n  vec4 a = texture2D(i, c);\n  int b = C;\n  a = k(a, vec2(0, b)), a = k(a, vec2(b, b)), a = k(a, vec2(b, 0)), a = k(a, vec2(b, -b)), a = k(a, vec2(0, -b)), a = k(a, vec2(-b, -b)), a = k(a, vec2(-b, 0)), a = k(a, vec2(-b, b)), gl_FragColor = a;\n}\n'),
this.c=new Zb(this.a.a,'precision highp float;\nprecision highp int;\n\nconst vec4 j = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), n = vec4(0.0, 0.0, 1.0, 1.0), o = vec4(0.0, 0.0, 0.0, 1.0), l = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 G;\n\nvoid main() {\n  gl_Position = vec4(G, 0, 1.0);\n}\n','precision highp float;\nprecision highp int;\n\nuniform sampler2D v;\nuniform vec2 e;\nuniform vec4 A;\nconst vec4 j = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), n = vec4(0.0, 0.0, 1.0, 1.0), o = vec4(0.0, 0.0, 0.0, 1.0), l = vec4(1.0, 1.0, 1.0, 1.0);\n\nbool B(const vec4 a, const vec4 b) {\n  return all(lessThan(abs(a - b), vec4(5e-3)));\n}\n\nvec2 q(const float b) {\n  float a = b;\n  return vec2(floor(a / 100.0), mod(a, 100.0));\n}\n\nvec4 s(const vec2 b) {\n  vec2 a = floor(b), c = q(a.x), d = q(a.y);\n  return vec4(c, d) / 255.0;\n}\n\nvec4 x() {\n  return s(vec2(5000.0, 5000.0));\n}\n\nvoid main() {\n  vec2 a = gl_FragCoord.xy / e, b = vec2(a.x, 1.0 - a.y);\n  vec4 c = texture2D(v, b);\n  gl_FragColor = B(c, A) ? x() : s(gl_FragCoord.xy);\n}\n'),
this.h=new Zb(this.a.a,'precision highp float;\nprecision highp int;\n\nconst vec4 j = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), n = vec4(0.0, 0.0, 1.0, 1.0), o = vec4(0.0, 0.0, 0.0, 1.0), l = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 G;\n\nvoid main() {\n  gl_Position = vec4(G, 0, 1.0);\n}\n','precision highp float;\nprecision highp int;\n\nuniform sampler2D i;\nuniform vec2 e;\nconst vec4 j = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), n = vec4(0.0, 0.0, 1.0, 1.0), o = vec4(0.0, 0.0, 0.0, 1.0), l = vec4(1.0, 1.0, 1.0, 1.0);\n\nvoid main() {\n  vec2 a = gl_FragCoord.xy / e;\n  gl_FragColor = texture2D(i, a);\n}\n'),this.f=new Zb(this.a.a,'precision highp float;\nprecision highp int;\n\nconst vec4 j = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), n = vec4(0.0, 0.0, 1.0, 1.0), o = vec4(0.0, 0.0, 0.0, 1.0), l = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 G;\n\nvoid main() {\n  gl_Position = vec4(G, 0, 1.0);\n}\n','precision highp float;\nprecision highp int;\n\nuniform sampler2D v, i;\nuniform vec2 e;\nconst vec4 j = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), n = vec4(0.0, 0.0, 1.0, 1.0), o = vec4(0.0, 0.0, 0.0, 1.0), l = vec4(1.0, 1.0, 1.0, 1.0);\n\nfloat f(const vec2 a) {\n  return a.x * 100.0 + a.y;\n}\n\nvec2 g(const vec4 b) {\n  vec4 a = b * 255.0;\n  float c = f(a.rg), d = f(a.ba);\n  return vec2(c, d) + vec2(0.5);\n}\n\nbool t(const vec4 a) {\n  vec2 b = g(a);\n  return b.x < 4999.0;\n}\n\nvoid main() {\n  vec2 c = gl_FragCoord.xy / e;\n  vec4 b = texture2D(i, c);\n  if (t(b)) {\n    vec2 a = g(b) / e;\n    a.y = 1.0 - a.y, gl_FragColor = texture2D(v, a);\n  }\n  else\n    gl_FragColor = l;\n}\n'),
this.e=new Zb(this.a.a,'precision highp float;\nprecision highp int;\n\nconst vec4 j = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), n = vec4(0.0, 0.0, 1.0, 1.0), o = vec4(0.0, 0.0, 0.0, 1.0), l = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 G;\n\nvoid main() {\n  gl_Position = vec4(G, 0, 1.0);\n}\n','precision highp float;\nprecision highp int;\n\nuniform sampler2D i;\nuniform vec2 e;\nconst vec4 j = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), n = vec4(0.0, 0.0, 1.0, 1.0), o = vec4(0.0, 0.0, 0.0, 1.0), l = vec4(1.0, 1.0, 1.0, 1.0);\n\nbool p(const vec2 a, const vec2 b, const vec2 c) {\n  return all(greaterThan(a, b)) && all(lessThan(a, c));\n}\n\nbool r(const vec2 a) {\n  return p(a, vec2(0.0, 0.0), vec2(1.0, 1.0));\n}\n\nfloat f(const vec2 a) {\n  return a.x * 100.0 + a.y;\n}\n\nvec2 g(const vec4 b) {\n  vec4 a = b * 255.0;\n  float c = f(a.rg), d = f(a.ba);\n  return vec2(c, d) + vec2(0.5);\n}\n\nfloat u(vec2 a, vec2 b, vec2 c) {\n  float d = min(abs(a.x - b.x), c.x - abs(a.x - b.x)), h = min(abs(a.y - b.y), c.y - abs(a.y - b.y));\n  return sqrt(d * d + h * h);\n}\n\nvoid main() {\n  vec2 b = gl_FragCoord.xy / e;\n  if (!r(b)) {\n    gl_FragColor = j;\n    return;\n  }\n  vec4 c = texture2D(i, b);\n  vec2 d = g(c);\n  float a = u(d, gl_FragCoord.xy, e);\n  a = 1.0 - a / (e.x * 0.5), gl_FragColor = vec4(a, a, a, 1.0);\n}\n'),
this.g=new Zb(this.a.a,'precision highp float;\nprecision highp int;\n\nconst vec4 j = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), n = vec4(0.0, 0.0, 1.0, 1.0), o = vec4(0.0, 0.0, 0.0, 1.0), l = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 G;\n\nvoid main() {\n  gl_Position = vec4(G, 0, 1.0);\n}\n','precision highp float;\nprecision highp int;\n\nuniform sampler2D i;\nuniform vec2 e;\nuniform float F, z;\nuniform vec4 H;\nconst vec4 j = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), n = vec4(0.0, 0.0, 1.0, 1.0), o = vec4(0.0, 0.0, 0.0, 1.0), l = vec4(1.0, 1.0, 1.0, 1.0);\n\nbool p(const vec2 a, const vec2 b, const vec2 c) {\n  return all(greaterThan(a, b)) && all(lessThan(a, c));\n}\n\nbool r(const vec2 a) {\n  return p(a, vec2(0.0, 0.0), vec2(1.0, 1.0));\n}\n\nfloat f(const vec2 a) {\n  return a.x * 100.0 + a.y;\n}\n\nvec2 g(const vec4 b) {\n  vec4 a = b * 255.0;\n  float c = f(a.rg), d = f(a.ba);\n  return vec2(c, d) + vec2(0.5);\n}\n\nvoid main() {\n  vec2 a = gl_FragCoord.xy / e;\n  if (!r(a)) {\n    gl_FragColor = j;\n    return;\n  }\n  vec4 b = texture2D(i, a);\n  vec2 c = g(b);\n  float d = distance(c, gl_FragCoord.xy), h = F - z / 2.0, y = clamp((d - h) / z, 0.0, 1.0);\n  gl_FragColor = mix(H, vec4(0.0), y);\n}\n'),
this.p=new _b(b),_a(this.p,Lb,35044);var c=new ac(b,6408,10497,9728,5121);this.i=new bc(b,c),Q(this.i,this.b,this.b),this.l=new bc(b,c),Q(this.l,this.b,this.b),c=new ac(b,6408,10497,9729,5121),this.j=new bc(b,c),Q(this.j,this.b,this.b),c=new ac(b,6408,10497,9728,5121),this.o=new bc(b,c),Q(this.o,this.b,this.b),this.y=$a(b)}function Zb(a,b,c){if(this.a=this.b=null,this.c=F(null),this.d=F(null),this.a=a,this.b=this.a.createProgram(),this.a.attachShader(this.b,ta(this,35633,b)),this.a.attachShader(this.b,ta(this,35632,c)),this.a.linkProgram(this.b),!this.a.getProgramParameter(this.b,35714))throw new Error(this.a.getProgramInfoLog(this.b))}function _b(a){this.b=null,this.c=0,this.d=-1,this.a=a,this.b=this.a.createBuffer(),this.c=34962}function $b(a,b){this.a=a,this.b=b}function ac(a,b,c,d,f){this.a=a,this.b=b,this.c=c,this.d=d,this.f=f}function bc(a,b){this.b=this.c=null,this.a=a,this.b=ab(b),this.c=this.a.createTexture(),this.a.bindTexture(3553,this.c),this.a.texParameteri(3553,10242,this.b.c),this.a.texParameteri(3553,
10243,this.b.c),this.a.texParameteri(3553,10241,this.b.d),this.a.texParameteri(3553,10240,this.b.d)}function mc(a,b){this.a=a,this.b=b}function nc(a,b){this.a=a,this.b=b}function pc(a){this.a=a}function vc(){this.a=!1,this.b=U(Ra),this.c=-1,this.d=0,this.f=this.e=-1}var Ja=new Sb,Ka=new Wb(['font-family'],["'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Geneva, Verdana, sans-serif"]),T=new Wb(['text-align','margin'],['center','40px auto']),Ba=new Wb(['background-color'],['#F5F5F5']),lb=[q(7051762),q(4814543),q(8428277),q(8305894),q(9011445),q(970239),q(5611513)],Ia=q(6710886),Jb=q(15724527),Qa=q(9391359),Kb=q(16777215),Ra=new Ob(0,0,0,0),Lb=new Float32Array([-1,-1,1,-1,-1,1,1,1]);hc()})();
